;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="2923c558-70b3-17da-85c4-9fcda552b131")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,778917,e=>{"use strict";let t=(0,e.i(475254).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);e.s(["ExternalLink",()=>t],778917)},789145,e=>{"use strict";var t=e.i(52563),s=e.i(619273),a=e.i(954616),l=e.i(266027),i=e.i(912598),r=e.i(601655);e.s(["useDeleteWorkflow",0,({workflowId:e})=>{let{getAccessTokenSilently:s}=(0,t.useAuth0)(),l=(0,i.useQueryClient)();return(0,a.useMutation)({mutationKey:["workflow/delete",e],mutationFn:async(t={templateRun:!1})=>{let a=await s(),i=await (0,r.deleteWorkflowAPI)(e,a);return await l.refetchQueries({queryKey:["workflows"],exact:!1}),t&&t.templateRun&&await l.refetchQueries({queryKey:["workflows/runs"],exact:!1}),i},onSuccess:async()=>{}})},"usePublicWorkflows",0,({searchTerm:e,page:t,pageSize:a,tags:i,selectedTab:n,requireCategory:o},c)=>(0,l.useQuery)({enabled:c?.enabled??!0,queryKey:["publicWorkflows",e,t,a,i,n,o],queryFn:async({signal:s})=>(0,r.getPublicWorkflows)({filter:e,currentPage:t,size:a,currentTags:i,category:n,requireCategory:o,signal:s}),staleTime:3e5,placeholderData:s.keepPreviousData}),"useSimilarWorkflows",0,e=>(0,l.useQuery)({queryKey:["similarWorkflows",e],queryFn:()=>(0,r.getSimilarWorkflowsToWorkflow)({id:e}),enabled:!!e})])},351538,e=>{"use strict";var t=e.i(843476),s=e.i(52563),a=e.i(741452),l=e.i(912598),i=e.i(503116),r=e.i(37727),n=e.i(618566),o=e.i(604570),c=e.i(968673),d=e.i(794527),u=e.i(982926),h=e.i(602246),m=e.i(471512),f=e.i(562920),x=e.i(796610),p=e.i(167881),g=e.i(23750),j=e.i(184762),v=e.i(805387),w=e.i(394073),y=e.i(620949),k=e.i(728442),b=e.i(709557),N=e.i(442706),C=e.i(268580),_=e.i(271645),T=e.i(569074),S=e.i(657688),D=e.i(10708);let $=({imageUrl:e,handleImageUpload:s,uploading:a,disabled:l})=>{let i=(0,_.useRef)(null);return(0,t.jsxs)("div",{className:"flex flex-col gap-2 mb-4",children:[(0,t.jsx)(D.Label,{htmlFor:"image",className:"block mb-2 text-xs text-muted-foreground",children:"Notebook Cover"}),e?(0,t.jsxs)("div",{className:"flex flex-col gap-2 items-center",children:[(0,t.jsx)(S.default,{src:e,alt:"Workflow cover image",className:"object-contain w-full h-auto",width:200,height:200}),(0,t.jsx)(p.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>i.current.click(),disabled:a||l,children:a?"Uploading...":"Change Image"})]}):(0,t.jsxs)(p.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>i.current.click(),disabled:a||l,children:[a?"Uploading...":"Set Cover Image",(0,t.jsx)(T.Upload,{className:"ml-2 w-4 h-4"})]}),(0,t.jsx)("input",{type:"file",ref:i,className:"hidden",accept:"image/*",onChange:s,disabled:l})]})};var P=e.i(88653),M=e.i(824511),U=e.i(970065);let W=({tags:e,handleAddTag:s,handleRemoveTag:a,availableTags:l,disabled:i})=>{let[r,n]=(0,_.useState)(""),[o,c]=(0,_.useState)([]),[d,u]=(0,_.useState)(!1),[h,m]=(0,_.useState)(-1),f=(0,_.useRef)(null);return(0,_.useEffect)(()=>{d?r.trim()?c(l.filter(t=>t.toLowerCase().includes(r.toLowerCase())&&!e?.includes(t)).slice(0,5)):c(l.filter(t=>!e?.includes(t)).slice(0,5)):c([])},[r,l,e,d]),(0,t.jsxs)("div",{className:"flex relative flex-col gap-2",children:[(0,t.jsx)(D.Label,{className:"block mb-2 text-xs text-muted-foreground",children:"Tags"}),e&&(0,t.jsx)("div",{className:"flex flex-row flex-wrap gap-2",children:(0,t.jsx)(P.AnimatePresence,{children:e.map(e=>(0,t.jsxs)(M.m.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.1,ease:"easeOut"},className:"px-2 py-1 text-sm text-yellow-800 bg-yellow-100 rounded-3xl border border-yellow-500 transition-colors duration-200 hover:bg-yellow-200",onClick:t=>{t.stopPropagation(),a(e)},disabled:i,children:[e,(0,t.jsx)("span",{className:"ml-2 text-gray-500 hover:text-gray-700",onClick:t=>{t.stopPropagation(),a(e)},children:"Ã—"})]},e))})}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(g.Input,{ref:f,value:r,onChange:e=>{n(e.target.value),m(-1)},onKeyDown:t=>{if("Enter"===t.key){if(t.preventDefault(),-1!==h)s(o[h]);else if(r.trim()){let t=r.trim().replace(/^['"](.*)['"]$/,"$1").split(",").map(e=>e.trim()).filter(e=>e.length>0).filter(t=>!e?.includes(t));t.length>0&&s(t.join(","))}n(""),c([])}else"ArrowDown"===t.key?m(e=>e<o.length-1?e+1:e):"ArrowUp"===t.key?m(e=>e>0?e-1:e):"Escape"===t.key&&c([])},placeholder:"Add tags (Hit enter after submitting)",className:"text-sm bg-transparent shadow-none text-muted-foreground focus:ring-0",onFocus:()=>u(!0),onBlur:()=>u(!1),disabled:i}),o.length>0&&(0,t.jsx)("div",{className:"absolute flex-wrap items-start justify-center z-[9999] mt-2 w-full bg-white rounded-md border border-gray-200 shadow-lg flex flex-row gap-2 p-2",children:o.map(e=>(0,t.jsx)(U.Card,{className:` rounded-3xl  p-1 !text-sm px-2 cursor-pointer  bg-gray-100 border  transition-colors duration-200 hover:bg-yellow-200 hover:text-yellow-800 hover:border-yellow-500
  
                  `,onMouseDown:e=>e.preventDefault(),onClick:t=>{t.preventDefault(),s(e),n(""),c([]),f.current.focus()},children:e},e))})]})]})};e.s(["default",0,({children:e,subRuns:_,workflowId:T})=>{let S=(0,n.useSearchParams)(),{data:D}=(0,u.useWorkflowQuery)({workflowId:T}),{data:P}=(0,u.useWorkflowSharing)({workflowId:T}),{data:M}=(0,x.useCurrentTeam)(),{data:U}=(0,y.useUserInformation)(),z=U?.id,A=D?.creator?.id===z,B=(0,b.default)(e=>e.isConnected),I=(0,b.default)(e=>e.sendData),{mutateAsync:O,isPending:F}=(0,u.useUpdateWorkflowPlan)({workflowId:T}),L=(0,a.useForm)({defaultValues:D?.plan??{}}),R=S.get("type")||"templates",{teamId:E,groupId:Q}=(0,n.useParams)(),{data:K}=(0,m.useWorkflowCrons)({teamId:E,groupId:Q}),q=K?.find(e=>e?.content_id===D?.id),H=(0,l.useQueryClient)(),{user:G}=(0,s.useAuth0)(),{data:Y}=(0,f.useWorkflowGroupShares)(T),V="viewer"===C.workflowService.getAcessRole(D,P,G,M,Y),X=D?.is_template,J=async e=>{if(!D)return;let t={...D.plan,...e};await O({workflowPlan:t}),await H.refetchQueries({queryKey:(0,h.getWorkflowQueryKey)(T)})},Z=(0,c.useDebouncedCallback)(async e=>{try{await J(e)}catch(e){console.error("Error updating plan:",e)}},3e3),ee=(e,t)=>{if(!D)return;let s=_?["workflows/runs",D.parent_id,E,Q]:(0,m.getListWorkflowsQueryKey)({teamId:E,type:R});H.setQueryData(s,s=>(s||[]).map(s=>s.id!==T?s:{...s,plan:{...s.plan,[e]:t}})),H.setQueryData((0,h.getWorkflowQueryKey)(T),s=>s?{...s,plan:{...s.plan,[e]:t}}:s),B?I("edit",{workflow_id:T,diff:N.diffEngine.diff(D.plan,{...D.plan,[e]:t}),timestamp:new Date().getTime()}):Z({[e]:t})},et=(0,m.useUploadWorkflowImage)(),es=async e=>{let t=e.target?.files?.[0];if(t)try{let e=await et.mutateAsync({file:t,workflowId:T});H.setQueryData((0,h.getWorkflowQueryKey)(T),t=>t?{...t,plan:{...t.plan,image_url:e}}:t),Z({image_url:e})}catch(e){console.error("Error uploading image:",e)}};return(0,t.jsxs)(d.Drawer.Root,{direction:"right",handleOnly:!0,autoFocus:!0,children:[(0,t.jsx)(d.Drawer.Trigger,{asChild:!0,children:e}),(0,t.jsxs)(d.Drawer.Portal,{children:[(0,t.jsx)(d.Drawer.Overlay,{className:"fixed inset-0 bg-black/40 z-50",onClick:e=>e.stopPropagation()}),(0,t.jsx)(d.Drawer.Content,{onClick:e=>e.stopPropagation(),className:"right-2 top-2 bottom-2 fixed outline-none max-w-screen-xs flex overflow-hidden z-50",style:{"--initial-transform":"calc(100% + 8px)",width:"calc(100% - 16px)"},children:(0,t.jsx)("div",{className:" bg-sidesecondary h-full w-full grow flex flex-col border border-input rounded-2xl",children:(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),e.stopPropagation(),L.handleSubmit()},className:"flex flex-col overflow-x-auto w-full h-full",children:[(0,t.jsxs)("div",{className:"inline-flex items-center justify-between p-5",children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)(d.Drawer.Title,{className:"text-2xl font-medium",children:"Notebook Details"}),(0,t.jsx)(v.VisuallyHidden,{children:(0,t.jsx)(d.Drawer.Description,{className:"text-muted-foreground",children:"Manage your notebook"})})]}),(0,t.jsx)(d.Drawer.Close,{asChild:!0,children:(0,t.jsx)(p.Button,{variant:"ghost",className:"p-0 size-7 hover:bg-background text-muted-foreground",children:(0,t.jsx)(r.X,{size:16})})})]}),(0,t.jsxs)("div",{className:"flex flex-col p-5 rounded-b border-t border-input rounded-2xl bg-background gap-4 overflow-auto",children:[w.FEATURE_FLAGS.NOTEBOOK_CRONS&&(q||A)&&X&&(0,t.jsx)(k.default,{workflow:D,children:(0,t.jsxs)(p.Button,{onClick:e=>{e.stopPropagation(),o.posthog.capture("workflow_schedule_button_clicked")},className:"gap-1",variant:"outline",children:[(0,t.jsx)(i.Clock,{className:"size-4 flex-shrink-0"}),"Set recurring schedule"]})}),(0,t.jsx)(L.Field,{name:"name",children:e=>(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm",children:"Name"}),(0,t.jsx)(g.Input,{disabled:V||F,name:e.name,value:e.state.value??"",onBlur:e.handleBlur,onChange:t=>{e.handleChange(t.target.value),ee("name",t.target.value)},placeholder:"Untitled Workflow",className:"mr-2"})]})}),(0,t.jsx)(L.Field,{name:"description",children:e=>(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm",children:"Description"}),(0,t.jsx)(j.Textarea,{rows:8,disabled:V||F,name:e.name,value:e.state.value??"",onBlur:e.handleBlur,onChange:t=>{e.handleChange(t.target.value),ee("description",t.target.value)},placeholder:"No description",className:"mr-2"})]})}),(0,t.jsx)(L.Field,{name:"conversation_instructions",children:e=>(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm",children:"Custom Instructions"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Custom instructions to be given to Julius when running the notebook."})]}),(0,t.jsx)(j.Textarea,{disabled:V||F,name:e.name,value:e.state.value??"",onBlur:e.handleBlur,onChange:t=>{e.handleChange(t.target.value),ee("conversation_instructions",t.target.value)},className:"mr-2",rows:5})]})}),(0,t.jsx)(L.Field,{name:"tags",children:e=>{let s=e.state.value??[];return(0,t.jsx)("div",{children:(0,t.jsx)(W,{availableTags:[],tags:s,handleAddTag:t=>{let a=[...s,...t.includes(",")?t.split(","):[t]];e.handleChange(a),Z({tags:a})},handleRemoveTag:t=>{let a=s.filter(e=>e!==t);e.handleChange(a),Z({tags:a})},disabled:V})})}}),(0,t.jsx)(L.Field,{name:"image_url",children:e=>(0,t.jsx)("div",{children:(0,t.jsx)($,{imageUrl:e.state.value,handleImageUpload:es,uploading:et.isPending,disabled:V})})})]})]})})})]})]})}],351538)},768528,e=>{"use strict";var t=e.i(843476),s=e.i(271645);e.s(["default",0,({children:e,title:a,role:l})=>{let i=(0,s.useMemo)(()=>{let e=(a??"").split(" ").map(e=>e.at(0)??"").join("").toUpperCase().slice(0,2);return(0,t.jsx)("div",{className:"flex-shrink-0 justify-center items-center w-8 h-8 rounded-full flex bg-primary",children:(0,t.jsx)("span",{className:"text-center text-xs text-white",style:{lineHeight:"normal"},"data-cy":"julius-avatar",children:e})})},[a]);return(0,t.jsxs)("div",{className:"flex flex-row justify-between items-center hover:bg-sidesecondary py-2 px-3 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex flex-row gap-3 items-center",children:[i,(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-sm",children:a}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground font-light capitalize",children:l})]})]}),e]})}])},612329,e=>{"use strict";let t=(0,e.i(475254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["default",()=>t])},727612,e=>{"use strict";var t=e.i(612329);e.s(["Trash2",()=>t.default])},786108,e=>{"use strict";let t=(0,e.i(475254).default)("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);e.s(["default",()=>t])},655900,e=>{"use strict";var t=e.i(399219);e.s(["ChevronUp",()=>t.default])},871689,e=>{"use strict";let t=(0,e.i(475254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],871689)},759875,e=>{"use strict";var t=e.i(843476),s=e.i(871689),a=e.i(463059),l=e.i(522016),i=e.i(618566),r=e.i(167881),n=e.i(647163);function o({heading:e,subheading:o,linkText:c,linkHref:d,breadcrumbs:u,hasBackButton:h=!1,className:m,children:f}){let x=(0,i.useRouter)();return(0,t.jsxs)("header",{className:(0,n.cn)("flex flex-row w-full justify-between items-center",m),children:[(0,t.jsxs)("div",{className:"flex flex-col flex-1 space-y-1",children:[h&&(0,t.jsxs)(r.Button,{variant:"ghost",className:"gap-2 w-fit font-normal text-muted-foreground h-4 px-0",onClick:()=>x.back(),children:[(0,t.jsx)(s.ArrowLeft,{className:"w-4 h-4 shrink-0"}),(0,t.jsx)("span",{children:"Back"})]}),u&&(0,t.jsx)("div",{className:"flex flex-row items-center gap-2 text-sm",children:u.map(e=>(0,t.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[e.onClick?(0,t.jsx)(r.Button,{variant:"ghost",className:(0,n.cn)("text-foreground h-4 px-0",e.index<u.length-1&&"font-normal text-muted-foreground"),onClick:e.onClick,children:(0,t.jsx)("span",{children:e.name})}):e.href?(0,t.jsx)(l.default,{href:e.href,onClick:e.onClick,className:(0,n.cn)("text-foreground h-4 px-0",e.index<u.length-1&&"font-normal text-muted-foreground"),children:(0,t.jsx)("span",{children:e.name})}):(0,t.jsx)("div",{className:(0,n.cn)("flex items-center text-foreground h-4 px-0",e.index<u.length-1&&"font-normal text-muted-foreground"),children:(0,t.jsx)("span",{children:e.name})}),e.index<u.length-1&&(0,t.jsx)(a.ChevronRight,{className:"w-4 h-4 shrink-0 text-muted-foreground"})]},e.index))}),e&&("string"==typeof e?(0,t.jsx)("h1",{className:"-mb-1 text-card-foreground text-xl font-semibold tracking-[-0.02em]",children:e}):(0,t.jsx)("div",{className:"-mb-1 text-card-foreground text-xl font-semibold tracking-[-0.02em]",children:e})),o&&(0,t.jsx)("p",{className:"text-muted-foreground text-sm tracking-[-0.02em] leading-[1.4em]",children:o}),c&&d&&(0,t.jsx)(l.default,{href:d,className:"text-sm text-muted-foreground underline",children:c})]}),f]})}e.s(["default",()=>o])},472856,(e,t,s)=>{e.e,t.exports=function(e,t,s){e=e||{};var a=t.prototype,l={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function i(e,t,s,l){return a.fromToBase(e,t,s,l)}s.en.relativeTime=l,a.fromToBase=function(t,a,i,r,n){for(var o,c,d,u=i.$locale().relativeTime||l,h=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],m=h.length,f=0;f<m;f+=1){var x=h[f];x.d&&(o=r?s(t).diff(i,x.d,!0):i.diff(t,x.d,!0));var p=(e.rounding||Math.round)(Math.abs(o));if(d=o>0,p<=x.r||!x.r){p<=1&&f>0&&(x=h[f-1]);var g=u[x.l];n&&(p=n(""+p)),c="string"==typeof g?g.replace("%d",p):g(p,a,x.l,d);break}}if(a)return c;var j=d?u.future:u.past;return"function"==typeof j?j(c):j.replace("%s",c)},a.to=function(e,t){return i(e,t,this,!0)},a.from=function(e,t){return i(e,t,this)};var r=function(e){return e.$u?s.utc():s()};a.toNow=function(e){return this.to(r(this),e)},a.fromNow=function(e){return this.from(r(this),e)}}},895751,(e,t,s)=>{e.e,t.exports=function(){"use strict";var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,s=/([+-]|\d\d)/g;return function(a,l,i){var r=l.prototype;i.utc=function(e){var t={date:e,utc:!0,args:arguments};return new l(t)},r.utc=function(t){var s=i(this.toDate(),{locale:this.$L,utc:!0});return t?s.add(this.utcOffset(),e):s},r.local=function(){return i(this.toDate(),{locale:this.$L,utc:!1})};var n=r.parse;r.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),n.call(this,e)};var o=r.init;r.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else o.call(this)};var c=r.utcOffset;r.utcOffset=function(a,l){var i=this.$utils().u;if(i(a))return this.$u?0:i(this.$offset)?c.call(this):this.$offset;if("string"==typeof a&&null===(a=function(e){void 0===e&&(e="");var a=e.match(t);if(!a)return null;var l=(""+a[0]).match(s)||["-",0,0],i=l[0],r=60*l[1]+ +l[2];return 0===r?0:"+"===i?r:-r}(a)))return this;var r=16>=Math.abs(a)?60*a:a;if(0===r)return this.utc(l);var n=this.clone();if(l)return n.$offset=r,n.$u=!1,n;var o=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(n=this.local().add(r+o,e)).$offset=r,n.$x.$localOffset=o,n};var d=r.format;r.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return d.call(this,t)},r.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},r.isUTC=function(){return!!this.$u},r.toISOString=function(){return this.toDate().toISOString()},r.toString=function(){return this.toDate().toUTCString()};var u=r.toDate;r.toDate=function(e){return"s"===e&&this.$offset?i(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():u.call(this)};var h=r.diff;r.diff=function(e,t,s){if(e&&this.$u===e.$u)return h.call(this,e,t,s);var a=this.local(),l=i(e).local();return h.call(a,l,t,s)}}}()},373884,798031,e=>{"use strict";let t=(0,e.i(475254).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["default",()=>t],798031),e.s(["XCircle",()=>t],373884)},335653,e=>{"use strict";let t=(0,e.i(475254).default)("list-checks",[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]]);e.s(["default",()=>t])},284765,e=>{"use strict";let t=(0,e.i(475254).default)("settings-2",[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);e.s(["Settings2",()=>t],284765)},720274,e=>{"use strict";var t=e.i(843476),s=e.i(271645),a=e.i(664659),l=e.i(248256),i=e.i(531278),r=e.i(107233),n=e.i(37727),o=e.i(604570),c=e.i(982926),d=e.i(796610),u=e.i(792155),h=e.i(655900),m=e.i(846696),f=e.i(562920),x=e.i(167881),p=e.i(319036);let g=({teamId:e,teamName:l,workflowId:i})=>{let[r,n]=(0,s.useState)(!1),{data:c,isLoading:d}=(0,f.useTeamGroups)(e),{data:u,isLoading:g}=(0,f.useWorkflowGroupShares)(i),j=(0,f.useShareWorkflowWithGroup)(),[v,w]=(0,s.useState)({});(0,s.useEffect)(()=>{u&&w(u.reduce((t,s)=>(s.team_id===e&&(t[s.group_id]=!0),t),{}))},[u,e]);let y=async(t,s)=>{try{t?o.default.capture("share_chat_with_group",{workflow_id:i,team_id:e,group_id:s}):o.default.capture("unshare_chat_with_group",{workflow_id:i,team_id:e,group_id:s}),await j.mutateAsync({workflowId:i,teamId:e,groupId:s,share:t}),w(e=>({...e,[s]:t})),t?m.toast.success("Shared conversation with group"):m.toast.success("Removed conversation from group")}catch(e){m.toast.error("Failed to change group sharing setting"),w(e=>({...e,[s]:!t}))}};return d||g||!c?.length?null:(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[(0,t.jsx)("span",{className:"font-medium",children:l}),(0,t.jsx)(x.Button,{variant:"ghost",size:"sm",onClick:()=>n(!r),className:"h-8 w-8 p-0",children:r?(0,t.jsx)(h.ChevronUp,{className:"h-4 w-4"}):(0,t.jsx)(a.ChevronDown,{className:"h-4 w-4"})})]}),r&&(0,t.jsx)("div",{className:"flex flex-col gap-2 pl-4",children:c.map(e=>(0,t.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:e.name}),(0,t.jsx)(p.Switch,{checked:v[e.id]||!1,onCheckedChange:t=>y(t,e.id)})]},e.id))})]})};var j=e.i(630374),v=e.i(463415),w=e.i(23750),y=e.i(728231),k=e.i(620949),b=e.i(785768),N=e.i(647163);let C=()=>{let[e,a]=(0,s.useState)({screenname:""}),{data:l}=(0,k.useUserPublicProfile)(),{mutate:i,isPending:r,error:n,isError:o,isSuccess:c}=(0,k.useUpdateUserPublicProfile)();return(0,s.useEffect)(()=>{l&&a({screenname:l.screenname})},[l]),(0,t.jsxs)("div",{className:"flex flex-col gap-4 mt-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"screenname",className:"text-sm font-medium",children:"Author Display Name"}),(0,t.jsx)(w.Input,{id:"screenname",name:"screenname",value:e.screenname||l?.screenname,onChange:e=>{a(t=>({...t,screenname:e.target.value}))},placeholder:"Enter a display name visible on your published workflows"})]}),o&&(0,t.jsx)("div",{className:"text-sm text-red-500",children:`${n.error}.`}),c&&(0,t.jsx)("div",{className:"text-sm text-green-500",children:"Profile updated successfully."}),(0,t.jsx)(x.Button,{disabled:r||!e.screenname,onClick:()=>i(e),className:"w-full",children:r?"Saving...":"Save Name"})]})};var _=e.i(768528),T=e.i(618566),S=e.i(268580);let D=({workflowId:e,team:a,...l})=>{let{mutateAsync:i,isPending:r}=(0,c.useShareWorkflow)({workflowId:e}),{data:n,isPending:d}=(0,c.useWorkflowSharing)({workflowId:e}),[u,h]=(0,s.useState)(!1);(0,s.useEffect)(()=>{n&&h(!!n.teams.find(e=>e.team.id===a.id))},[a.id,n]);let m=(0,T.useRouter)(),f=(0,T.usePathname)(),x=async e=>{h(e);try{if(await i({team_id:a.id}),!e&&f.includes("team"))return void m.push(S.workflowService.getWorkflowUrl(void 0,a.id))}catch(t){h(!e)}};return(0,t.jsx)(p.Switch,{disabled:d||r,onCheckedChange:t=>{t&&o.default.capture("share_workflow_with_team",{workflow_id:e,team_id:a.id}),x(t)},...l,checked:u})},$={public:!0,people:!0,team:!0,explore:!0,teamGroup:!0};e.s(["default",0,({workflow:e,children:h,shareTo:m=$})=>{var f;let{data:T}=(0,d.useTeams)(),[S,P]=(0,s.useState)(""),{data:M}=(0,k.useUserInformation)(),{copyToClipboard:U}=(0,b.useCopyToClipboard)({timeout:2e3}),{data:W}=(0,c.useWorkflowSharing)({workflowId:e?.id}),{mutateAsync:z,isPending:A}=(0,c.useShareWorkflow)({workflowId:e?.id}),B=async({email:e})=>{await z({email:e})&&P("")},I=(f=M?.id,!!W&&!!f&&W?.members.find(e=>e.user.id===f)?.role==="owner");return(0,t.jsxs)(j.Dialog,{children:[(0,t.jsx)(j.DialogTrigger,{asChild:!0,children:h}),(0,t.jsxs)(j.DialogContent,{onClick:e=>e.stopPropagation(),className:(0,N.cn)("flex overflow-hidden flex-col w-full sm:max-w-[512px] max-h-[635px] mobile-bottom-dialog","data-[state=open]:animate-slide-in-bottom data-[state=closed]:animate-slide-out-bottom","sm:data-[state=open]:animate-none sm:data-[state=closed]:animate-none","rounded-xl p-0 py-6 gap-0"),children:[(0,t.jsxs)("div",{className:"flex flex-col gap-4 px-6 pb-3",children:[(0,t.jsxs)(j.DialogTitle,{className:"font-sans font-light text-2xl",children:["Share ",`"${e?.plan?.name||"Untitled notebook"}"`]}),m.people&&(0,t.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,t.jsx)(w.Input,{size:"sm",disabled:!I,value:S,placeholder:"Add people",onChange:e=>{P(e.target.value)}}),(0,t.jsx)(x.Button,{size:"sm",type:"submit",disabled:A||!I,onClick:()=>B({email:S}),children:A?(0,t.jsx)(i.Loader2,{className:"animate-spin",size:18}):(0,t.jsx)(r.Plus,{size:18})})]})]}),(0,t.jsxs)("div",{className:"flex flex-col flex-1 overflow-auto gap-6",children:[m.people&&(0,t.jsxs)("div",{className:"flex flex-col px-6 flex-1 gap-2 py-6",children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("h1",{children:"People"}),(0,t.jsx)("span",{className:"text-sm font-light",children:"Anyone can edit"})]}),(0,t.jsx)("div",{className:"flex flex-col max-h-[512px] overflow-auto",children:W?.members.map(e=>(0,t.jsx)(_.default,{role:e.role,title:e.user.email,children:"owner"!==e.role&&(0,t.jsxs)(y.Tooltip,{children:[(0,t.jsx)(y.TooltipTrigger,{asChild:!0,children:(0,t.jsx)(x.Button,{variant:"ghost",size:"icon",disabled:A,onClick:()=>{B({email:e.user.email})},children:(0,t.jsx)(n.X,{size:16})})}),(0,t.jsx)(y.TooltipContent,{children:"Remove access"})]})},e.user.email))})]}),T?.length===0?(0,t.jsxs)("div",{className:"flex flex-col p-3 rounded-lg bg-message border border-border mx-6",children:[(0,t.jsx)("h3",{className:"text-sm font-medium mb-1",children:"Want to collaborate on notebooks?"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Create a team to share notebooks with your colleagues"}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(x.Button,{size:"sm",variant:"outline",className:"w-fit",onClick:()=>window.location.href="/settings/teams",children:"Get started"})})]}):T?.length>0&&(0,t.jsxs)(t.Fragment,{children:[m.team&&(0,t.jsxs)("div",{className:"flex flex-col px-6 flex-1 gap-2",children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("h1",{children:"Teams"}),(0,t.jsx)("span",{className:"text-sm font-light",children:"Anyone on the team can edit"})]}),(0,t.jsx)("div",{className:"flex flex-col max-h-[512px] overflow-auto",children:T?.map(s=>(0,t.jsx)(_.default,{title:s.team_name,role:void 0,children:(0,t.jsx)(D,{disabled:!I,workflowId:e.id,team:s})},s.id))})]}),m?.teamGroup&&(0,t.jsxs)("div",{className:"flex flex-col px-6 flex-1 gap-2",children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("h1",{children:"Team Groups"}),(0,t.jsx)("span",{className:"text-sm font-light",children:"Anyone on the group in the team can edit"})]}),(0,t.jsx)("div",{className:"flex flex-col max-h-[512px] overflow-auto",children:T?.map(s=>(0,t.jsx)(g,{teamId:s?.id,teamName:s?.team_name,workflowId:e.id},s.id))})]})]}),m.public&&(0,t.jsx)("div",{className:"flex flex-col space-y-3",children:(0,t.jsxs)("div",{className:"flex flex-col bg-sidesecondary px-3 py-2 rounded-xl mx-6 gap-2",children:[(0,t.jsxs)("div",{className:"flex flex-row gap-4 justify-between items-center",children:[(0,t.jsx)("div",{className:"flex flex-col gap-2 items-center",children:(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("h1",{children:"Public access"}),(0,t.jsx)("span",{className:"text-sm font-light",children:"Anyone with the link can view"})]})}),(0,t.jsx)(p.Switch,{disabled:A||!I,checked:!!W?.is_public_at,onCheckedChange:e=>z({public:e})})]}),m.explore&&W?.is_public_at&&(0,t.jsxs)("div",{className:"flex flex-col bg-sidesecondary py-2 border-t border-input",children:[(0,t.jsxs)("div",{className:"flex flex-row gap-4 justify-between items-center",children:[(0,t.jsx)("div",{className:"flex flex-col gap-2 items-center",children:(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("h1",{children:"Publish on Explore"}),(0,t.jsx)("span",{className:"text-sm font-light",children:"Anyone can find on the explore page"})]})}),(0,t.jsx)(p.Switch,{disabled:A,checked:!!W?.is_searchable_at,onCheckedChange:e=>z({searchable:e})})]}),!!W?.is_searchable_at&&(0,t.jsx)(C,{})]})]})})]}),(0,t.jsxs)("div",{className:"flex justify-between px-6 mt-3",children:[(0,t.jsx)("div",{className:"flex gap-1",children:(0,t.jsxs)(u.default,{primarySlot:(0,t.jsxs)(y.Tooltip,{children:[(0,t.jsx)(y.TooltipTrigger,{asChild:!0,children:(0,t.jsx)(x.Button,{variant:"ghost",className:"rounded-r-none",onClick:()=>{o.default.capture("workflow:share:public_link"),U(window.location.origin+`/s/notebooks/${e.id}?utm_source=share&utm_campaign=notebooks&utm_medium=referral`)},children:(0,t.jsx)("span",{className:"whitespace-nowrap",children:"Copy Link"})})}),(0,t.jsx)(y.TooltipContent,{children:"Copy share link"})]}),secondarySlot:(0,t.jsxs)("div",{className:"flex gap-1 ",children:[(0,t.jsx)(l.Globe,{size:14,strokeWidth:2}),(0,t.jsx)(a.ChevronDown,{size:14,strokeWidth:2.5})]}),children:[(0,t.jsx)("div",{className:"border-b px-3 py-1 bg-message",children:(0,t.jsx)("span",{className:"text-sm",children:"Share Link"})}),(0,t.jsx)("div",{className:"flex flex-col gap-1 p-2",children:(0,t.jsxs)(v.DropdownMenuItem,{onClick:()=>{o.default.capture("workflow:share:preview_link"),U(window.location.origin+`/notebooks/preview/${e.id}?utm_source=share&utm_campaign=notebooks&utm_medium=referral`)},className:"flex flex-col items-start py-2 h-auto hover:bg-message",children:[(0,t.jsx)("span",{className:"text-sm",children:"Preview Link"}),(0,t.jsxs)("span",{className:"text-muted-foreground",children:["Share a nice preview of the workflow. ",(0,t.jsx)("br",{}),"Suitable for sharing templates."]})]})})]})}),(0,t.jsx)(j.DialogClose,{asChild:!0,children:(0,t.jsx)(x.Button,{size:"sm",className:"px-6",children:"Done"})})]})]})]})}],720274)},255490,e=>{"use strict";var t=e.i(843476),s=e.i(618566),a=e.i(271645),l=e.i(952571),i=e.i(604570),r=e.i(759875),n=e.i(728231),o=e.i(616525),c=e.i(413269),d=e.i(654102),u=e.i(167877),h=e.i(982551);let m=({teamId:e})=>{let m=(0,a.useRef)(null),f=(0,s.useSearchParams)(),{groupId:x}=(0,s.useParams)(),{isCaesar:p}=(0,o.useUserContext)()??{},g=void 0!==e,j=!!(e&&x),v=f.get("type")||"templates";return(0,t.jsxs)("div",{ref:m,className:"flex relative flex-col items-center w-full px-3 bg-background overflow-y-scroll gap-4 h-full bordered-scroll",children:[(0,t.jsxs)("div",{className:"flex flex-shrink-0 flex-col w-full justify-start pt-2 gap-1.5 sticky top-0 z-50 bg-background",children:[(0,t.jsx)(r.default,{heading:g?"Team Notebooks":"Notebooks",children:(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-muted-foreground text-sm tracking-[-0.02em] leading-[1.4em]",children:["Run repeatable analysis",(0,t.jsx)("a",{onClick:()=>{i.default.capture("notebooks_docs_clicked",{action:"learn_how_to_use_notebooks"})},href:"https://julius.ai/docs/notebooks/overview",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-muted-secondary underline",children:(0,t.jsxs)(n.Tooltip,{children:[(0,t.jsx)(n.TooltipTrigger,{asChild:!0,children:(0,t.jsx)(l.Info,{className:"w-3.5 h-3.5"})}),(0,t.jsx)(n.TooltipContent,{children:"Learn how to use Notebooks"})]})})]})}),p&&j&&x&&(0,t.jsx)(c.default,{groupId:x}),(0,t.jsx)(u.default,{})]}),"benchmarks"===v?(0,t.jsx)("div",{className:"w-full",children:(0,t.jsx)(d.default,{})}):(0,t.jsx)(h.default,{teamId:e})]})};e.s(["default",0,()=>{let{teamId:e}=(0,s.useParams)();return(0,t.jsx)(m,{teamId:e})}],255490)},933415,e=>{e.v(t=>Promise.all(["static/chunks/fc4b94840286176a.js","static/chunks/b146b1d03be31155.js","static/chunks/c474b8816c2223a9.js","static/chunks/1b125ffe42bca511.js"].map(t=>e.l(t))).then(()=>t(870738)))},434172,e=>{e.v(t=>Promise.all(["static/chunks/4b8979eec51e0c24.js","static/chunks/d2262e9bfb1b72ed.js"].map(t=>e.l(t))).then(()=>t(7983)))}]);

//# debugId=2923c558-70b3-17da-85c4-9fcda552b131
//# sourceMappingURL=be1538c2f1d9ce59.js.map