;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="cf81a2f5-41ed-a342-9bda-c5247ad21299")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,87194,e=>{e.v({$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1})},268817,e=>{e.v({$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0})},51805,e=>{e.v({$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1})},202524,e=>{e.v({$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0})},864207,(e,t,n)=>{"use strict";t.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;if(Array.isArray(t)){if((s=t.length)!=n.length)return!1;for(r=s;0!=r--;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((s=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=s;0!=r--;)if(!Object.prototype.hasOwnProperty.call(n,a[r]))return!1;for(r=s;0!=r--;){var s,r,a,i=a[r];if(!e(t[i],n[i]))return!1}return!0}return t!=t&&n!=n}},77705,e=>{"use strict";let t=(0,e.i(475254).default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);e.s(["EyeOff",()=>t],77705)},851984,e=>{"use strict";let t={Postgres:"postgres",BigQuery:"bigquery",Snowflake:"snowflake",MySQL:"mysql",SqlServer:"sqlserver",Databricks:"databricks",Vertica:"vertica",Supabase:"supabase","Google Ads":"google-ads","Meta Ads":"meta-ads",MCP:"connecting-an-mcp"};function n(e){if(!e)return;let n=t[e.name];return n?`https://julius.ai/docs/data-connectors/${n}`:void 0}e.s(["getConnectorDocsUrl",()=>n])},948822,e=>{"use strict";var t=e.i(394073);let n=async({accessToken:e,type:n})=>{let s=`${t.BASE_API}/microsoft/oauth/start?type=${n}`,r=await fetch(s,{headers:{Authorization:`Bearer ${e}`}});if(409===r.status)return null;if(!r.ok)throw Error("Failed to fetch Microsoft OneDrive auth URL");return r.json()},s=async(e,n)=>{let s=await fetch(`${t.BASE_API}/microsoft/oauth/token?type=${n}`,{headers:{Authorization:`Bearer ${e}`}});if(409===s.status)return null;if(!s.ok)throw Error("Failed to fetch Microsoft OAuth token");return await s.json()},r=async(e,n,s)=>{let r=await fetch(`${t.BASE_API}/microsoft/files/transfer_to_hub?type=${s}`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},method:"POST",body:JSON.stringify({file:n})});if(!r.ok)throw Error("Failed to transfer Microsoft file to Hub");return r.json()},a=async e=>{let n=await fetch(`${t.BASE_API}/microsoft/oauth/sharepoint_resource_token`,{headers:{Authorization:`Bearer ${e}`}});if(!n.ok)throw Error("Failed to fetch Microsoft SharePoint resource token");return await n.json()},i=async(e,n)=>{let s=await fetch(`${t.BASE_API}/microsoft/oauth/disconnect?type=${n}`,{headers:{Authorization:`Bearer ${e}`},method:"POST"});if(!s.ok)throw Error("Failed to disconnect Microsoft account");return await s.json()};e.s(["disconnectMicrosoftAccount",0,i,"getMicrosoftAuthUrl",0,n,"getMicrosoftOauthToken",0,s,"getMicrosoftSharePointResourceToken",0,a,"transferMicrosoftFileToHub",0,r])},292999,e=>{"use strict";var t=e.i(843476),n=e.i(531278),s=e.i(167881),r=e.i(184762);e.s(["default",0,({customInstructions:e,setCustomInstructions:a,isSaving:i,handleSave:o,existingCustomInstructions:l})=>{let c=e!==(l??"");return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold",children:"Custom Instructions"}),(0,t.jsx)("p",{className:"text-sm",children:"Provide instructions and context about this connection so AI can use it effectively."}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-foreground",children:"Include details like:"}),(0,t.jsxs)("ul",{className:"text-sm space-y-1.5 ml-4 mt-2",children:[(0,t.jsxs)("li",{className:"flex items-start",children:[(0,t.jsx)("span",{className:"mr-2",style:{color:"#64748B"},children:"•"}),(0,t.jsx)("span",{style:{color:"#64748B"},children:"Explain the data source and its purpose"})]}),(0,t.jsxs)("li",{className:"flex items-start",children:[(0,t.jsx)("span",{className:"mr-2",style:{color:"#64748B"},children:"•"}),(0,t.jsxs)("span",{style:{color:"#64748B"},children:["Important tables (e.g., use"," ",(0,t.jsx)("code",{className:"text-xs bg-muted px-1.5 py-0.5 rounded font-mono",children:"product_catalog"})," ","for products)"]})]}),(0,t.jsxs)("li",{className:"flex items-start",children:[(0,t.jsx)("span",{className:"mr-2",style:{color:"#64748B"},children:"•"}),(0,t.jsxs)("span",{style:{color:"#64748B"},children:["Key table relationships (e.g.,"," ",(0,t.jsx)("code",{className:"text-xs bg-muted px-1.5 py-0.5 rounded font-mono",children:"product_catalog.sku = transaction_history.product_sku"}),")"]})]}),(0,t.jsxs)("li",{className:"flex items-start",children:[(0,t.jsx)("span",{className:"mr-2",style:{color:"#64748B"},children:"•"}),(0,t.jsx)("span",{style:{color:"#64748B"},children:"Any business logic notes (e.g., Revenue only counts completed orders)"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("label",{htmlFor:"custom-instructions",className:"text-base font-semibold",children:"Instructions"}),(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:[e.length," characters"]})]}),(0,t.jsx)(r.Textarea,{id:"custom-instructions",value:e,onChange:e=>a(e.target.value),placeholder:"e.g., Always filter data by the current fiscal year, use specific table naming conventions, prioritize certain metrics...",className:"min-h-[200px] resize-none",disabled:i})]}),(0,t.jsx)("div",{className:"flex justify-end gap-2 pt-2",children:(0,t.jsx)(s.Button,{onClick:o,disabled:i||!c,children:i?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Loader2,{className:"w-4 h-4 animate-spin mr-2"})," Saving..."]}):"Save"})})]})}])},755869,e=>{"use strict";var t=e.i(843476),n=e.i(271645),s=e.i(972520),r=e.i(643531),a=e.i(344523),i=e.i(531278),o=e.i(657688),l=e.i(522016),c=e.i(668252),d=e.i(167881),m=e.i(753751),u=e.i(10708),p=e.i(59377),h=e.i(647163);e.s(["default",0,({channelId:e="",channelName:f="",onChannelChange:g,title:x,disabled:y=!1,showImage:j=!0,placeholderForNoChannel:v="Send a report to Slack (optional)",placeholderForNoIntegration:b="Deliver reports and insights right where it matters. Directly to your Slack channel."})=>{let[N,k]=(0,n.useState)(!1),{data:w,isSuccess:S}=(0,c.useSlackIntegration)(),{data:$,isLoading:C}=(0,c.useSlackChannels)(),_=$?.find(t=>t.id===e);return(0,t.jsxs)("div",{className:"flex flex-col gap-2 w-full",children:[(0,t.jsxs)("div",{className:"inline-flex items-center gap-2",children:[C?(0,t.jsx)(i.Loader2,{className:"size-3 animate-spin"}):j&&(0,t.jsx)(o.default,{src:"/slack.svg",alt:"Slack",width:16,height:16}),x&&(0,t.jsx)(u.Label,{className:"text-sm",children:x})]}),S&&w?(0,t.jsxs)(p.Popover,{open:N,onOpenChange:k,children:[(0,t.jsx)(p.PopoverTrigger,{role:"combobox","aria-expanded":N,className:"w-full justify-between",disabled:y||C,asChild:!0,children:(0,t.jsxs)(d.Button,{variant:"outline",size:"default",className:"w-full justify-between",children:[_?.name||v,(0,t.jsx)(a.ChevronsUpDown,{className:"ml-2 size-4 shrink-0 opacity-50"})]})}),(0,t.jsx)(p.PopoverContent,{className:"w-[var(--radix-popover-trigger-width)] p-0 overflow-hidden",onWheel:e=>e.stopPropagation(),children:(0,t.jsxs)(m.Command,{children:[(0,t.jsx)(m.CommandInput,{placeholder:"Search slack channels...",className:"h-9 border-none border-b border-border rounded-t-md rounded-none"}),(0,t.jsxs)(m.CommandList,{className:"max-h-[200px] overflow-y-auto",children:[(0,t.jsx)(m.CommandEmpty,{children:"No channels found."}),(0,t.jsxs)(m.CommandGroup,{children:[(0,t.jsxs)(m.CommandItem,{value:"__clear__",onSelect:()=>{g("",""),k(!1)},children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"No Slack notification"}),(0,t.jsx)(r.Check,{className:(0,h.cn)("ml-auto size-4",e?"opacity-0":"opacity-100")})]}),$&&$.map(n=>(0,t.jsxs)(m.CommandItem,{value:n.name,onSelect:()=>{g(n.id,n.name),k(!1)},children:["#",n.name,(0,t.jsx)(r.Check,{className:(0,h.cn)("ml-auto size-4",e===n.id?"opacity-100":"opacity-0")})]},n.id))]})]})]})})]}):(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:b}),(0,t.jsx)(d.Button,{variant:"outline",asChild:!0,children:(0,t.jsxs)(l.default,{href:"/data-connectors",children:["Add Julius to Slack",(0,t.jsx)(s.ArrowRight,{className:"ml-2 size-4"})]})})]})]})}])},983471,e=>{"use strict";var t=e.i(52563),n=e.i(954616),s=e.i(394073),r=e.i(647163);e.s(["useTestSlackIntegration",0,()=>{let{getAccessTokenSilently:e}=(0,t.useAuth0)();return(0,n.useMutation)({mutationFn:async({slackTeamId:t,channel_id:n})=>{let a=new URLSearchParams;a.set("slack_team_id",t);let i=await e(),o=await (0,r.customFetch)(`${s.BASE_API}/slack/report/onboarding?${a.toString()}`,{method:"POST",headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"},body:JSON.stringify({channel_id:n})});if(!o.ok)throw await o.json();return await o.json()}})}])},998658,598070,726596,290737,38988,78648,386641,e=>{"use strict";var t=e.i(843476),n=e.i(52563),s=e.i(618566),r=e.i(846696),a=e.i(351908),i=e.i(767601),o=e.i(647631),l=e.i(271645),c=e.i(643531),d=e.i(761086),m=e.i(323585),u=e.i(37727),p=e.i(657688),h=e.i(167881),f=e.i(463415),g=e.i(728231),x=e.i(647163);let y=({connectionState:e})=>{let[n,s]=(0,l.useState)(!1),[r,a]=(0,l.useState)(!1);if(!e)return null;let{isConnected:i,isLoading:o,onConnect:m,onDisconnect:p,tooltipContent:f}=e;if(r&&!o||!i&&!o)return null;let x=(0,t.jsx)(h.Button,{size:"sm",variant:o?"outline":n?"secondary":"primary-light",className:"text-2xs px-1.5 py-0.5 rounded-full font-medium w-fit h-fit",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onClick:e=>{e.stopPropagation(),i&&n&&p?(a(!0),p()):!i&&m&&m()},children:o?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.Loader,{className:"w-3 h-3 animate-spin mr-1"}),"Disconnecting"]}):i?n?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.X,{className:"w-3 h-3 mr-1"}),"Disconnect"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Check,{className:"w-3 h-3 mr-1"}),"Connected"]}):null});return f&&i&&!o?(0,t.jsxs)(g.Tooltip,{children:[(0,t.jsx)(g.TooltipTrigger,{asChild:!0,children:x}),(0,t.jsx)(g.TooltipContent,{side:"bottom",className:"max-w-sm",children:f})]}):x},j=({onClick:e,icon:n,title:s,badge:r,description:a,categories:i,tools:o,connectionState:c,menuItems:u,loading:j,className:v})=>{let b=(0,l.useMemo)(()=>{let e=i?Array.isArray(i)?i:[i]:[];return"MCP"===s&&(0!==(e=e.map(e=>"Database"===e?"Integration":e)).length&&e.includes("Integration")||e.push("Integration")),e},[i,s]);return(0,t.jsx)("div",{className:(0,x.cn)("bg-surface-1 rounded-lg shadow-ring-sm flex flex-col overflow-hidden h-full active:scale-95 transition-all duration-100 interactive min-h-[106px]",e&&"cursor-pointer",v),onClick:e,children:(0,t.jsx)("div",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-start justify-between w-full",children:[(0,t.jsxs)("div",{className:(0,x.cn)("flex gap-3 items-start",u?"flex-1":"w-full"),children:[(0,t.jsx)(p.default,{src:n.src,alt:n.alt,width:40,height:40,className:"h-10 w-10 object-contain flex-shrink-0 mt-1 dark:hidden"}),(0,t.jsx)(p.default,{src:n.darkSrc??n.src,alt:n.alt,width:40,height:40,className:"h-10 w-10 object-contain flex-shrink-0 mt-1 hidden dark:block"}),(0,t.jsxs)("div",{className:"flex flex-col gap-0 min-w-0 w-full",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-foreground tracking-[-0.21px] leading-[1.4]",children:s}),r&&(0,t.jsx)("div",{className:"bg-primary/5 px-1 py-0.5 rounded text-2xs font-medium text-primary",children:r}),j&&(0,t.jsx)(d.Loader,{className:"w-3.5 h-3.5 animate-spin mr-1 text-muted-secondary"})]}),a&&(0,t.jsx)("div",{className:"flex items-center gap-1.5 mb-0.5",children:(0,t.jsx)("p",{className:"text-xs font-normal text-muted-foreground tracking-[-0.21px] leading-[1.4] line-clamp-2",children:a})}),(0,t.jsxs)("div",{className:"flex items-center gap-1 pt-1.5",children:[b.map((e,n)=>(0,t.jsx)("span",{className:"text-xs h-[22px] px-1.5 py-1 bg-muted border border-border rounded-[6px] text-muted-foreground flex items-center",children:e},n)),c&&(0,t.jsx)(y,{connectionState:c})]}),o&&o.length>0&&(0,t.jsx)("div",{className:"flex items-center gap-1 w-full",children:(0,t.jsxs)(g.Tooltip,{children:[(0,t.jsx)(g.TooltipTrigger,{asChild:!0,children:(0,t.jsxs)("div",{className:"flex items-center gap-1 max-w-full",children:[o.slice(0,2).map((e,n)=>(0,t.jsx)("span",{className:"text-2xs px-1.5 py-0.5 bg-primary/5 border border-primary/10 rounded-full font-medium text-primary flex-1 truncate max-w-fit",children:e},n)),o.length>2&&(0,t.jsxs)("span",{className:"text-2xs px-1.5 py-0.5 bg-message border border-border rounded-full font-medium text-muted-secondary flex-1 truncate max-w-fit flex-shrink-0",children:["+",o.length-2]})]})}),(0,t.jsx)(g.TooltipContent,{side:"bottom",className:"max-w-sm",align:"end",alignOffset:-50,children:(0,t.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,t.jsx)("div",{className:"text-2xs font-semibold",children:"All tools:"}),o.map((e,n)=>(0,t.jsxs)("div",{className:"text-2xs",children:["• ",e]},n))]})})]})})]})]}),u&&u.length>0&&(0,t.jsxs)(f.DropdownMenu,{children:[(0,t.jsx)(f.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsx)(h.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground flex-shrink-0",onClick:e=>e.stopPropagation(),children:(0,t.jsx)(m.MoreVertical,{className:"h-4 w-4"})})}),(0,t.jsx)(f.DropdownMenuContent,{align:"end",children:u.map((e,n)=>(0,t.jsxs)(f.DropdownMenuItem,{onClick:t=>{t.stopPropagation(),e.onClick()},className:e.className,children:[e.icon,e.label]},n))})]})]})})})};e.s(["default",0,j],598070),e.s(["default",0,()=>{let e=(0,s.useRouter)(),{getAccessTokenSilently:l}=(0,n.useAuth0)(),{data:c}=(0,i.useGoogleOauthToken)(),{setUserOnboarding:d}=(0,o.useUserOnboarding)(),{mutate:m,isPending:u}=(0,i.useDisconnectGoogleDrive)(),p=!!c,h=async()=>{try{d("upload_file")}catch(e){console.warn("Error setting onboarding status:",e)}let e=await l(),t=await (0,a.getGoogleDriveAuthUrl)({accessToken:e});t?window.location.href=t:r.toast.info("Google account already connected.")};return(0,t.jsx)(j,{icon:{src:"/g_drive_logo.png",alt:"Google Drive"},title:"Google Drive",categories:"Integration",description:"Analyze your Google Drive files and folders",onClick:()=>{p?e.push("/data-connectors/integrations/google-drive"):h().catch(e=>{console.error("Error connecting to Google Drive:",e),r.toast.error("Failed to connect to Google Drive")})},connectionState:{isConnected:p,isLoading:u,onConnect:h,onDisconnect:()=>{let e=new Promise((e,t)=>{m(void 0,{onSuccess:()=>e(void 0),onError:e=>t(e)})});r.toast.promise(e,{error:"Error disconnecting Google Drive"})},tooltipContent:c&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"font-medium mb-1",children:"Granted Google scopes"}),(0,t.jsx)("ul",{className:"list-disc list-inside space-y-1",children:c.scopes?.map(e=>(0,t.jsx)("li",{className:"break-all text-xs",children:e},e))})]})}})}],998658);var v=e.i(239616),b=e.i(604570),N=e.i(544216),k=e.i(413801);e.s(["default",0,({entry:e,connector:n})=>{let r=(0,s.useRouter)(),[a,i]=(0,l.useState)(!1),[c,d]=(0,l.useState)(!1),{setUserOnboarding:m}=(0,o.useUserOnboarding)(),u=["Github","Exa","RevenueCat","Zapier"].includes(e.name),p=[{label:"Settings",icon:(0,t.jsx)(v.Settings,{className:"h-4 w-4 mr-2"}),onClick:()=>{b.default.capture("settings:data-connectors:mcp-settings-clicked",{mcp_name:e.name,mcp_id:e.id}),r.push(`/data-connectors/mcp/${e.id}`)}}],{data:h}=(0,N.usePublicKey)(),{mutateAsync:f}=(0,N.useCreateConnection)({connectorId:n?.id,publicKey:h}),g=async()=>{b.default.capture("settings:data-connectors:mcp-connector-connect-clicked",{connector_name:n?.name,connector_id:n?.id,endpoint:e.endpoint}),i(!0);try{if(!h)throw Error("Public key not available – please try again");let t=await f({connectionInfo:{endpoint:e.endpoint},connectionName:e.name}),n=t?.mcp_oauth_url;window.location.href=n}catch(e){console.error("Failed to create connection or build MCP OAuth URL",e),i(!1)}};if(u&&n){let s="Zapier"===e.name?{type:"object",properties:{mcp_oauth_url:{title:"MCP OAuth URL",type:"string",tooltip:"Paste the OAuth URL generated by Zapier to complete the connection",pattern:"^https://mcp\\.zapier\\.com/api/mcp/[A-Za-z]+/[0-9]+/mcp",errorMessage:"URL must be a valid Zapier MCP endpoint (e.g., https://mcp.zapier.com/api/mcp/a/123/mcp)"}},required:["mcp_oauth_url"]}:"Github"===e.name?{type:"object",properties:{authorization_token:{title:"Personal Access Token (PAT)",type:"string",tooltip:(0,t.jsxs)(t.Fragment,{children:["Enter your GitHub Personal Access Token (PAT). Learn more about how to create"," ",(0,t.jsx)("a",{href:"https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"a PAT here"})]})}},required:["authorization_token"]}:{type:"object",properties:{authorization_token:{title:"Authorization Token",type:"string",tooltip:"Token required by the MCP to authenticate with the data source"}},required:["authorization_token"]},r={...n,id:n.id,name:e.name,light_logo_url:e.light_logo_url,dark_logo_url:e.dark_logo_url,schema:s};return(0,t.jsx)(k.default,{isOpen:c,onOpenChange:d,connector:r,additionalConnectionInfo:"Zapier"===e.name?{connectionName:e.name}:{endpoint:e.endpoint,connectionName:e.name},mode:"create",documentationUrl:"/docs/data-connectors/connecting-an-mcp",children:(0,t.jsx)(j,{icon:{src:e.light_logo_url||e.dark_logo_url,darkSrc:e.dark_logo_url||e.light_logo_url,alt:e.name},title:e.name,categories:"MCP",description:e.one_liner,onClick:()=>{try{m("upload_file")}catch(e){console.warn("Error setting onboarding status:",e)}d(!0)},menuItems:p})})}return(0,t.jsx)(j,{icon:{src:e.light_logo_url||e.dark_logo_url,darkSrc:e.dark_logo_url||e.light_logo_url,alt:e.name},title:e.name,categories:"MCP",description:e.one_liner,onClick:g,loading:a,menuItems:p})}],726596);var w=e.i(948822),S=e.i(934357);e.s(["default",0,()=>{let{getAccessTokenSilently:e}=(0,n.useAuth0)(),{setUserOnboarding:s}=(0,o.useUserOnboarding)(),{data:a}=(0,S.useMicrosoftOauthToken)("onedrive"),{mutate:i,isPending:l}=(0,S.useDisconnectMicrosoftAccount)("onedrive"),c=!!a,d=async()=>{b.default.capture("settings:data-connectors:onedrive-connect-clicked");try{s("upload_file")}catch(e){console.warn("Error setting onboarding status:",e)}let t=await e(),n=await (0,w.getMicrosoftAuthUrl)({accessToken:t,type:"onedrive"});n?window.location.href=n:r.toast.info("OneDrive account already connected.")};return(0,t.jsx)(j,{icon:{src:"/onedrive_logo.svg",alt:"Microsoft OneDrive"},title:"Microsoft OneDrive",badge:"New",categories:"Integration",description:"Analyze your Personal OneDrive files and folders",onClick:d,connectionState:{isConnected:c,isLoading:l,onConnect:d,onDisconnect:()=>{b.default.capture("settings:data-connectors:onedrive-disconnect-clicked");let e=new Promise((e,t)=>{i(void 0,{onSuccess:()=>e(void 0),onError:e=>t(e)})});r.toast.promise(e,{error:"Error disconnecting OneDrive"})},tooltipContent:c&&a?.scopes?.length?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"font-medium mb-1",children:"Granted Microsoft scopes"}),(0,t.jsx)("ul",{className:"list-disc list-inside space-y-1",children:a.scopes.map(e=>(0,t.jsx)("li",{className:"break-all text-xs",children:e},e))})]}):null}})}],290737);var $=e.i(107233);e.s(["default",0,()=>(0,t.jsx)("a",{href:"https://juliusai.typeform.com/to/sNGPR8nP",target:"_blank",rel:"noopener noreferrer",className:"bg-primary/10 rounded-lg border border-primary/10 shadow-[0px_1px_2px_0px_rgba(0,0,0,0.05)] overflow-hidden h-fit no-underline hover:bg-primary/20 transition-colors",children:(0,t.jsx)("div",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,t.jsx)("div",{className:"h-10 w-10 rounded-md bg-primary/10 flex items-center justify-center flex-shrink-0",children:(0,t.jsx)($.Plus,{className:"w-6 h-6 text-primary"})}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-foreground tracking-[-0.21px] leading-[1.4]",children:"Need another connection?"}),(0,t.jsx)("p",{className:"text-xs font-normal text-muted-foreground tracking-[-0.24px] leading-[1.4]",children:"Let us know what data you'd like to use in Julius"})]})]}),(0,t.jsx)(h.Button,{size:"sm",variant:"default",className:"h-8 px-3 py-2 text-xs font-medium tracking-[-0.18px] leading-[1.4] pointer-events-none",asChild:!0,children:(0,t.jsx)("span",{children:"Request connector"})})]})})})],38988),e.s(["default",0,()=>{let{getAccessTokenSilently:e}=(0,n.useAuth0)(),{setUserOnboarding:s}=(0,o.useUserOnboarding)(),{data:a}=(0,S.useMicrosoftOauthToken)("sharepoint"),{mutate:i,isPending:l}=(0,S.useDisconnectMicrosoftAccount)("sharepoint"),c=!!a,d=async()=>{b.default.capture("settings:data-connectors:sharepoint-connect-clicked");try{s("upload_file")}catch(e){console.warn("Error setting onboarding status:",e)}let t=await e(),n=await (0,w.getMicrosoftAuthUrl)({accessToken:t,type:"sharepoint"});n?window.location.href=n:r.toast.info("SharePoint account already connected.")};return(0,t.jsx)(j,{icon:{src:"/sharepoint-for-business.png",alt:"Sharepoint"},title:"SharePoint",badge:"New",categories:"Integration",description:"Analyze your SharePoint or OneDrive for Business files",onClick:d,connectionState:{isConnected:c,isLoading:l,onConnect:d,onDisconnect:()=>{b.default.capture("settings:data-connectors:sharepoint-disconnect-clicked");let e=new Promise((e,t)=>{i(void 0,{onSuccess:()=>e(void 0),onError:e=>t(e)})});r.toast.promise(e,{error:"Error disconnecting SharePoint"})},tooltipContent:c&&a?.scopes?.length?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"font-medium mb-1",children:"Granted Microsoft scopes"}),(0,t.jsx)("ul",{className:"list-disc list-inside space-y-1",children:a.scopes.map(e=>(0,t.jsx)("li",{className:"break-all text-xs",children:e},e))})]}):null}})}],78648);var C=e.i(778917),_=e.i(531278),A=e.i(918789),I=e.i(668252),P=e.i(796610),D=e.i(755869),O=e.i(620949),T=e.i(630374),M=e.i(983471);e.s(["default",0,()=>{let e=(0,s.useRouter)(),{data:n}=(0,P.useTeams)(),{data:a}=(0,O.useUserInformation)(),{data:i,isLoading:o}=(0,I.useSlackIntegration)(),{isLoading:c}=(0,P.useCurrentTeam)(),d=(0,s.useSearchParams)(),[m,u]=(0,l.useState)(!1),[f,g]=(0,l.useState)(null),[x,y]=(0,l.useState)(null),[j,N]=(0,l.useState)(""),[k,w]=(0,l.useState)(""),[S,$]=(0,l.useState)(""),[B,z]=(0,l.useState)(!1),{mutateAsync:E,isPending:F}=(0,M.useTestSlackIntegration)(),L=(0,I.useInitSlackOAuth)(),{mutateAsync:R,isPending:U}=(0,I.useRevokeSlackIntegration)(),{mutateAsync:q,isPending:G}=(0,I.useToggleSlackIntegrationSharing)({slackTeamId:i?.slack_team_id}),H=async()=>{b.posthog.capture("settings:data-connectors:slack-connect-clicked");try{await L.mutateAsync({connection_name:"Slack Integration"}),r.toast.success("Slack OAuth initiated. Please complete authorization in the popup window.")}catch(e){console.error("Slack OAuth error:",e),r.toast.error(e?.message??"Failed to initiate Slack OAuth")}},J=async e=>{if(!i)return;let t=e?S:i.team_id;if(t){b.posthog.capture(e?"settings:integrations:slack-add-to-team-clicked":"settings:integrations:slack-remove-from-team-clicked");try{await q({teamId:t}),r.toast.success(e?"Slack integration shared with team successfully!":"Slack integration removed from team successfully!"),e&&(z(!1),$(""))}catch(t){console.error(`${e?"Add":"Remove"} Slack to team error:`,t),r.toast.error(t?.error??`Failed to ${e?"add":"remove"} Slack integration ${e?"to":"from"} team`)}}},Z=async()=>{if(!j)return void r.toast.error("Please select a Slack channel first");b.posthog.capture("settings:integrations:slack-welcome-message-sent");try{await E({slackTeamId:i?.slack_team_id,channel_id:j}),r.toast.success("Welcome message sent successfully!"),y(null),N(""),w("")}catch(e){console.error("Send welcome message error:",e),r.toast.error(e?.message??"Failed to send welcome message")}};(0,l.useEffect)(()=>{let e=d.get("slack_connected"),t=d.get("slack_oauth"),n=d.get("error_code"),s=d.get("message"),a=d.get("team_id"),i=d.get("team_name");if(m||"true"!==e||(u(!0),r.toast.success("Slack integration completed successfully!")),!m&&"success"===t&&a&&i&&(u(!0),y({teamName:decodeURIComponent(i),teamId:a})),!m&&"error"===t&&n&&s){let e=null;try{e=decodeURIComponent(s)}catch(t){e=s}u(!0),g({errorCode:n,message:e,teamId:a||void 0})}},[d,m]);let K=(0,l.useMemo)(()=>!!i&&!!a&&i.creator_id===a.id,[i,a]),W=(0,l.useMemo)(()=>!!i&&!!i.team_id,[i]),Q=(0,l.useMemo)(()=>i?.created_at?new Date(i.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"",[i]);return(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-foreground tracking-[-0.4px] mb-3",children:"Integrations"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-3 border rounded-lg p-3 items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,t.jsx)(p.default,{src:"./slack.svg",alt:"Slack",width:32,height:32}),(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-foreground",children:"Slack"}),i?(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Connected on ",Q," ",K?"by you":"by your team"]}):(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"Connect your Slack workspace to receive reports and insights"})]})]}),o?(0,t.jsx)(h.Button,{size:"sm",disabled:U||o,children:(0,t.jsx)(_.Loader2,{className:"w-4 h-4 animate-spin"})}):(0,t.jsxs)("div",{className:"flex gap-2",children:[i&&K&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(h.Button,{size:"sm",variant:"outline",onClick:()=>e.push("/data-connectors/integrations/slack"),disabled:U||o,children:[(0,t.jsx)(v.Settings,{className:"w-3.5 h-3.5 mr-1.5"}),"Manage"]}),!W&&n&&n.length>0&&(0,t.jsxs)(T.Dialog,{open:B,onOpenChange:z,children:[(0,t.jsx)(T.DialogTrigger,{asChild:!0,children:(0,t.jsx)(h.Button,{size:"sm",variant:"outline",disabled:U||o,children:"Add to Team"})}),(0,t.jsxs)(T.DialogContent,{children:[(0,t.jsxs)(T.DialogHeader,{children:[(0,t.jsx)(T.DialogTitle,{children:"Add to Team"}),(0,t.jsx)(T.DialogDescription,{children:"Select a team to share this Slack integration with."})]}),(0,t.jsx)("div",{className:"space-y-3 py-4",children:(0,t.jsx)("div",{className:"max-h-[300px] overflow-y-auto space-y-2",children:n.map(e=>(0,t.jsxs)("div",{className:`flex items-center justify-between p-3 rounded-lg border cursor-pointer hover:bg-accent transition-colors ${S===e.id?"border-primary bg-accent":"border-border"}`,onClick:()=>$(e.id),children:[(0,t.jsx)("div",{className:"flex flex-col",children:(0,t.jsx)("span",{className:"text-sm font-medium",children:e.team_name})}),S===e.id&&(0,t.jsx)("div",{className:"size-4 rounded-full bg-primary flex items-center justify-center",children:(0,t.jsx)("div",{className:"size-2 rounded-full bg-primary-foreground"})})]},e.id))})}),(0,t.jsxs)(T.DialogFooter,{className:"gap-2 sm:gap-0",children:[(0,t.jsx)(T.DialogClose,{asChild:!0,children:(0,t.jsx)(h.Button,{variant:"outline",children:"Cancel"})}),(0,t.jsx)(h.Button,{onClick:()=>J(!0),disabled:!S||G,children:G?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Adding..."]}):"Add"})]})]})]}),W&&(0,t.jsx)(h.Button,{size:"sm",variant:"outline",onClick:()=>J(!1),disabled:G||U||o,children:G?"Removing...":"Remove from Team"}),(0,t.jsx)(h.Button,{size:"sm",onClick:()=>{i&&r.toast.promise(R({slackTeamId:i.slack_team_id}),{loading:"Disconnecting Slack integration...",success:"Slack integration disconnected successfully",error:"Failed to disconnect Slack integration"})},disabled:U||o||c,children:U?"Disconnecting...":"Disconnect"})]}),i&&!K&&(0,t.jsx)(h.Button,{size:"sm",onClick:H,disabled:!0,children:"Connected"}),!i&&(0,t.jsx)(h.Button,{size:"sm",onClick:H,disabled:U||o||c,children:U?"Connecting...":(0,t.jsxs)(t.Fragment,{children:["Connect",(0,t.jsx)(C.ExternalLink,{className:"ml-2 size-3.5"})]})})]})]}),(0,t.jsx)(T.Dialog,{open:!!f,onOpenChange:e=>!e&&g(null),children:(0,t.jsxs)(T.DialogContent,{children:[(0,t.jsxs)(T.DialogHeader,{children:[(0,t.jsx)(T.DialogTitle,{children:"Slack Integration Error"}),(0,t.jsx)(T.DialogDescription,{children:"An error occurred while connecting your Slack integration."})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("div",{className:"text-sm text-muted-foreground mt-1",children:(0,t.jsx)(A.default,{components:{strong:({children:e})=>(0,t.jsx)("span",{className:"font-semibold underline text-foreground",children:e}),p:({children:e})=>(0,t.jsx)(t.Fragment,{children:e})},children:f?.message})}),f?.teamId&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-medium text-foreground",children:"Team ID:"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1 font-mono",children:f.teamId})]})]}),(0,t.jsx)(T.DialogFooter,{children:(0,t.jsx)(h.Button,{onClick:()=>g(null),children:"Close"})})]})}),(0,t.jsx)(T.Dialog,{open:!!x,onOpenChange:e=>{e||(y(null),N(""),w(""))},children:(0,t.jsxs)(T.DialogContent,{children:[(0,t.jsxs)(T.DialogHeader,{children:[(0,t.jsx)(T.DialogTitle,{children:"Slack Integration Successful!"}),(0,t.jsx)(T.DialogDescription,{children:"Your Slack workspace has been connected successfully."})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-medium text-foreground",children:"Team Name:"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:x?.teamName})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-medium text-foreground",children:"Team ID:"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1 font-mono",children:x?.teamId})]}),(0,t.jsx)("div",{className:"border-t pt-4",children:(0,t.jsx)(D.default,{title:"Send a welcome message to get started",channelId:j,channelName:k,onChannelChange:(e,t)=>{N(e),w(t)},showImage:!1,placeholderForNoChannel:"Select a channel..."})})]}),(0,t.jsxs)(T.DialogFooter,{className:"gap-2 sm:gap-0",children:[(0,t.jsx)(h.Button,{variant:"outline",onClick:()=>{y(null),N(""),w("")},children:"Skip"}),(0,t.jsx)(h.Button,{onClick:Z,disabled:!j||F,children:F?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send Welcome Message"})]})]})})]})}],386641)}]);

//# debugId=cf81a2f5-41ed-a342-9bda-c5247ad21299
//# sourceMappingURL=bb40e1d04c0f70f3.js.map