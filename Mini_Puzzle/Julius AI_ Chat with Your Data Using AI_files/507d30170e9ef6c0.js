;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="442ebc00-a1a7-302e-bd9f-c5a0821d1cb5")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,139865,e=>{"use strict";var s=e.i(843476),a=e.i(630374),t=e.i(647163),l=e.i(271645),i=e.i(373375),n=e.i(475254);let r=(0,n.default)("gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]),o=(0,n.default)("key-round",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);var c=e.i(263488),d=e.i(647780),m=e.i(185873),m=m,u=e.i(284765),x=e.i(358977),h=e.i(604570),f=e.i(167881),p=e.i(394073),g=e.i(531278),j=e.i(365582),y=e.i(400417),w=e.i(727612),N=e.i(483202),b=e.i(10708);let v=()=>{let{getLearnedInformation:e,deleteLearnedInformation:a}=(0,N.useUserAPI)(),[t,i]=(0,l.useState)([]),[n,r]=(0,l.useState)(!0);return(0,l.useEffect)(()=>{(async()=>{try{r(!0);let s=await e();s?.learnings&&i(s.learnings)}catch(e){console.error("Error fetching learned information:",e)}finally{r(!1)}})()},[e]),(0,s.jsx)("div",{className:"flex flex-col gap-4 w-full bg-background",children:(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-0",children:[(0,s.jsx)(b.Label,{className:"text-lg font-semibold",children:"Learned Instructions"}),(0,s.jsx)("p",{className:"text-sm font-normal text-muted-foreground",children:"Julius learns from thumbs up, thumbs down and star ratings to calibrate to your preferences"})]}),(0,s.jsx)("div",{className:"max-h-[400px] overflow-y-auto",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[n&&(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center gap-1 text-center py-12 bg-background rounded-lg h-full",children:[(0,s.jsx)(g.Loader2,{className:"h-5 w-5 animate-spin text-muted-secondary"}),(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Loading learned information..."})]}),0===t.length&&!n&&(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center gap-1 text-center py-12 bg-background rounded-lg h-full",children:[(0,s.jsxs)("div",{className:"flex justify-center gap-2 mb-4 text-muted-secondary",children:[(0,s.jsx)(y.ThumbsUp,{className:"h-6 w-6"}),(0,s.jsx)(j.ThumbsDown,{className:"h-6 w-6"})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center gap-1",children:[(0,s.jsx)("p",{className:"text-foreground text-base font-medium",children:"No feedback collected yet"}),(0,s.jsx)("p",{className:"text-muted-foreground text-sm max-w-[60%]",children:"Use thumbs up/down to help Julius understand your preferences better"})]})]}),t.length>0&&!n&&t.map(e=>{let t,l,n;return(0,s.jsxs)("div",{className:"group flex flex-col gap-1 bg-background rounded-lg border transition-all overflow-hidden border-border p-4 shadow-subtle",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"flex items-center gap-2 text-xs text-muted-secondary font-medium",children:(0,s.jsx)("span",{children:(l=(t=new Date(e.created_at)).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),n=t.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}).toLowerCase(),`${l} \xb7 ${n}`)})}),(0,s.jsx)("button",{onClick:()=>{var s;return s=e.id,void(i(e=>e.filter(e=>e.id!==s)),a(s))},className:"text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity p-1 rounded hover:bg-destructive/10",title:"Delete this learning",children:(0,s.jsx)(w.Trash2,{className:"h-3 w-3"})})]}),(0,s.jsx)("div",{className:"space-y-2",children:(0,s.jsx)("ul",{className:"list-none space-y-2",children:e.learned_information.split("\n").filter(e=>e.trim()).map(e=>e.trim()).map((e,a)=>(0,s.jsxs)("li",{className:"flex gap-2 text-sm",children:[(0,s.jsx)("span",{className:"select-none",children:"•"}),(0,s.jsx)("span",{className:"text-foreground leading-relaxed flex-1",children:e.replace(/^-\s*/,"")})]},a))})})]},e.id)})]})})]})})};var _=e.i(211003),k=e.i(417835),C=e.i(287336),S=e.i(728231),T=e.i(367944),A=e.i(503861),L=e.i(616525),P=e.i(620949),E=e.i(994179),I=e.i(416540);function U(){let[e,a]=(0,l.useState)(null),[t,i]=(0,l.useState)(!1),[n,o]=(0,l.useState)(""),[c,d]=(0,l.useState)(!1),{handleNewServerStart:m,refetchStatus:u}=(0,A.useDataSourcesContext)(),x=(0,P.useChangeContainer)(),{data:p}=(0,P.useUserInformation)(),{isFreeUser:g}=(0,T.useChatContext)(),{isCaesar:j}=(0,L.useUserContext)(),y=p?.hub_container_preference,w=[{id:"Standard",title:"Standard Container",description:"Default container with standard resources. Ideal for small-scale analysis",memory:g?"2GB RAM":"8GB RAM",lifespan:"1hr",isDefault:!0},{id:"gcp_secondary",title:"Longer Lifespan",description:"Keep your container running 3x longer after your last interaction, giving you more flexibility to continue your work.",memory:"8GB RAM",lifespan:"3hr",upgradePlan:!0},{id:"gcp_secondary_highmem",title:"Memory Boost",description:"Supercharge your analysis of large files with 4x more memory resources.",memory:"32GB RAM",lifespan:"1hr",upgradePlan:!0},{id:"development",title:"development",description:"development.",memory:"development",lifespan:"development",adminOnly:!0}];(0,l.useEffect)(()=>{y?a(y):a(w[0].id),"high_memory"===y&&a("gcp_secondary_highmem"),"long_duration"===y&&a("gcp_secondary")},[y]);let N=s=>{if(s&&s!==e){if(g&&s!==w[0].id){window.open("/settings","_blank","noopener,noreferrer"),h.default.capture("upgrade_button_clicked",{location:"container_selection"});return}h.default.capture("container_selected",{container:s}),o(s),i(!0)}},v=async()=>{!n||g&&n!==w[0].id||n!==e&&(i(!1),d(!0),u(),a(n),await x.mutateAsync(n),d(!1),setTimeout(()=>{m()},1e3))},_=(e,a,t)=>{let l=a?(0,s.jsx)("span",{className:"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-transparent bg-clip-text",children:e}):e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t,{className:`w-3 h-3 stroke-[2] ${a?"stroke-indigo-500":""}`}),l]})};return(0,s.jsxs)("div",{className:"w-full",children:[!t&&!c&&(0,s.jsx)(I.RadioGroup,{value:e,onValueChange:N,className:"space-y-3",children:w.filter(e=>!!j||!e.adminOnly).map(a=>(0,s.jsxs)(S.Tooltip,{children:[(0,s.jsx)(S.TooltipTrigger,{asChild:!0,children:(0,s.jsxs)(f.Button,{variant:"outline",size:"default",onClick:()=>N(a.id),className:`flex flex-col items-start h-fit max-w-full p-4 cursor-pointer transition-all hover:bg-muted/40 focus:outline-none overflow-hidden ${e===a.id?"ring-2 ring-primary transition duration-300":"transition duration-300"}`,children:[(0,s.jsxs)("div",{className:"flex justify-between w-full gap-2",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1 flex-grow",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(b.Label,{htmlFor:a.id,className:"font-medium",children:a.title}),a.upgradePlan&&g&&(0,s.jsx)("span",{className:"text-2xs bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-transparent bg-clip-text",children:"Upgrade Plan"})]}),(0,s.jsx)("p",{className:"text-sm font-normal text-muted-foreground text-start text-wrap",children:a.description})]}),(0,s.jsx)(I.RadioGroupItem,{value:a.id,id:a.id,className:`h-6 w-6 min-w-fit ${e!==a.id?"invisible":""}`})]}),(0,s.jsxs)("div",{className:"flex justify-between w-full mt-4",children:[(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(E.Badge,{variant:"secondary",className:"font-normal text-xs bg-slate-100 border-slate-500/20 dark:bg-secondary/20 dark:border-secondary rounded-sm gap-1",children:_(a.memory,a.id===w[2].id,r)}),(0,s.jsx)(E.Badge,{variant:"secondary",className:"font-normal text-xs bg-slate-100 border-slate-500/20 dark:bg-secondary/20 dark:border-secondary rounded-sm gap-1",children:_(a.lifespan,a.id===w[1].id,k.Timer)})]}),a.id===e&&(0,s.jsx)(E.Badge,{variant:"secondary",className:"font-normal text-xs bg-slate-100 border-slate-500/20 dark:bg-secondary/20 dark:border-secondary rounded-sm gap-1",children:"Current Container"})]})]})}),a.upgradePlan&&g&&(0,s.jsx)(S.TooltipContent,{className:"w-64 p-4 bg-gray-950/80 backdrop-blur-md border-1 border-gray-700/80",side:"left",align:"center",children:(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsx)("span",{children:"Upgrade to access advanced containers with more memory and longer lifespans."}),(0,s.jsx)(f.Button,{size:"sm",className:"bg-blue-500 hover:bg-blue-600",onClick:()=>{window.open("/settings","_blank","noopener,noreferrer"),h.default.capture("upgrade_button_clicked",{location:"container_tooltip"})},children:"Upgrade Now"})]})})]},a.id))}),t&&(0,s.jsxs)("div",{className:"flex flex-col h-full gap-4 bg-muted/50 border border-muted p-6 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-x-1",children:[(0,s.jsx)("p",{className:"font-semibold",children:"Ready to switch to"}),(0,s.jsx)("p",{className:"text-primary font-semibold",children:w.find(e=>e.id===n)?.title||""}),(0,s.jsx)("p",{className:"font-semibold",children:"?"})]}),(0,s.jsx)("div",{children:(0,s.jsx)("p",{className:"mb-2",children:"Switching containers will delete the current state of memory but should preserve your files. This can take a few seconds."})}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(f.Button,{variant:"destructive",onClick:v,children:"Proceed"}),(0,s.jsx)(f.Button,{variant:"outline",onClick:()=>{i(!1),o("")},children:"Cancel"})]})]}),c&&(0,s.jsx)(F,{isChanging:c,newContainer:w.find(e=>e.id===n)?.title||"New Container"})]})}let G=["Provisioning","Attaching Storage","Starting Server"],F=({isChanging:e,newContainer:a})=>{let[t,i]=(0,l.useState)(0),[n,r]=(0,l.useState)(0);return((0,l.useEffect)(()=>{if(e){let e=setInterval(()=>{i(s=>{if(s>=100)return clearInterval(e),100;let a=s+.5;return r(Math.min(Math.floor(a/(100/G.length)),G.length-1)),a})},100);return()=>clearInterval(e)}},[e]),e)?(0,s.jsxs)("div",{className:"flex flex-col h-full gap-4 bg-muted/50 border border-muted p-6 rounded-lg",children:[(0,s.jsxs)("div",{className:"block mb-4",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Switching to "}),(0,s.jsx)("span",{className:"text-primary font-semibold",children:a}),(0,s.jsx)("span",{className:"font-semibold",children:". This should take a few seconds."})]}),(0,s.jsx)(C.Progress,{value:t,className:"w-full"}),(0,s.jsxs)("div",{className:"text-sm text-muted-foreground",children:[G[n],"... (",Math.round(t),"%)"]})]}):null};var R=e.i(643531);function D(){let[e,a]=(0,l.useState)(""),[t,i]=(0,l.useState)(!1),{data:n,isLoading:r}=(0,P.useUserInformation)(),o=(0,P.useSaveTips)();(0,l.useEffect)(()=>{n?.tips!==void 0&&a(n.tips)},[n?.tips]);let c=async()=>{await o.mutateAsync(e),i(!0),setTimeout(()=>i(!1),3e3)};return(0,s.jsxs)("div",{className:"flex flex-col gap-4 bg-background",children:[(0,s.jsxs)("div",{className:"flex flex-col text-start gap-2",children:[(0,s.jsx)(b.Label,{children:"Custom Instructions"}),(0,s.jsx)("p",{className:"text-sm font-normal text-muted-foreground",children:"Set custom rules for Julius to follow in conversations. Your custom instructions will be added to new conversations going forward."})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsxs)(b.Label,{htmlFor:"general-instructions",className:"flex flex-row justify-between text-left",children:[(0,s.jsx)("div",{className:"flex flex-row space-x-2 items-center"}),(0,s.jsxs)("span",{className:"text-xs opacity-50",children:[e.length,"/1000"]})]}),(0,s.jsx)("textarea",{id:"general-instructions",className:"h-56 w-full p-3 border border-gray-300 rounded text-sm placeholder:text-gray-400 dark:bg-sidebackground dark:border-secondary/20",maxLength:"1000",placeholder:"e.g. 'Always provide step-by-step explanations for complex topics. Use analogies when possible to simplify concepts. If you're unsure about something, please say so and explain why.'",value:e,onChange:e=>a(e.target.value)})]}),(0,s.jsx)("footer",{className:"flex justify-end mt-auto",children:(0,s.jsx)(f.Button,{className:`text-gray-50 ${o.isPending||t?"bg-blue-500":"bg-primary"}`,onClick:c,disabled:r||e===n?.tips||o.isPending,children:o.isPending?(0,s.jsxs)("span",{className:"flex items-center",children:[(0,s.jsx)("svg",{className:"animate-spin h-5 w-5 mr-3 text-white",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50",style:{animation:"spin 2s linear infinite"},children:(0,s.jsx)("circle",{cx:"25",cy:"25",r:"20",fill:"none",strokeWidth:"4",stroke:"#fff",strokeLinecap:"round",style:{strokeDasharray:"90, 150",strokeDashoffset:"0",animation:"dash 1.5s ease-in-out infinite"}})}),"Saving..."]}):t?(0,s.jsxs)("span",{className:"flex items-center",children:[(0,s.jsx)(R.Check,{className:"h-5 w-5 mr-2 text-white"}),"Saved"]}):"Save Changes"})})]})}var M=e.i(319036);function O(){let{data:e}=(0,P.useUserInformation)(),{toolPreferences:a,setToolPreferences:t,conversations:i,activeConversationId:n,setConversations:r}=(0,T.useChatContext)(),[o,c]=(0,l.useState)(!1),[d,m]=(0,l.useState)(!0),u=(0,P.useUpdateUserPreferences)();return(0,l.useEffect)(()=>{let s=e?.preferences?.allow_gads_edit;void 0!==s&&c(s)},[e?.preferences?.allow_gads_edit]),(0,l.useEffect)(()=>{let s=e?.preferences?.persist_data_connections_across_chats;m(void 0===s||!!s)},[e?.preferences?.persist_data_connections_across_chats]),(0,s.jsxs)("div",{className:"flex flex-col w-full gap-5",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1 text-left",children:[(0,s.jsx)(b.Label,{children:"Allow Google Ads Edit Operations"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground max-w-sm",children:"Enable this option to allow Julius to create or modify Google Ads entities when using the Google Ads connector."})]}),(0,s.jsx)(M.Switch,{id:"allow-gads-edit",checked:o,onCheckedChange:e=>{c(e);let s={...a,allow_gads_edit:e};t(s),n&&r({...i,[n]:{...i[n],tool_preferences:s}}),u.mutate({allow_gads_edit:e}),h.default.capture("data_connectors:allow_gads_edit_toggled",{checked:e,source:"settings_modal"})},"data-cy":"toggle-allow-gads-edit"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1 text-left",children:[(0,s.jsx)(b.Label,{children:"Persist Data Connections Across Chats"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground max-w-sm",children:"When enabled, your currently selected data connections will automatically be enabled in new chats."})]}),(0,s.jsx)(M.Switch,{id:"persist-data-connections",checked:d,onCheckedChange:e=>{m(e),u.mutate({persist_data_connections_across_chats:e}),h.default.capture("data_connectors:persist_connections_toggled",{checked:e,source:"settings_modal"})},"data-cy":"toggle-persist-data-connections"})]})]})}var z=e.i(831761),B=e.i(52563),V=e.i(954616),K=e.i(266027),$=e.i(912598),J=e.i(846696);let W=["email_settings"],Q=[{key:"shared_notebook",title:"Shared notebook",description:"Email me when someone shares a notebook directly with me."},{key:"shared_team_notebook",title:"Shared team notebook",description:"Email me when a notebook is shared with my team."},{key:"scheduled_notebook_completion",title:"Scheduled notebook completion",description:"Email me when a scheduled notebook run finishes."}],q=()=>{let{data:e,isLoading:a,isError:l}=(()=>{let{getAccessTokenSilently:e,isAuthenticated:s}=(0,B.useAuth0)(),a=async()=>{let s=await e(),a=await (0,t.customFetch)(`${p.BASE_API}/user/email_settings`,{method:"GET",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}});if(!a.ok)throw Error("Failed to fetch email settings");return await a.json()};return(0,K.useQuery)({queryKey:W,queryFn:a,enabled:s,refetchOnWindowFocus:!1})})(),i=(()=>{let{getAccessTokenSilently:e}=(0,B.useAuth0)(),s=(0,$.useQueryClient)(),a=async s=>{let a=await e(),l=await (0,t.customFetch)(`${p.BASE_API}/user/email_settings`,{method:"PUT",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify(s)});if(!l.ok)throw Error("Failed to update email settings");return await l.json()};return(0,V.useMutation)({mutationFn:a,onMutate:async e=>{await s.cancelQueries({queryKey:W});let a=s.getQueryData(W);return s.setQueryData(W,e),{previousSettings:a}},onError:(e,a,t)=>{t?.previousSettings&&s.setQueryData(W,t.previousSettings),J.toast.error("Failed to update email notifications. Please try again.")},onSuccess:e=>{s.setQueryData(W,e)},onSettled:()=>{s.invalidateQueries({queryKey:W})}})})();return(0,s.jsxs)("div",{className:"flex flex-col w-full gap-6",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold",children:"Email notifications"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Choose which Julius notebook updates should reach your inbox. Changes save automatically."})]}),a&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,s.jsx)(z.default,{}),(0,s.jsx)("span",{children:"Loading email preferences…"})]}),l&&!a&&(0,s.jsx)("div",{className:"rounded-md border border-destructive/30 bg-destructive/10 px-3 py-2 text-sm text-destructive",children:"We couldn’t load your email settings. Please refresh to try again."}),!a&&!l&&e&&(0,s.jsx)("div",{className:"flex flex-col gap-4",children:Q.map(({key:a,title:t,description:l})=>(0,s.jsxs)("div",{className:"flex items-center justify-between gap-4 rounded-lg border border-border bg-card px-4 py-3",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)(b.Label,{className:"text-sm font-medium",children:t}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:l})]}),(0,s.jsx)(M.Switch,{checked:!!e[a],onCheckedChange:()=>(s=>{if(!e)return;let a={...e,[s]:!e[s]};i.mutate(a)})(a),disabled:i.isPending,"aria-label":`Toggle ${t.toLowerCase()} email notifications`})]},a))})]})};var H=e.i(991799),Y=e.i(897250);e.i(971804);var X=e.i(511108),Z=e.i(62870),ee=e.i(51509),es=e.i(314141),ea=e.i(556703);let et=function(){let e,{toolPreferences:a,setToolPreferences:t,conversations:i,activeConversationId:n,setConversations:r}=(0,T.useChatContext)(),{handleChangeAccelerator:o}=(0,L.useUserContext)(),{data:c,isLoading:d}=(0,P.useUserInformation)();c?.hardware_spec&&(e="GPU"===c.hardware_spec?"GPU":null);let m=(0,P.useUpdateUserPreferences)(),[u,x]=(0,l.useState)(e||c?.preferences?.default_kernel||"Python"),[f,j]=(0,l.useState)(!1);(0,l.useEffect)(()=>{if(c)if(n){if(i[n]?.tool_preferences!==void 0){t(i[n].tool_preferences);let e=i[n]?.tool_preferences;e?.minimal_env?x("minimal_env"):x(e?.use_r_kernel?"R":"Python")}}else{let e=c.preferences?.default_kernel,s=new URLSearchParams(window.location.search).get("workflow_kernel");"r"===s?e="R":"python"===s&&(e="Python"),"R"===e?(t(e=>({...e,use_r_kernel:!0,minimal_env:!1})),x(e)):"minimal_env"===e?(t(e=>({...e,use_r_kernel:!1,minimal_env:!0})),x("minimal_env")):(t(e=>({...e,use_r_kernel:!1,minimal_env:!1})),x("Python"))}},[c,i,n,t]);let{patchConversation:y}=(0,X.useChatAPI)(),w=async e=>{let s="R"===e,l="minimal_env"===e;h.default.capture("tool_selection",{toolName:"use_r_kernel",checked:s,useMinimalEnv:l});let o={...a,use_r_kernel:s,minimal_env:l};t(o),n&&(r({...i,[n]:{...i[n],tool_preferences:o}}),await y({conversationId:n,toolPreferences:o})),await m.mutateAsync({default_kernel:e,use_r_kernel:s,minimal_env:l})},N=async e=>{j(!0),h.default.capture("kernel_select",{model:e,from:u}),"GPU"===e?(x("Python"),await o("GPU")):"minimal_env"===e?(x("minimal_env"),await o(null),await w("minimal_env")):(x(e),await o(null),await w(e)),j(!1)};return(0,s.jsxs)(Z.Select,{value:e||u,defaultValue:"Python",onValueChange:N,children:[(0,s.jsx)(Z.SelectTrigger,{className:"min-w-32 max-w-fit gap-2 focus:ring-0 focus:ring-offset-0","data-cy":"runtime-selector",disabled:f||d,children:(0,s.jsx)(Z.SelectValue,{asChild:!0,children:(0,s.jsxs)("div",{className:"flex flex-row gap-2 items-center min-w-fit",children:["Python"===u||"minimal_env"===u?(0,s.jsx)(es.default,{className:"w-3.5 h-3.5"}):"R"===u?(0,s.jsx)(ea.default,{className:"w-3.5 h-3.5"}):"GPU"===u?(0,s.jsx)(ee.default,{className:"w-3.5 h-3.5"}):null,(0,s.jsx)("div",{children:f?(0,s.jsx)(g.Loader2,{className:"h-5 w-5 animate-spin"}):e||("minimal_env"===u?"Lean Python":u)})]})})}),(0,s.jsx)(Z.SelectContent,{children:(0,s.jsxs)(Z.SelectGroup,{className:"flex flex-col justify-start items-start",children:[(0,s.jsx)(Z.SelectLabel,{className:"text-xs",children:"Runtimes"}),(0,s.jsx)(Z.SelectItem,{value:"Python",className:"text-xs w-full","data-cy":"runtime-python",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(es.default,{className:"w-3.5 h-3.5"}),(0,s.jsx)("span",{children:"Python"})]})},"Python"),(0,s.jsx)(Z.SelectItem,{value:"R",className:"text-xs","data-cy":"runtime-R",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(ea.default,{className:"w-3.5 h-3.5"}),(0,s.jsx)("span",{children:"R"})]})},"R"),p.FEATURE_FLAGS.GPU_ALLOWED&&(0,s.jsx)(Z.SelectItem,{value:"GPU",className:"text-xs","data-cy":"runtime-GPU",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(ee.default,{className:"w-3.5 h-3.5"}),(0,s.jsx)("span",{children:"GPU"}),(0,s.jsx)("span",{className:"font-semibold text-primary",children:"(LIMITED)"})]})},"GPU"),p.FEATURE_FLAGS.SIMPLE_PYTHON_ENV&&(0,s.jsx)(Z.SelectItem,{value:"minimal_env",className:"text-xs","data-cy":"runtime-lean-python",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(es.default,{className:"w-3.5 h-3.5"}),(0,s.jsx)("span",{children:"Lean Python"})]})},"minimal_env")]})})]})};var el=e.i(664659),ei=e.i(655900),en=e.i(270756),er=e.i(522016),eo=e.i(84946),ec=e.i(492297),ed=e.i(988342),em=e.i(294840),eu=e.i(449173);let ex=[{key:"PLAINMODELlama 3",display:"Llama 3",image:(0,s.jsx)(em.default,{className:"size-4"})},{key:"PLAINMODEGemini 1.5",display:"Gemini 1.5",image:(0,s.jsx)(ed.default,{className:"size-4"})},{key:"PLAINMODEGemini Flash",display:"Gemini Flash",image:(0,s.jsx)(ed.default,{className:"size-4"})},{key:"PLAINMODECommand R",display:"Command R",image:(0,s.jsx)(ec.default,{className:"size-4"})},{key:"PLAINMODECommand R+",display:"Command R+",image:(0,s.jsx)(ec.default,{className:"size-4"})},{key:"PLAINMODEClaude Haiku",display:"Claude Haiku",image:(0,s.jsx)(eo.default,{className:"size-4"})},{key:"PLAINMODEClaude Sonnet",display:"Claude Sonnet",image:(0,s.jsx)(eo.default,{className:"size-4 fill-black dark:fill-white"})},{key:"PLAINMODEGPT-4",display:"GPT-4",image:(0,s.jsx)(eu.default,{className:"size-4 fill-black dark:fill-white"})},{key:"PLAINMODEGPT-4o",display:"GPT-4o",image:(0,s.jsx)(eu.default,{className:"size-4 fill-black dark:fill-white"})}],eh=({from:e})=>{let{setModelProvider:a,modelProvider:t,conversations:i,activeConversationId:n,setConversations:r,toolPreferences:o,isFreeUser:c}=(0,T.useChatContext)(),{data:d}=(0,P.useUserInformation)(),{data:m}=(0,P.useUserSubscription)(),{triggerLoopsEvent:u}=(0,N.useUserAPI)(),x=["active","cancelling"].includes(m?.status)&&["Team","Standard","Pro","team","standard","pro"].includes(m?.plan),f=["active","cancelling"].includes(m?.status)&&m?.plan==="Pro",[g,j]=(0,l.useState)(i?.[n]?.model||d?.preferences?.model||t||"default"),[y,w]=(0,l.useState)(!1),b=[{key:"default",display:"Default",image:(0,s.jsx)("div",{className:"bg-white text-primary font-bold h-4 w-4 flex items-center justify-center",children:"J"}),description:"Julius automatically selects model during chat."+(c?" (Free users may not get premium models during high traffic)":""),type:"primary"},{key:"gpt-5-1",display:"GPT 5.1",image:(0,s.jsx)(eu.default,{className:"w-4 h-4 fill-black dark:fill-white"}),description:"OpenAI's latest model",type:"primary",isNew:!1,proOnly:!0},{key:"gpt-5-1-thinking",display:"GPT 5.1 (Thinking)",image:(0,s.jsx)(eu.default,{className:"w-4 h-4 fill-black dark:fill-white"}),description:"OpenAI's latest model with extra thinking",type:"primary",isNew:!1,proOnly:!0},{key:"claude-sonnet-4",display:"Claude 4.5 Sonnet",image:(0,s.jsx)(eo.default,{className:"w-4 h-4 fill-black dark:fill-white"}),description:"The latest and most advanced Claude model in the sonnet family.",isNew:!1,type:"primary"},...p.FEATURE_FLAGS.GEMINI_3?[{key:"gemini-3",display:"Gemini 3",image:(0,s.jsx)(ed.default,{className:"w-4 h-4"}),description:"Google DeepMind's most advanced model with enhanced reasoning skills.",type:"secondary",isNew:!0,proOnly:!0}]:[],{key:"gpt-5",display:"GPT-5",image:(0,s.jsx)(eu.default,{className:"w-4 h-4 fill-black dark:fill-white"}),description:"OpenAI's GPT-5 model with improved technical capabilities.",type:"secondary",isNew:!1},{key:"o3",display:"o3",image:(0,s.jsx)(eu.default,{className:"w-4 h-4 fill-black dark:fill-white"}),description:"OpenAI's latest o series model with improved technical capabilities.",type:"secondary"},{key:"claude-opus-4",display:"Claude 4.5 Opus",image:(0,s.jsx)(eo.default,{className:"w-4 h-4 fill-black dark:fill-white"}),description:"The most powerful Claude model",type:"secondary",maxOnly:!0},{key:"gpt-5-2",display:"GPT 5.2",image:(0,s.jsx)(eu.default,{className:"w-4 h-4 fill-black dark:fill-white"}),description:"OpenAI's newest GPT-5 model with enhanced capabilities.",type:"primary",isNew:!0,proOnly:!0}],v=b.filter(e=>"primary"===e.type),_=b.filter(e=>"secondary"===e.type),{patchConversation:k}=(0,X.useChatAPI)(),[C,A]=(0,l.useState)(!1),L=b.find(e=>e.key===g);L||(L=ex.find(e=>e.key===g)),(0,l.useEffect)(()=>{o?.disable_all?A(!0):(A(!1),j(i?.[n]?.model||d?.preferences?.model||"default"),a(i?.[n]?.model||d?.preferences?.model||"default"))},[o,i,n,a,d]);let E=(0,P.useUpdateUserPreferences)(),I=async s=>{h.default.capture("model_selected",{model:s,from:e});let t=b.find(e=>e.key===s);if(t||(t=ex.find(e=>e.key===s)),t){if(j(t.key),a(t.key),n&&i?.[n]?.provider?.key!==t.key&&n){let e=i?.[n];e&&r({...i,[n]:{...e,provider:t,model:t.key}});try{await k({conversationId:n,model:t.key})}catch(e){console.error("Failed to patch conversation:",e)}}d?.preferences?.model!==t.key&&E.mutate({model:t.key})}},U=e=>{let a=!!c&&"default"!==e.key||!!e.proOnly&&!x||!!e.maxOnly&&!f,t="Upgrade to Pro";return("claude-opus-4"===e.key||"gpt-5-2"===e.key)&&(t="Upgrade to Max"),(0,s.jsxs)(S.Tooltip,{onShow:()=>{a&&h.default.capture("upgrade_cta_shown",{type:"tooltip",name:"select_model"})},children:[(0,s.jsx)(S.TooltipTrigger,{className:"w-full",onClick:()=>{if(a){try{u("select_model_upgrade_cta_shown")}catch{console.error("Failed to trigger Loops event")}J.toast.warning((0,s.jsxs)("div",{className:"break-words",children:[p.FEATURE_FLAGS.IS_WEBVIEW?(0,s.jsx)(er.default,{href:"/settings",className:"underline text-primary",onClick:s=>{h.default.capture("upgrade_button_clicked",{model:e.key,location:"select_model_toast"}),s.stopPropagation()},children:"Upgrade"}):(0,s.jsx)("a",{className:"underline text-primary",href:"/settings",target:"_blank",rel:"noopener noreferrer",onClick:s=>{h.default.capture("upgrade_button_clicked",{model:e.key,location:"select_model_toast"}),s.stopPropagation()},children:t})," ","to use this model"]})),h.default.capture("upgrade_cta_shown",{type:"toast",name:"select_model"});return}},children:(0,s.jsx)(Z.SelectItem,{value:e.key,className:"flex gap-1 text-sm hover:bg-muted",disabled:a,children:(0,s.jsxs)("div",{className:"flex flex-row items-center space-x-1 py-[.5px]",children:[(0,s.jsx)(en.Lock,{className:`${a?"":"invisible"}`}),e.image,(0,s.jsx)("span",{children:e.display})]})})}),(0,s.jsx)(S.TooltipContent,{side:"right",className:"z-50 w-36 text-sm sm:w-64",children:a?(0,s.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,s.jsxs)("div",{className:"font-semibold break-words",children:[(0,s.jsx)("a",{className:"underline pointer-events-auto text-primary",href:"/settings",target:"_blank",rel:"noopener noreferrer",onClick:s=>{h.default.capture("upgrade_button_clicked",{model:e.key,location:"select_model_tooltip"}),s.stopPropagation()},children:t})," ","to use this model"]}),(0,s.jsx)("span",{className:"text-muted-foreground",children:e.description})]}):(0,s.jsx)("span",{children:e.description})})]},e.key)};return C?(0,s.jsxs)(Z.Select,{defaultValue:"GPT-4o",onValueChange:I,children:[(0,s.jsx)(Z.SelectTrigger,{className:"min-w-32 max-w-fit gap-2 focus:ring-0 focus:ring-offset-0 p-2 h-6 text-xs w-26 hover:bg-secondary overflow-hidden",children:(0,s.jsx)(Z.SelectValue,{children:L?(0,s.jsxs)("div",{className:"flex flex-row items-center space-x-1 w-full",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:L.image}),(0,s.jsx)("span",{className:"truncate flex-grow min-w-0",children:L.display})]}):"Select a model"})}),(0,s.jsx)(Z.SelectContent,{children:(0,s.jsxs)(Z.SelectGroup,{className:"flex flex-col justify-start items-start",children:[(0,s.jsx)(Z.SelectLabel,{className:"text-xs",children:"Models"}),ex.map(U)]})})]}):(0,s.jsxs)(Z.Select,{defaultValue:g,onValueChange:I,children:[(0,s.jsx)(Z.SelectTrigger,{className:"min-w-32 max-w-fit gap-2 focus:ring-0 focus:ring-offset-0","data-cy":"ai-select",children:(0,s.jsx)(Z.SelectValue,{children:L?(0,s.jsxs)("div",{className:"flex flex-row items-center gap-1 w-full",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:L.image}),(0,s.jsx)("span",{className:"truncate flex-grow min-w-0",children:L.display})]}):"Select a model"})}),(0,s.jsx)(Z.SelectContent,{align:"end",children:(0,s.jsxs)(Z.SelectGroup,{className:"flex flex-col justify-start items-start",children:[(0,s.jsx)(Z.SelectLabel,{className:"text-xs",children:"Models"}),v.map(U),y&&_.map(U),(0,s.jsx)("div",{className:"w-full text-sm cursor-pointer flex items-center justify-between py-2 px-2 hover:bg-secondary rounded-xl",onClick:()=>w(!y),children:y?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-xs ml-6",children:"Show Less"}),(0,s.jsx)(ei.ChevronUp,{})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-xs ml-6",children:"Show More"}),(0,s.jsx)(el.ChevronDown,{})]})})]})})]})};function ef(){let{toolPreferences:e,setToolPreferences:a,conversations:t,activeConversationId:i,setConversations:n,isFreeUser:r}=(0,T.useChatContext)(),{patchConversation:o}=(0,X.useChatAPI)(),{data:c}=(0,P.useUserInformation)();(0,l.useEffect)(()=>{a({...c?.preferences||{},...t[i]?.tool_preferences||{}})},[c,t,i,a]);let d=(0,P.useUpdateUserPreferences)(),m=s=>{let l={};"disable_all"===s?l.disable_all=!e?.disable_all:l={...e,[s]:!e?.[s]},a(l),i&&(n({...t,[i]:{...t[i],tool_preferences:l}}),o({conversationId:i,toolPreferences:l})),d.mutate(l),h.default.capture("tool_selection",{toolName:s,checked:!e?.[s]})},{theme:u,setTheme:x}=(0,L.useUserContext)(),g=(0,l.useCallback)(async e=>{let s="dark"===e?"dark":"light",a="dark"===e?"light":"dark";document.body.classList.add(s),document.body.classList.remove(a);try{window.localStorage.setItem("theme",e)}catch(e){console.error(e)}x(e)},[x]);return(0,l.useEffect)(()=>{try{let e=window.localStorage.getItem("theme")||"light";g(e)}catch(e){console.error(e)}},[g]),(0,s.jsxs)("div",{className:"flex flex-col w-full gap-5",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(b.Label,{children:"Appearance"}),(0,s.jsxs)(Z.Select,{value:u,onValueChange:g,children:[(0,s.jsx)(Z.SelectTrigger,{className:"min-w-32 max-w-fit gap-2 focus:ring-0 focus:ring-offset-0","data-cy":"theme-select",children:(0,s.jsx)(Z.SelectValue,{placeholder:"Select theme",children:(0,s.jsx)("div",{className:"flex items-center gap-2",children:"light"===u?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Y.Sun,{className:"h-4 w-4"})," Light"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(H.Moon,{className:"h-4 w-4"})," Dark"]})})})}),(0,s.jsxs)(Z.SelectContent,{children:[(0,s.jsx)(Z.SelectItem,{value:"light",className:"hover:bg-muted",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(Y.Sun,{className:"h-4 w-4"})," ",(0,s.jsx)("span",{children:"Light"})]})}),(0,s.jsx)(Z.SelectItem,{value:"dark",className:"hover:bg-muted",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(H.Moon,{className:"h-4 w-4"})," ",(0,s.jsx)("span",{children:"Dark"})]})})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(b.Label,{children:"Model"}),(0,s.jsx)(eh,{})]}),(0,s.jsxs)("div",{className:"flex md:hidden items-center justify-between",children:[(0,s.jsx)(b.Label,{children:"Kernel"}),(0,s.jsx)(et,{})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)(b.Label,{children:"Chat Display Mode"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Choose how to display tools and code"})]}),(0,s.jsxs)(Z.Select,{value:(p.FEATURE_FLAGS.CALL_STACK||e?.tool_display_mode!=="call_stack_stream"&&e?.tool_display_mode!=="call_stack_counts"?e?.tool_display_mode:"show_code")||(e?.hide_code?"collapse_code":"show_code"),onValueChange:s=>{let l={...e};"show_code"===s?l={...l,hide_code:!1,tool_display_mode:"show_code"}:"collapse_code"===s?l={...l,hide_code:!0,tool_display_mode:"collapse_code"}:"call_stack_stream"===s?l=p.FEATURE_FLAGS.CALL_STACK?{...l,tool_display_mode:"call_stack_stream"}:{...l,tool_display_mode:"show_code"}:"call_stack_counts"===s&&(l=p.FEATURE_FLAGS.CALL_STACK?{...l,tool_display_mode:"call_stack_counts"}:{...l,tool_display_mode:"collapse_code"}),a(l),i&&(n({...t,[i]:{...t[i],tool_preferences:l}}),o({conversationId:i,toolPreferences:l})),d.mutate(l)},children:[(0,s.jsx)(Z.SelectTrigger,{className:"min-w-44 max-w-fit gap-2 focus:ring-0 focus:ring-offset-0",children:(0,s.jsx)(Z.SelectValue,{placeholder:"Select display"})}),(0,s.jsxs)(Z.SelectContent,{children:[p.FEATURE_FLAGS.CALL_STACK&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(S.Tooltip,{children:[(0,s.jsx)(S.TooltipTrigger,{asChild:!0,children:(0,s.jsx)(Z.SelectItem,{value:"call_stack_stream",className:"hover:bg-muted",children:"List"})}),(0,s.jsx)(S.TooltipContent,{side:"right",className:"z-[9999] w-36 text-sm sm:w-64",children:(0,s.jsx)("span",{children:"View real-time execution with context and code details, also summarizes the output"})})]}),(0,s.jsxs)(S.Tooltip,{children:[(0,s.jsx)(S.TooltipTrigger,{asChild:!0,children:(0,s.jsx)(Z.SelectItem,{value:"call_stack_counts",className:"hover:bg-muted",children:"Hide code"})}),(0,s.jsx)(S.TooltipContent,{side:"right",className:"z-[9999] w-36 text-sm sm:w-64",children:(0,s.jsx)("span",{children:"View context of real-time execution with hidden code but shows summaries and results."})})]})]}),(0,s.jsxs)(S.Tooltip,{children:[(0,s.jsx)(S.TooltipTrigger,{asChild:!0,children:(0,s.jsx)(Z.SelectItem,{value:"show_code",className:"hover:bg-muted",children:p.FEATURE_FLAGS.CALL_STACK?"Cells":"Show code"})}),(0,s.jsx)(S.TooltipContent,{side:"right",className:"z-[9999] w-36 text-sm sm:w-64",children:(0,s.jsx)("span",{children:"Display complete execution details with code visible by default"})})]}),(0,s.jsxs)(S.Tooltip,{children:[(0,s.jsx)(S.TooltipTrigger,{asChild:!0,children:(0,s.jsx)(Z.SelectItem,{value:"collapse_code",className:"hover:bg-muted",children:p.FEATURE_FLAGS.CALL_STACK?"Collapsed cells":"Collapse code"})}),(0,s.jsx)(S.TooltipContent,{side:"right",className:"z-[9999] w-36 text-sm sm:w-64",children:(0,s.jsx)("span",{children:"Display complete execution details with code hidden by default, expand to view"})})]})]})]})]}),p.FEATURE_FLAGS.LEARN_FROM_FEEDBACK&&(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)(b.Label,{children:"Learn from Feedback"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Julius learns from your feedback (Up/Down votes and star ratings) to improve its responses"})]}),(0,s.jsx)(M.Switch,{id:"learn-from-feedback",checked:e?.learning_from_feedback,onCheckedChange:()=>m("learning_from_feedback")})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)(b.Label,{children:"Web Search"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Access real-time web information to enhance your analysis"})]}),(0,s.jsx)(M.Switch,{id:"search",checked:!e?.disable_search,onCheckedChange:()=>m("disable_search")})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)(b.Label,{children:"Autorun Code"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Let AI run code automatically without requiring manual review and approval"})]}),(0,s.jsx)(M.Switch,{id:"autorun-code",checked:!e?.disable_code_autorun,onCheckedChange:()=>m("disable_code_autorun")})]}),(0,s.jsxs)(S.Tooltip,{children:[(0,s.jsx)(S.TooltipTrigger,{asChild:!0,children:(0,s.jsxs)("div",{className:"hidden sm:flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsxs)("div",{className:"flex justify-start items-center gap-2",children:[(0,s.jsx)(b.Label,{children:"Advanced Reasoning"}),r&&(0,s.jsx)("span",{className:"text-2xs bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-transparent bg-clip-text",children:"Upgrade Plan"})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"AI-powered task planning and execution for complex problems"})]}),(0,s.jsx)(M.Switch,{id:"advanced-reasoning",checked:e?.advanced_reasoning,onCheckedChange:()=>m("advanced_reasoning"),disabled:r})]})}),r&&(0,s.jsx)(S.TooltipContent,{className:"w-64 p-4 bg-gray-950/80 backdrop-blur-md border-1 border-gray-700/80",side:"top",align:"end",children:(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsx)("span",{children:"Unlock advanced AI capabilities that intelligently plan and execute tasks for you"}),(0,s.jsx)(f.Button,{size:"sm",className:"bg-blue-500 hover:bg-blue-600",onClick:()=>{window.open("/settings","_blank","noopener,noreferrer"),h.default.capture("upgrade_button_clicked",{location:"advanced_reasoning_tooltip"})},children:"Upgrade Now"})]})})]}),(0,s.jsxs)(S.Tooltip,{children:[(0,s.jsx)(S.TooltipTrigger,{asChild:!0,children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsxs)("div",{className:"flex justify-start items-center gap-2",children:[(0,s.jsx)(b.Label,{children:"Extended Memory"}),r&&(0,s.jsx)("span",{className:"text-2xs bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-transparent bg-clip-text",children:"Upgrade Plan"})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Allow the AI to remember information from previous conversations to provide more personalized responses"})]}),(0,s.jsx)(M.Switch,{id:"extended-memory",checked:e?.extended_memory,onCheckedChange:()=>m("extended_memory"),disabled:r})]})}),r&&(0,s.jsx)(S.TooltipContent,{className:"w-64 p-4 bg-gray-950/80 backdrop-blur-md border-1 border-gray-700/80",side:"top",align:"end",children:(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsx)("span",{children:"Unlock Extended Memory to allow the AI to remember information from previous conversations"}),(0,s.jsx)(f.Button,{size:"sm",className:"bg-blue-500 hover:bg-blue-600",onClick:()=>{window.open("/settings","_blank","noopener,noreferrer"),h.default.capture("upgrade_button_clicked",{location:"extended_memory_tooltip"})},children:"Upgrade Now"})]})})]})]})}var ep=e.i(573793);function eg({defaultSection:e=null}){let[a,t]=(0,l.useState)(e||null),[n,g]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let e=()=>{let e=window.innerWidth<640;g(e),e||a||t("general")};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[a]);let j=(e,l,i,r)=>(0,s.jsxs)(f.Button,{variant:"ghost",className:`font-normal justify-start gap-2 ${a===e&&!n?"bg-muted":""}`,onClick:()=>{t(e),"themes"===e&&h.default.capture("chart_themes:chart_theme_settings_opened",{source:"settings_modal"})},"data-cy":r,children:[l,i]});return(0,s.jsxs)("div",{className:"flex flex-1 flex-col w-full h-full",children:[(0,s.jsx)("header",{className:"flex items-center border-b p-4 pt-0 shrink-0",children:(0,s.jsx)("h1",{className:"text-lg font-semibold",children:"Settings"})}),(0,s.jsxs)("main",{className:"flex flex-1 py-4 overflow-auto",children:[(!n||n&&!a)&&(0,s.jsxs)("div",{className:"flex flex-col w-full sm:w-1/3 h-100vh justify-between",children:[(0,s.jsxs)("nav",{className:"flex flex-col gap-1",children:[j("general",(0,s.jsx)(u.Settings2,{className:"h-4 w-4"}),"General","sidenav-general-settings"),j("learnFromFeedback",(0,s.jsx)(m.default,{className:"h-4 w-4"}),"Learned Instructions","sidenav-learn-from-feedback"),j("customContainers",(0,s.jsx)(r,{className:"h-4 w-4"}),"Expand Resources","sidenav-custom-containers"),j("customInstructions",(0,s.jsx)(m.default,{className:"h-4 w-4"}),"Customize Julius","sidenav-custom-instructions"),j("dataConnectors",(0,s.jsx)(x.Unplug,{className:"h-4 w-4"}),"Data Connectors","sidenav-data-connectors"),j("themes",(0,s.jsx)(d.Palette,{className:"h-4 w-4"}),"Chart Themes","sidenav-themes"),j("secrets",(0,s.jsx)(o,{className:"h-4 w-4"}),"Secret Keys","sidenav-secrets"),p.FEATURE_FLAGS.EMAIL_NOTIFICATION_SETTINGS&&j("emailNotifications",(0,s.jsx)(c.Mail,{className:"h-4 w-4"}),"Email Notifications","sidenav-email-notifications")]}),"customContainers"===a&&!n&&(0,s.jsxs)("div",{className:"mt-auto p-4 text-sm text-muted-foreground",children:[(0,s.jsx)("h2",{className:"font-semibold text-foreground mb-1",children:"Custom Containers"}),(0,s.jsx)("p",{children:"Each thread runs in a container with allocated resources and a set lifespan after your last interaction."})]})]}),(!n||n&&a)&&(0,s.jsx)("div",{className:"flex flex-col w-full sm:w-3/4 h-full gap-5 px-4",children:(()=>{switch(a){case"general":return(0,s.jsx)(ef,{});case"customContainers":return(0,s.jsx)(U,{});case"customInstructions":return(0,s.jsx)(D,{});case"themes":return(0,s.jsx)(ep.ThemesSettings,{});case"dataConnectors":return(0,s.jsx)(O,{});case"secrets":return(0,s.jsx)(_.Secrets,{});case"learnFromFeedback":return(0,s.jsx)(v,{});case"emailNotifications":return(0,s.jsx)(q,{});default:return null}})()})]}),n&&a&&(0,s.jsx)("footer",{className:"flex justify-start px-4 py-4 mt-auto",children:(0,s.jsxs)(f.Button,{variant:"outline",onClick:()=>{t(null)},children:[(0,s.jsx)(i.ChevronLeft,{className:"h-4 w-4 mr-2"}),"Back to Navigation"]})})]})}e.s(["ChatSettingsModal",0,({modal:e,setModal:l,defaultSection:i=null})=>(0,s.jsxs)(a.Dialog,{open:"chat_settings"===e,onOpenChange:l,children:[(0,s.jsx)(a.DialogTitle,{className:"sr-only",children:"Settings"}),(0,s.jsx)(a.DialogContent,{className:(0,t.cn)("flex overflow-auto flex-col w-full sm:min-w-[720px] min-h-[540px] max-h-full mobile-bottom-dialog","data-[state=open]:animate-slide-in-bottom data-[state=closed]:animate-slide-out-bottom","sm:data-[state=open]:animate-none sm:data-[state=closed]:animate-none","rounded-t-xl sm:rounded-xl"),children:(0,s.jsx)(eg,{defaultSection:i})})]})],139865)},314465,e=>{e.n(e.i(139865))}]);

//# debugId=442ebc00-a1a7-302e-bd9f-c5a0821d1cb5
//# sourceMappingURL=8b0caca75ff4cdf0.js.map