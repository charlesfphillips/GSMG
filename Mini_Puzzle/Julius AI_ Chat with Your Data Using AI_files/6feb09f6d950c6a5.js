;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="7f504dc1-4072-a6d6-dba8-1ab7793df9fb")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,140020,e=>{"use strict";var s=e.i(843476),t=e.i(463415),a=e.i(647163);function l({title:e,className:l}){return(0,s.jsx)(t.DropdownMenuLabel,{className:(0,a.cn)("text-left font-normal text-2xs/tight text-muted-foreground px-3 pt-1.5 pb-0",l),children:e})}e.s(["default",()=>l])},963609,e=>{"use strict";var s=e.i(843476),t=e.i(555436),a=e.i(23750);function l({placeholder:e,value:l,setValue:n,icon:i,onIconClick:r}){return(0,s.jsxs)("div",{className:"flex items-center gap-2 px-2 py-1.5 rounded-md bg-message h-7",children:[(0,s.jsx)("div",{className:"size-3 shrink-0 text-muted-foreground cursor-pointer",onClick:r,children:i||(0,s.jsx)(t.Search,{className:"size-3"})}),(0,s.jsx)(a.Input,{className:"flex flex-1 bg-transparent px-2 h-6 p-0 border-none focus-visible:ring-0 text-xs placeholder:text-muted-foreground tracking-[-0.015em]",type:"text",placeholder:e,value:l,onChange:e=>n(e.target.value),onKeyDown:e=>{e.stopPropagation()},onKeyUp:e=>{e.stopPropagation()},autoFocus:!0})]})}e.s(["default",()=>l])},466689,e=>{"use strict";var s=e.i(843476),t=e.i(271645),a=e.i(871689),l=e.i(531278),n=e.i(107233),i=e.i(358977),r=e.i(657688),o=e.i(618566),c=e.i(544216),d=e.i(756563),u=e.i(796610),x=e.i(463415),m=e.i(728231),h=e.i(367944),g=e.i(653770),f=e.i(647163),p=e.i(819449),j=e.i(140020),N=e.i(963609);function w({triggerButton:e,className:w,onConnectionSelect:v,selectedConnectionId:b}){let[k,C]=(0,t.useState)(""),{data:y}=(0,d.useTeamDataConnections)(),{data:S}=(0,c.useUserConnections)(),{data:T}=(0,u.useCurrentTeam)(),{data:_}=(0,c.useConnectors)(),M=(0,t.useMemo)(()=>_?new Map(_.map(e=>[e.id,e])):new Map,[_]),{handleSelectDataConnection:z,dataConnections:F,isFreeUser:P}=(0,h.useChatContext)(),{setModal:L,setModalProps:U}=(0,g.useModal)(),B=(0,o.useRouter)(),D=(0,t.useMemo)(()=>{if(v&&void 0!==b)return e=>e.id===b;let e=new Set(F?Object.values(F).map(e=>e.id):[]);return s=>e.has(s.id)},[F,v,b]),{userConnectionsSorted:K,teamConnectionsSorted:q}=(0,t.useMemo)(()=>{let e=e=>e.sort((e,s)=>{let t=D(e),a=D(s);return t&&!a?-1:!t&&a?1:0});return{userConnectionsSorted:e(S||[]),teamConnectionsSorted:e(y||[])}},[y,S,D]),{filteredUserConnections:A,filteredTeamConnections:O}=(0,t.useMemo)(()=>{let e=k.toLowerCase().trim(),s=s=>e?s.filter(s=>{let t=s.name?.toLowerCase()||"",a=M?.get(s.type),l=a?.name?.toLowerCase()||"";return t.includes(e)||l.includes(e)}):s;return{filteredUserConnections:s(K),filteredTeamConnections:s(q)}},[K,q,k,M]),Q=e=>e.map(e=>{let t=M?.get(e.type),a=D(e);return(0,s.jsx)(p.default,{onSelect:()=>{v?v(e,a):z(e,a,L,U)},children:(0,s.jsxs)(m.Tooltip,{children:[(0,s.jsx)(m.TooltipTrigger,{asChild:!0,children:(0,s.jsxs)("div",{className:"flex min-w-0 flex-1 items-center gap-2 w-full",children:[(0,s.jsxs)("div",{className:"relative inline-block",children:[t?(0,s.jsx)(r.default,{width:12,height:12,src:t.light_logo_url,alt:t.name,className:"flex-shrink-0"}):(0,s.jsx)(i.Unplug,{className:"size-3 flex-shrink-0"}),"success"===e.last_background_enabled_status?(0,s.jsx)("span",{className:"absolute -bottom-0.5 -right-0.5 size-1 rounded-full bg-green-500 ring-1 ring-background"}):"error"===e.last_background_enabled_status?(0,s.jsx)("span",{className:"absolute -bottom-0.5 -right-0.5 size-1 rounded-full bg-red-500 ring-1 ring-background"}):null]}),(0,s.jsxs)("div",{className:"flex min-w-0 flex-1 items-center gap-1",children:[(0,s.jsx)("div",{className:"text-left truncate text-foreground min-w-0 flex-1",children:e.name||e.id}),a&&(0,s.jsx)("div",{className:"text-xs text-primary dark:text-[#709CFC] ml-2",children:"âœ“"})]})]})}),(0,s.jsx)(m.TooltipContent,{side:"right",className:"max-w-xs",children:"error"===e.last_background_enabled_status?e.last_background_enabled_error?.message||"Background enable failed":t?.name||"Unknown connector"})]})},e.id)});return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(x.DropdownMenu,{modal:!1,children:[e,!P&&(0,s.jsxs)(x.DropdownMenuContent,{side:"bottom",align:"start",className:(0,f.cn)("p-0 max-h-[260px] pb-1 mr-6 ml-0 w-full",w),children:[(0,s.jsx)("div",{className:"z-40 bg-background px-1 pt-1",children:(0,s.jsx)(N.default,{placeholder:"Search data connectors...",value:k,setValue:C,icon:k.trim()?(0,s.jsx)(a.ArrowLeft,{className:"size-3"}):void 0,onIconClick:k.trim()?()=>C(""):void 0})}),(0,s.jsx)("div",{className:"max-h-[221px] px-1 subtle-scroll overflow-y-auto",children:void 0===S||void 0===y&&T?.details!==null?(0,s.jsxs)(s.Fragment,{children:[void 0===S?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j.default,{title:"My Connectors",className:"px-2"}),(0,s.jsx)("div",{className:"flex items-center justify-center py-4",children:(0,s.jsx)(l.Loader2,{className:"text-muted-secondary animate-spin size-6"})})]}):A.length>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j.default,{title:"My Connectors",className:"px-2"}),Q(A),(0,s.jsxs)(p.default,{onSelect:()=>B.push("/data-connectors"),children:[(0,s.jsx)(n.Plus,{className:"size-3 flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex min-w-0 flex-1 items-center gap-1",children:[(0,s.jsx)("div",{className:"truncate text-foreground min-w-0 flex-1",children:"New data connector"}),(0,s.jsx)(r.default,{src:"https://r2.julius.ai/postgres-logo.png",alt:"Postgres",width:12,height:12,className:"flex-shrink-0"}),(0,s.jsx)(r.default,{src:"https://r2.julius.ai/bigquery-logo.png",alt:"BigQuery",width:12,height:12,className:"flex-shrink-0"}),(0,s.jsx)(r.default,{src:"https://r2.julius.ai/snowflake-logo.png",alt:"Snowflake",width:12,height:12,className:"flex-shrink-0"})]})]})]}):null,void 0===y&&T?.details!==null?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j.default,{title:"Team Connectors",className:"px-2"}),(0,s.jsx)("div",{className:"flex items-center justify-center py-4",children:(0,s.jsx)(l.Loader2,{className:"text-muted-secondary animate-spin size-6"})})]}):O.length>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j.default,{title:"Team Connectors",className:"px-2"}),Q(O)]}):null]}):A.length>0||O.length>0?(0,s.jsxs)(s.Fragment,{children:[A.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j.default,{title:"My Connectors",className:"px-2"}),Q(A),(0,s.jsxs)(p.default,{onSelect:()=>B.push("/data-connectors"),children:[(0,s.jsx)(n.Plus,{className:"size-3 flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex min-w-0 flex-1 items-center gap-1",children:[(0,s.jsx)("div",{className:"truncate text-foreground min-w-0 flex-1",children:"New data connector"}),(0,s.jsx)(r.default,{src:"https://r2.julius.ai/postgres-logo.png",alt:"Postgres",width:12,height:12,className:"flex-shrink-0"}),(0,s.jsx)(r.default,{src:"https://r2.julius.ai/bigquery-logo.png",alt:"BigQuery",width:12,height:12,className:"flex-shrink-0"}),(0,s.jsx)(r.default,{src:"https://r2.julius.ai/snowflake-logo.png",alt:"Snowflake",width:12,height:12,className:"flex-shrink-0"})]})]})]}),O.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j.default,{title:"Team Connectors",className:"px-2"}),Q(O)]})]}):(0,s.jsxs)("div",{className:"flex flex-col items-center pt-4",children:[(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:k?"No connectors found":"No connectors available"}),(0,s.jsxs)(p.default,{onSelect:()=>B.push("/data-connectors"),className:"mt-1 w-full",children:[(0,s.jsx)(n.Plus,{className:"size-3 flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex min-w-0 flex-1 items-center gap-1",children:[(0,s.jsx)("div",{className:"truncate text-foreground min-w-0 flex-1",children:"Connect your data"}),(0,s.jsx)(r.default,{src:"https://r2.julius.ai/postgres-logo.png",alt:"Postgres",width:12,height:12,className:"flex-shrink-0"}),(0,s.jsx)(r.default,{src:"https://r2.julius.ai/bigquery-logo.png",alt:"BigQuery",width:12,height:12,className:"flex-shrink-0"}),(0,s.jsx)(r.default,{src:"https://r2.julius.ai/snowflake-logo.png",alt:"Snowflake",width:12,height:12,className:"flex-shrink-0"})]})]})]})})]})]})})}e.s(["default",()=>w])},478735,e=>{e.n(e.i(466689))}]);

//# debugId=7f504dc1-4072-a6d6-dba8-1ab7793df9fb
//# sourceMappingURL=e2abcfea2820c83a.js.map