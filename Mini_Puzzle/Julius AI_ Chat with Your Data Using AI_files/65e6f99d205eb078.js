;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="8a680f3d-0539-24fe-0943-3e30a2330622")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,975558,e=>{"use strict";let t=(0,e.i(475254).default)("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);e.s(["ArrowUp",()=>t],975558)},871689,e=>{"use strict";let t=(0,e.i(475254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],871689)},759875,e=>{"use strict";var t=e.i(843476),a=e.i(871689),s=e.i(463059),r=e.i(522016),i=e.i(618566),n=e.i(167881),l=e.i(647163);function o({heading:e,subheading:o,linkText:c,linkHref:d,breadcrumbs:u,hasBackButton:m=!1,className:p,children:g}){let h=(0,i.useRouter)();return(0,t.jsxs)("header",{className:(0,l.cn)("flex flex-row w-full justify-between items-center",p),children:[(0,t.jsxs)("div",{className:"flex flex-col flex-1 space-y-1",children:[m&&(0,t.jsxs)(n.Button,{variant:"ghost",className:"gap-2 w-fit font-normal text-muted-foreground h-4 px-0",onClick:()=>h.back(),children:[(0,t.jsx)(a.ArrowLeft,{className:"w-4 h-4 shrink-0"}),(0,t.jsx)("span",{children:"Back"})]}),u&&(0,t.jsx)("div",{className:"flex flex-row items-center gap-2 text-sm",children:u.map(e=>(0,t.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[e.onClick?(0,t.jsx)(n.Button,{variant:"ghost",className:(0,l.cn)("text-foreground h-4 px-0",e.index<u.length-1&&"font-normal text-muted-foreground"),onClick:e.onClick,children:(0,t.jsx)("span",{children:e.name})}):e.href?(0,t.jsx)(r.default,{href:e.href,onClick:e.onClick,className:(0,l.cn)("text-foreground h-4 px-0",e.index<u.length-1&&"font-normal text-muted-foreground"),children:(0,t.jsx)("span",{children:e.name})}):(0,t.jsx)("div",{className:(0,l.cn)("flex items-center text-foreground h-4 px-0",e.index<u.length-1&&"font-normal text-muted-foreground"),children:(0,t.jsx)("span",{children:e.name})}),e.index<u.length-1&&(0,t.jsx)(s.ChevronRight,{className:"w-4 h-4 shrink-0 text-muted-foreground"})]},e.index))}),e&&("string"==typeof e?(0,t.jsx)("h1",{className:"-mb-1 text-card-foreground text-xl font-semibold tracking-[-0.02em]",children:e}):(0,t.jsx)("div",{className:"-mb-1 text-card-foreground text-xl font-semibold tracking-[-0.02em]",children:e})),o&&(0,t.jsx)("p",{className:"text-muted-foreground text-sm tracking-[-0.02em] leading-[1.4em]",children:o}),c&&d&&(0,t.jsx)(r.default,{href:d,className:"text-sm text-muted-foreground underline",children:c})]}),g]})}e.s(["default",()=>o])},367118,e=>{"use strict";let t=(0,e.i(475254).default)("chart-line",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);e.s(["default",()=>t])},285041,931091,e=>{"use strict";var t=e.i(367118);e.s(["ChartLine",()=>t.default],285041);let a=(0,e.i(475254).default)("megaphone",[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]]);e.s(["Megaphone",()=>a],931091)},852008,e=>{"use strict";let t=(0,e.i(475254).default)("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);e.s(["Layers",()=>t],852008)},270756,517302,e=>{"use strict";let t=(0,e.i(475254).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["default",()=>t],517302),e.s(["Lock",()=>t],270756)},341240,e=>{"use strict";let t=(0,e.i(475254).default)("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);e.s(["Lightbulb",()=>t],341240)},560730,e=>{"use strict";var t=e.i(52563),a=e.i(954616),s=e.i(266027),r=e.i(912598),i=e.i(394073),n=e.i(647163);let l=async(e,t)=>{let a=await (0,n.customFetch)(`${i.BASE_API}/api/custom_agents/create`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok){let e=await a.text();throw Error(`Failed to create custom agent: ${a.status} ${e}`)}return await a.json()},o=async(e,t)=>{let a=await (0,n.customFetch)(`${i.BASE_API}/api/custom_agents/update`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok){let e=await a.text();throw Error(`Failed to update custom agent: ${a.status} ${e}`)}return await a.json()},c=async e=>{let t=await (0,n.customFetch)(`${i.BASE_API}/api/custom_agents/get_all`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok){let e=await t.text();throw Error(`Failed to get custom agents: ${t.status} ${e}`)}return await t.json()},d=async(e,t)=>{let a=await (0,n.customFetch)(`${i.BASE_API}/api/custom_agents/delete/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!a.ok){let e=await a.text();throw Error(`Failed to delete custom agent: ${a.status} ${e}`)}return await a.json()},u=async(e,t,a)=>{let s=await (0,n.customFetch)(`${i.BASE_API}/api/teams/${t}/custom-agents/${e}`,{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({agent_id:e,team_id:t})});if(!s.ok){let e=await s.text();throw Error(`Failed to share custom agent: ${s.status} ${e}`)}return await s.json()},m=async(e,t,a)=>{let s=await (0,n.customFetch)(`${i.BASE_API}/api/teams/${t}/custom-agents/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(!s.ok){let e=await s.text();throw Error(`Failed to unshare custom agent: ${s.status} ${e}`)}return await s.json()},p=async(e,t)=>{let a=await (0,n.customFetch)(`${i.BASE_API}/api/custom_agents/publish_admin`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok){let e=await a.text();throw Error(`Failed to publish custom agent: ${a.status} ${e}`)}return await a.json()},g=async()=>{let e=await (0,n.customFetch)(`${i.BASE_API}/api/custom_agents/get_all_template_agents`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok){let t=await e.text();throw Error(`Failed to get template custom agents: ${e.status} ${t}`)}return await e.json()},h=async(e,t)=>{let a=await (0,n.customFetch)(`${i.BASE_API}/api/custom_agents/create_from_template/${e.publicAgentId}`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({})});if(!a.ok){let e=await a.text();throw Error(`Failed to create custom agent from template: ${a.status} ${e}`)}return await a.json()};e.s(["useCreateCustomAgent",0,()=>{let{getAccessTokenSilently:e}=(0,t.useAuth0)(),s=(0,r.useQueryClient)();return(0,a.useMutation)({mutationFn:async t=>l(t,await e()),onSuccess:()=>{s.invalidateQueries({queryKey:["custom-agents"]})}})},"useCreateCustomAgentFromTemplate",0,()=>{let{getAccessTokenSilently:e}=(0,t.useAuth0)(),s=(0,r.useQueryClient)();return(0,a.useMutation)({mutationFn:async t=>{let a=await e();return h({publicAgentId:t.publicAgentId},a)},onSuccess:()=>{s.invalidateQueries({queryKey:["custom-agents"]})}})},"useDeleteCustomAgent",0,()=>{let{getAccessTokenSilently:e}=(0,t.useAuth0)(),s=(0,r.useQueryClient)();return(0,a.useMutation)({mutationFn:async t=>d(t,await e()),onSuccess:()=>{s.invalidateQueries({queryKey:["custom-agents"]})}})},"useGetCustomAgents",0,()=>{let{getAccessTokenSilently:e}=(0,t.useAuth0)();return(0,s.useQuery)({queryKey:["custom-agents"],queryFn:async()=>c(await e())})},"useGetTemplateCustomAgents",0,()=>(0,s.useQuery)({queryKey:["template-custom-agents"],queryFn:async()=>g()}),"usePublishCustomAgent",0,()=>{let{getAccessTokenSilently:e}=(0,t.useAuth0)(),s=(0,r.useQueryClient)();return(0,a.useMutation)({mutationFn:async t=>{let a=await e();return p({publicId:t.publicId,name:t.name,config:t.config,category:t.category},a)},onSuccess:()=>{s.invalidateQueries({queryKey:["custom-agents"]})}})},"useShareCustomAgentWithTeam",0,()=>{let{getAccessTokenSilently:e}=(0,t.useAuth0)(),s=(0,r.useQueryClient)();return(0,a.useMutation)({mutationFn:async t=>{let a=await e();return u(t.agentId,t.teamId,a)},onSuccess:()=>{s.invalidateQueries({queryKey:["custom-agents"]})}})},"useUnshareCustomAgentWithTeam",0,()=>{let{getAccessTokenSilently:e}=(0,t.useAuth0)(),s=(0,r.useQueryClient)();return(0,a.useMutation)({mutationFn:async t=>{let a=await e();return m(t.agentId,t.teamId,a)},onSuccess:()=>{s.invalidateQueries({queryKey:["custom-agents"]})}})},"useUpdateCustomAgent",0,()=>{let{getAccessTokenSilently:e}=(0,t.useAuth0)(),s=(0,r.useQueryClient)();return(0,a.useMutation)({mutationFn:async t=>o(t,await e()),onSuccess:()=>{s.invalidateQueries({queryKey:["custom-agents"]})}})}],560730)},187378,63727,e=>{"use strict";var t=e.i(475254);let a=(0,t.default)("banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);e.s(["Banknote",()=>a],187378);let s=(0,t.default)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);e.s(["Briefcase",()=>s],63727)},300549,e=>{"use strict";var t=e.i(843476),a=e.i(271645),s=e.i(647163);let r=a.default.memo(function({children:e,as:r="p",className:i,duration:n=2,spread:l=2,repeatDelay:o=0}){let c=(0,a.useMemo)(()=>e.length*l,[e,l]),d=(0,a.useState)(()=>`text-shimmer-${Math.random().toString(36).substring(2,11)}`)[0],u=n+o,m=n/u*100;return(0,a.useEffect)(()=>{let e=`${d}-style`;if(!document.getElementById(e)){let t=document.createElement("style");return t.id=e,t.textContent=`
        @keyframes ${d} {
          0% { background-position: 100% center; }
          ${m}% { background-position: 0% center; }
          100% { background-position: 0% center; }
        }
      `,document.head.appendChild(t),()=>{let t=document.getElementById(e);t&&t.remove()}}},[m,d]),(0,t.jsx)(r,{className:(0,s.cn)("relative inline-block bg-[length:250%_100%,auto] bg-clip-text","text-transparent [--base-color:#a1a1aa] [--base-gradient-color:#000]","[background-repeat:no-repeat,padding-box] [--bg:linear-gradient(90deg,#0000_calc(50%-var(--spread)),var(--base-gradient-color),#0000_calc(50%+var(--spread)))]","dark:[--base-color:#71717a] dark:[--base-gradient-color:#ffffff] dark:[--bg:linear-gradient(90deg,#0000_calc(50%-var(--spread)),var(--base-gradient-color),#0000_calc(50%+var(--spread)))]",i),style:{"--spread":`${c}px`,backgroundImage:"var(--bg), linear-gradient(var(--base-color), var(--base-color))",animation:`${d} ${u}s ease-out infinite`},children:e})});e.s(["TextShimmer",0,r])},637847,e=>{"use strict";var t=e.i(843476),a=e.i(271645),s=e.i(912598),r=e.i(975558),i=e.i(217923),n=e.i(294918),l=e.i(852008),o=e.i(341240),c=e.i(270756),d=e.i(618566),u=e.i(604570),m=e.i(846696),p=e.i(560730),g=e.i(796610),h=e.i(300549),x=e.i(167881),f=e.i(630374),y=e.i(728231),b=e.i(367944),j=e.i(620949);function v({agent:e,open:v,onOpenChange:w}){let _=(0,d.useRouter)(),N=(0,s.useQueryClient)(),k=(0,j.useUpdateUserPreferences)(),C=(0,p.useCreateCustomAgentFromTemplate)(),{data:A}=(0,p.useGetCustomAgents)(),{setToolPreferences:T}=(0,b.useChatContext)(),{data:S}=(0,g.useCurrentTeam)(),[$,z]=a.default.useState(!1),[E,P]=a.default.useState(!1),[B,F]=a.default.useState(!1),M="/pricing",I=()=>{F(!0),setTimeout(()=>{F(!1)},3e3)},O="Enterprise Feature, talk to sales",Q=!S?.details?.feature_flags?.includes("ENTERPRISE_CUSTOM_AGENTS"),U=async t=>{await k.mutateAsync({custom_agent_id:t}),T(e=>({...e,custom_agent_id:t})),m.toast.success(`Agent "${e?.name}" is now active`)},q=(e,t)=>{let a=t||A?.agents;if(!a)return null;let s=JSON.stringify(e||{});return a.find(e=>JSON.stringify(e.config||{})===s)||null},D=async()=>{if(e?.public_id){z(!0);try{await N.refetchQueries({queryKey:["custom-agents"]});let t=N.getQueryData(["custom-agents"]),a=t?.agents||A?.agents,s=q(e.config,a);if(s){await U(s.id),u.default.capture("custom_agents:template_activated",{agent_id:e.public_id,template_name:e.name,source:"new_chat_template_modal",agent_type:"template",duplicate_prevented:!0}),w(!1),_.push("/chat",void 0);return}let r=(await C.mutateAsync({publicAgentId:e.public_id})).agent.id;u.default.capture("custom_agents:agent_created",{agent_id:e.public_id,template_name:e.name,source:"new_chat_template_modal",agent_type:"template"}),await Promise.all([N.invalidateQueries({queryKey:["customAgents"]}),N.invalidateQueries({queryKey:["custom-agents"]})]),await U(r),u.default.capture("custom_agents:template_activated",{agent_id:e.public_id,template_name:e.name,source:"new_chat_template_modal",agent_type:"template"}),w(!1),_.push("/chat",void 0)}catch(e){m.toast.error("Failed to create agent from template. Please try again or contact support.")}finally{z(!1)}}},L=async()=>{if(e?.public_id){if(F(!1),Q){u.default.capture("custom_agents:upgrade_clicked",{source:"new_chat_template_modal"}),w(!1),_.push("/settings/subscription");return}P(!0);try{await N.refetchQueries({queryKey:["custom-agents"]});let t=N.getQueryData(["custom-agents"]),a=t?.agents||A?.agents,s=q(e.config,a);if(s){u.default.capture("custom_agents:customize_clicked",{agent_id:e.public_id,template_name:e.name,source:"new_chat_template_modal",duplicate_prevented:!0}),w(!1),_.push(`/custom-agents/${s.id}`);return}let r=(await C.mutateAsync({publicAgentId:e.public_id})).agent.id;u.default.capture("custom_agents:agent_created",{agent_id:e.public_id,template_name:e.name,source:"new_chat_template_modal",agent_type:"customized_template"}),await Promise.all([N.invalidateQueries({queryKey:["customAgents"]}),N.invalidateQueries({queryKey:["custom-agents"]})]),w(!1),_.push(`/custom-agents/${r}`)}catch(e){m.toast.error("Failed to create agent from template. Please try again or contact support.")}finally{P(!1)}}};if(!e)return null;let R=e.config||{},K=R.description||"",G=R.instructions||"",J=void 0!==R.behavior?R.behavior:1,Y=R.outputFormat||"all",H=a.default.memo(a.default.forwardRef(({onClick:e,disabled:a,showTooltip:s,isCustomizing:i},n)=>(0,t.jsxs)(x.Button,{ref:n,variant:"primary-light",onClick:t=>{t.stopPropagation(),e()},disabled:a,size:"xs",className:"flex items-center gap-1.5 relative z-10",children:[(0,t.jsx)(r.ArrowUp,{className:"w-3.5 h-3.5"}),s&&!i?(0,t.jsx)(h.TextShimmer,{duration:.5,repeatDelay:10,className:"[--base-color:hsl(var(--primary))] [--base-gradient-color:hsl(var(--background))] dark:[--base-color:hsl(var(--primary))] dark:[--base-gradient-color:hsl(var(--background))] [animation-timing-function:ease-in-out]",as:"span",children:"Upgrade to customize"}):(0,t.jsx)("span",{children:i?"Creating...":"Upgrade to customize"})]})));H.displayName="UpgradeButton";let V=a.default.memo(a.default.forwardRef(({onClick:e,disabled:a,showTooltip:s,isCustomizing:r},i)=>(0,t.jsx)(x.Button,{ref:i,variant:"outline",onClick:t=>{t.stopPropagation(),e()},disabled:a,size:"xs",className:"flex items-center gap-1.5 bg-background relative z-10",children:s&&!r?(0,t.jsx)(h.TextShimmer,{duration:.5,repeatDelay:10,className:"[--base-color:var(--foreground)] [--base-gradient-color:hsl(var(--background))] dark:[--base-color:var(--foreground)] dark:[--base-gradient-color:hsl(var(--background))] [animation-timing-function:ease-in-out]",as:"span",children:"Customize"}):(0,t.jsx)("span",{children:r?"Creating...":"Customize"})})));return V.displayName="CustomizeButton",(0,t.jsx)(f.Dialog,{open:v,onOpenChange:w,children:(0,t.jsx)(f.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto p-0 gap-0",showCloseButton:!1,onOpenAutoFocus:e=>{e.preventDefault()},children:(0,t.jsx)("div",{className:"bg-background dark:bg-message",children:(0,t.jsxs)("div",{className:"bg-primary/5",children:[(0,t.jsxs)(f.DialogHeader,{className:"px-6 pt-6 pb-4 gap-0",children:[(0,t.jsx)(f.DialogTitle,{className:"text-2xl",children:e.name}),K&&(0,t.jsx)("p",{className:"text-base text-muted-foreground !mt-0.5",children:K})]}),Q?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 px-6 text-center",children:[(0,t.jsx)("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:(0,t.jsx)(c.Lock,{className:"h-6 w-6 text-primary"})}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Enterprise Feature"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-6 max-w-sm",children:"Customizing agents is available on the Enterprise plan."}),(0,t.jsxs)(x.Button,{variant:"primary-light",className:"gap-1.5",onClick:t=>{t.stopPropagation(),e&&(u.default.capture("custom_agents:paywall_clicked",{source:"new_chat_template_modal",action:"view_template_editor",template_name:e.name,agent_id:e.public_id}),_.push(M))},children:[(0,t.jsx)(r.ArrowUp,{className:"w-3.5 h-3.5"}),(0,t.jsx)("span",{children:O})]})]}):(0,t.jsxs)("div",{className:"px-6",onClick:I,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold",children:"Profile"}),(0,t.jsx)(y.TooltipProvider,{children:(0,t.jsxs)(y.Tooltip,{open:B,onOpenChange:F,children:[(0,t.jsx)(y.TooltipTrigger,{asChild:!0,children:(0,t.jsx)("div",{className:"relative inline-flex rounded-lg",children:Q?(0,t.jsxs)(x.Button,{variant:"primary-light",onClick:t=>{t.stopPropagation(),e&&(u.default.capture("custom_agents:paywall_clicked",{source:"new_chat_template_modal",action:"customize_template",template_name:e.name,agent_id:e.public_id}),w(!1),_.push(M))},disabled:E||$,size:"xs",className:"flex items-center gap-1.5 relative z-10",children:[(0,t.jsx)(r.ArrowUp,{className:"w-3.5 h-3.5"}),(0,t.jsx)("span",{children:O})]}):Q?(0,t.jsx)(H,{onClick:L,disabled:E||$,showTooltip:B,isCustomizing:E}):(0,t.jsx)(V,{onClick:L,disabled:E||$,showTooltip:B,isCustomizing:E})})}),(0,t.jsx)(y.TooltipContent,{side:"bottom",children:(0,t.jsx)("p",{children:Q?O:"Customize in agent builder"})})]})})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsxs)("div",{className:"flex flex-row gap-6",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("label",{className:"block font-medium mb-2 select-none",children:["Behavior:"," ",(0,t.jsx)("span",{className:"text-primary font-semibold",children:(e=>{switch(e){case 0:return"Short Responses";case 1:default:return"Standard Responses";case 2:return"Detailed Responses"}})(J)})]}),(0,t.jsxs)("div",{className:"relative pt-1 max-w-md",children:[(0,t.jsx)("style",{dangerouslySetInnerHTML:{__html:`
                          .slider::-webkit-slider-thumb {
                            appearance: none;
                            width: 16px;
                            height: 16px;
                            border-radius: 50%;
                            background: hsl(var(--primary));
                            cursor: default;
                            pointer-events: none;
                          }
                          .slider::-moz-range-thumb {
                            width: 16px;
                            height: 16px;
                            border-radius: 50%;
                            background: hsl(var(--primary));
                            cursor: default;
                            pointer-events: none;
                            border: none;
                          }
                        `}}),(0,t.jsx)("input",{type:"range",min:"0",max:"2",step:"1",value:J,readOnly:!0,disabled:!0,tabIndex:-1,onFocus:e=>e.target.blur(),className:"w-full h-2 bg-background rounded-lg appearance-none cursor-default slider pointer-events-none border border-border/50",style:{background:`linear-gradient(to right, hsl(var(--primary)) 0%, hsl(var(--primary)) ${50*J}%, hsl(var(--background)) ${50*J}%, hsl(var(--background)) 100%)`}}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground mt-2 select-none",children:[(0,t.jsx)("span",{className:0===J?"text-foreground font-medium":"",children:"Short"}),(0,t.jsx)("span",{className:1===J?"text-foreground font-medium":"",children:"Default"}),(0,t.jsx)("span",{className:2===J?"text-foreground font-medium":"",children:"Detailed"})]})]})]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("label",{className:"block font-medium mb-1.5 select-none",children:"Output Format"}),(0,t.jsxs)("div",{className:"relative",onClick:I,onMouseDown:I,children:[(0,t.jsxs)("select",{value:Y,disabled:!0,tabIndex:-1,onFocus:e=>e.target.blur(),onClick:I,onMouseDown:I,className:"w-full px-3 py-1.5 text-sm pl-10 border border-border rounded-md bg-background/70 text-foreground appearance-none cursor-default pr-10 opacity-70",children:[(0,t.jsx)("option",{value:"visualizations-first",children:"Visualizations-first"}),(0,t.jsx)("option",{value:"files-dataframes-first",children:"Files and dataframes-first"}),(0,t.jsx)("option",{value:"all",children:"All (default)"}),(0,t.jsx)("option",{value:"insights-first",children:"Insights-first"})]}),(0,t.jsx)("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center px-3 text-muted-foreground",children:(e=>{switch(e){case"visualizations-first":return(0,t.jsx)(i.BarChart3,{className:"w-4 h-4"});case"files-dataframes-first":return(0,t.jsx)(n.FileSpreadsheet,{className:"w-4 h-4"});case"all":default:return(0,t.jsx)(l.Layers,{className:"w-4 h-4"});case"insights-first":return(0,t.jsx)(o.Lightbulb,{className:"w-4 h-4"})}})(Y)}),(0,t.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-muted-foreground",children:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block font-medium mb-1.5 select-none",children:"Instructions "}),(0,t.jsx)("textarea",{value:G,readOnly:!0,tabIndex:-1,onFocus:e=>e.target.blur(),className:"w-full h-48 px-3 pt-2 border border-border rounded-md bg-background/70 text-foreground resize-none cursor-default select-none",style:{lineHeight:"1.5",display:"block"},placeholder:"Example: Always start by asking clarifying questions about the data. Focus on actionable insights for marketing campaigns."})]})]})]}),(0,t.jsxs)(f.DialogFooter,{className:"px-6 pb-6 pt-3 flex-col sm:flex-row gap-2 sm:gap-0",children:[(0,t.jsx)(x.Button,{variant:"outline",onClick:e=>{e.stopPropagation(),w(!1)},disabled:$,className:"w-full sm:w-auto",children:"Cancel"}),(0,t.jsx)(x.Button,{onClick:e=>{e.stopPropagation(),D()},disabled:$,className:"w-full sm:w-auto",children:$?"Activating...":"Activate in Chat"})]})]})})})})}var w=e.i(647163);e.s(["TemplateAgentCard",0,({agent:e,variant:s="compact"})=>{let[r,i]=(0,a.useState)(!1),n="standard"===s;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{onClick:e=>{e?.stopPropagation(),i(!0)},className:(0,w.cn)("group interactive flex flex-col gap-1 border border-stroke rounded-lg px-4 py-3 cursor-pointer bg-surface-1",n&&"shadow-subtle"),children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsx)(y.TooltipProvider,{children:(0,t.jsxs)(y.Tooltip,{children:[(0,t.jsx)(y.TooltipTrigger,{asChild:!0,children:(0,t.jsx)("h3",{className:(0,w.cn)("font-semibold line-clamp-1 truncate flex-1 min-w-0 text-label-primary",n?"text-base":"text-sm"),children:e.name})}),(0,t.jsx)(y.TooltipContent,{children:(0,t.jsx)("p",{children:e.name})})]})})}),e.config?.description&&(0,t.jsx)(y.TooltipProvider,{children:(0,t.jsxs)(y.Tooltip,{children:[(0,t.jsx)(y.TooltipTrigger,{asChild:!0,children:(0,t.jsx)("p",{className:(0,w.cn)("text-label-secondary line-clamp-2",n?"text-sm":"text-xs"),children:e.config.description})}),(0,t.jsx)(y.TooltipContent,{className:"max-w-xs",children:(0,t.jsx)("p",{children:e.config.description})})]})})]}),(0,t.jsx)(v,{agent:e,open:r,onOpenChange:i})]})}],637847)},795278,e=>{"use strict";var t=e.i(843476),a=e.i(271645),s=e.i(975558),r=e.i(187378),i=e.i(72664),n=e.i(63727),l=e.i(285041),o=e.i(658041),c=e.i(931091),d=e.i(618566),u=e.i(604570),m=e.i(560730),p=e.i(796610),g=e.i(759875),h=e.i(167881),x=e.i(367944),f=e.i(620949),y=e.i(788699),b=e.i(846696),j=e.i(728231);let v=({agent:e,isShared:a,teams:s=[]})=>{let r=(0,d.useRouter)(),i=(0,f.useUpdateUserPreferences)(),{setToolPreferences:n}=(0,x.useChatContext)(),{data:l}=(0,p.useCurrentTeam)(),o=!l?.details?.feature_flags?.includes("ENTERPRISE_CUSTOM_AGENTS"),c=async t=>{t?.stopPropagation();try{await i.mutateAsync({custom_agent_id:e.id}),n(t=>({...t,custom_agent_id:e.id})),b.toast.success(`Agent "${e.name}" is now active`),window.open("/chat")}catch(e){b.toast.error("Failed to set agent as active. Please try again.")}},m=a&&e.team_ids&&e.team_ids.length>0,g=e.team_ids?.slice(0,2)||[],v=(e.team_ids?.length||0)-2,w=a?(0,t.jsx)(j.TooltipProvider,{children:(0,t.jsxs)(j.Tooltip,{children:[(0,t.jsx)(j.TooltipTrigger,{asChild:!0,children:(0,t.jsx)("div",{className:"opacity-0 size-7 group-hover:opacity-100 transition-opacity p-1.5 rounded-md cursor-not-allowed",children:(0,t.jsx)(y.Pencil,{className:"size-3.5 text-label-tertiary"})})}),(0,t.jsx)(j.TooltipContent,{children:(0,t.jsx)("p",{children:"Only the owner of the agent can edit it"})})]})}):o?(0,t.jsx)(j.TooltipProvider,{children:(0,t.jsxs)(j.Tooltip,{children:[(0,t.jsx)(j.TooltipTrigger,{asChild:!0,children:(0,t.jsx)(h.Button,{onClick:t=>{t?.stopPropagation(),u.default.capture("custom_agents:paywall_clicked",{source:"custom_agents_page",action:"edit_custom_agent",agent_id:e.id,agent_name:e.name}),r.push("/pricing")},className:"opacity-0 size-7 group-hover:opacity-100 transition-opacity p-1.5 interactive !bg-transparent rounded-md","aria-label":"Edit agent",variant:"ghost",size:"icon",children:(0,t.jsx)(y.Pencil,{className:"size-3.5 text-label-tertiary opacity-50"})})}),(0,t.jsx)(j.TooltipContent,{children:(0,t.jsx)("p",{children:"Enterprise Feature, talk to sales"})})]})}):(0,t.jsx)(h.Button,{onClick:t=>{t?.stopPropagation(),o||r.push(`/custom-agents/${e.id}`)},className:"opacity-0 size-7 group-hover:opacity-100 transition-opacity p-1.5 interactive !bg-transparent rounded-md","aria-label":"Edit agent",variant:"ghost",size:"icon",children:(0,t.jsx)(y.Pencil,{className:"size-3.5 text-label-secondary"})});return(0,t.jsxs)("div",{onClick:c,className:"group interactive flex flex-col gap-0 border border-stroke rounded-lg pl-4 pr-3 py-3 cursor-pointer shadow-subtle bg-surface-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsx)(j.TooltipProvider,{children:(0,t.jsxs)(j.Tooltip,{children:[(0,t.jsx)(j.TooltipTrigger,{asChild:!0,children:(0,t.jsx)("h3",{className:"text-base font-semibold line-clamp-1 truncate flex-1 min-w-0 text-label-primary",children:e.name})}),(0,t.jsx)(j.TooltipContent,{children:(0,t.jsx)("p",{children:e.name})})]})}),w]}),e.config?.description&&(0,t.jsx)(j.TooltipProvider,{children:(0,t.jsxs)(j.Tooltip,{children:[(0,t.jsx)(j.TooltipTrigger,{asChild:!0,children:(0,t.jsx)("p",{className:"text-sm text-label-tertiary line-clamp-2",children:e.config.description})}),(0,t.jsx)(j.TooltipContent,{className:"max-w-xs",children:(0,t.jsx)("p",{children:e.config.description})})]})}),(0,t.jsxs)("div",{className:"flex items-start justify-start gap-2 mt-1",children:[m&&(0,t.jsxs)("div",{className:"flex flex-wrap gap-1.5",children:[g.map((e,a)=>{let r;return(0,t.jsx)("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded bg-primary/5 text-primary font-medium text-xs",children:(r=s?.find(t=>t.id===e),r?.team_name||"Unknown Team")},`${e}-${a}`)}),v>0&&(0,t.jsxs)("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded border border-stroke bg-surface-1 text-label-tertiary text-xs",children:["+",v]})]}),(0,t.jsxs)("span",{className:"inline-flex items-center py-0.5 rounded text-label-muted font-medium text-xs",children:["Updated ",new Date(e.updated_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]})]})};var w=e.i(637847);let _=[{id:"marketing",label:"Marketing",icon:c.Megaphone},{id:"finance",label:"Finance",icon:r.Banknote},{id:"product",label:"Product",icon:l.ChartLine},{id:"data",label:"Data",icon:o.Database},{id:"revops",label:"RevOps",icon:n.Briefcase}],N=()=>{let{data:e,isLoading:a,error:s}=(0,m.useGetCustomAgents)(),{data:r}=(0,p.useTeams)();if(a)return(0,t.jsxs)("div",{className:"border border-stroke rounded-lg p-4 bg-surface-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(i.Box,{className:"w-4 h-4 text-label-secondary"}),(0,t.jsx)("h2",{className:"text-base font-semibold text-label-primary",children:"Your Agents"})]}),(0,t.jsx)("p",{className:"text-xs text-label-secondary",children:"Loading agents..."})]});if(s)return(0,t.jsxs)("div",{className:"border border-stroke rounded-lg p-4 bg-surface-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(i.Box,{className:"w-4 h-4 text-label-secondary"}),(0,t.jsx)("h2",{className:"text-base font-semibold text-label-primary",children:"Your Agents"})]}),(0,t.jsx)("p",{className:"text-xs text-destructive",children:"Error loading agents. Please try again."})]});let n=(e?.agents||[]).filter(e=>"owner"===e.role);return 0===n.length?(0,t.jsxs)("div",{className:"border border-stroke rounded-lg p-4 bg-surface-1",children:[(0,t.jsx)("div",{className:"flex items-center gap-2 mb-2",children:(0,t.jsx)("h2",{className:"text-xl font-semibold text-label-primary",children:"Your Agents"})}),(0,t.jsx)("p",{className:"text-xs text-label-secondary",children:"Your custom agents will appear here. Create your first agent to get started."})]}):(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)("h2",{className:"text-xl font-semibold text-label-primary",children:"Your Agents"})}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:n.map(e=>(0,t.jsx)(v,{agent:e,teams:r},e.id))})]})},k=()=>{let{data:e,isLoading:a}=(0,m.useGetCustomAgents)(),{data:s}=(0,p.useTeams)(),r=(e?.agents||[]).filter(e=>"member"===e.role);return a||0===r.length?null:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)("h2",{className:"text-xl font-semibold text-label-primary",children:"Shared with You"})}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:r.map(e=>(0,t.jsx)(v,{agent:e,isShared:!0,teams:s},e.id))})]})};function C({category:e,agents:a}){let s=e.icon,r=a.filter(t=>t.category&&t.category.toLowerCase()===e.id.toLowerCase());return 0===r.length?null:(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(s,{className:"size-4 text-label-secondary"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-label-primary",children:e.label})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:r.map(e=>(0,t.jsx)(w.TemplateAgentCard,{agent:e,variant:"standard"},e.id))})]})}function A({agents:e}){let a=_.map(e=>e.id.toLowerCase()),s=e.filter(e=>{if(!e.category)return!0;let t=e.category.toLowerCase();return!a.includes(t)});return 0===s.length?null:(0,t.jsxs)("div",{className:"flex flex-col gap-3 pb-12",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-label-primary",children:"More Templates"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:s.map(e=>(0,t.jsx)(w.TemplateAgentCard,{agent:e,variant:"standard"},e.id))})]})}let T=()=>{let{data:e}=(0,m.useGetTemplateCustomAgents)(),a=e?.agents||[];return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)("h2",{className:"text-xl font-semibold text-label-primary",children:"Templates"})}),(0,t.jsxs)("div",{className:"flex flex-col gap-6",children:[_.map(e=>(0,t.jsx)(C,{category:e,agents:a},e.id)),(0,t.jsx)(A,{agents:a})]})]})},S=()=>{let[e,r]=(0,a.useState)(!1),n=(0,m.useCreateCustomAgent)(),{data:l}=(0,p.useCurrentTeam)(),o=(0,d.useRouter)(),{data:c}=(0,f.useUserSubscription)(),g=!!(c&&(c.plan||c.status&&"free"!==c.status)),x="New Agent - "+new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),y=!l?.details?.feature_flags?.includes("ENTERPRISE_CUSTOM_AGENTS"),b=async()=>{if(!g){u.default.capture("custom_agents:upgrade_clicked",{source:"custom_agents_page"}),o.push("/settings/subscription");return}u.default.capture("agent_created",{source:"custom_agents_page",agent_type:"custom"}),r(!0);try{let e=await n.mutateAsync({name:x,config:{description:""}});e.success&&e.agent&&o.push(`/custom-agents/${e.agent.id}`)}catch(e){console.error("Error creating agent:",e)}finally{r(!1)}};return(0,t.jsxs)("div",{className:"relative bg-primary/5 border border-primary/10 rounded-lg p-6 overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-2 relative z-10",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-0",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold text-label-primary",children:"Build agents tailored to your team"}),(0,t.jsx)("p",{className:"text-lg text-label-secondary",children:"Julius Agents can be customized to your data structure and the way you do analysis."})]}),y?(0,t.jsxs)(h.Button,{onClick:()=>{u.default.capture("custom_agents:paywall_clicked",{source:"custom_agents_page",action:"create_custom_agent"}),o.push("/pricing")},variant:"primary-light",className:"font-medium w-fit flex items-center gap-1.5",children:[(0,t.jsx)(s.ArrowUp,{className:"w-3.5 h-3.5"}),(0,t.jsx)("span",{children:"Customize templates with Enterprise"})]}):(0,t.jsx)(h.Button,{onClick:b,disabled:e,variant:"default",className:"font-medium w-fit",children:e?"Initializing Agent...":"Create Agent"})]}),(0,t.jsx)(i.Box,{className:"absolute right-0 top-4 size-64 text-primary opacity-5",strokeWidth:1.5})]})},$=()=>{let e=(0,d.useSearchParams)(),s=(0,d.useRouter)(),r=e.get("agent_id"),{setModal:i,setModalProps:n}=(0,x.useChatContext)(),[l,o]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{if(r&&!l){o(!0);let e=new URL(window.location.href);e.searchParams.delete("agent_id"),s.replace(e.pathname+e.search),setTimeout(async()=>{},500)}},[r,l,s,i,n]),(0,t.jsx)("div",{className:"p-6 max-w-7xl mx-auto",children:(0,t.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,t.jsx)(S,{}),(0,t.jsx)(N,{}),(0,t.jsx)(k,{}),(0,t.jsx)(T,{})]})})};e.s(["default",0,()=>(0,t.jsxs)("div",{className:"flex flex-col w-full overflow-y-auto relative h-screen bg-surface-1",children:[(0,t.jsx)(g.default,{heading:"Custom Agents",subheading:"",className:"mb-4 px-3 py-2 border-b border-border sticky top-0 z-50 bg-surface-1"}),(0,t.jsx)($,{})]})],795278)}]);

//# debugId=8a680f3d-0539-24fe-0943-3e30a2330622
//# sourceMappingURL=8ebb49bb73d19294.js.map