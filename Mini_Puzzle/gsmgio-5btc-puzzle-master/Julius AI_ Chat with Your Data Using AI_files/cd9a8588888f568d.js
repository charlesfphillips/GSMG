;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="c56d01bd-b83f-6308-6232-0e4e2fa4f20a")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,655900,e=>{"use strict";var t=e.i(399219);e.s(["ChevronUp",()=>t.default])},344523,e=>{"use strict";let t=(0,e.i(475254).default)("chevrons-up-down",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);e.s(["ChevronsUpDown",()=>t],344523)},562649,e=>{"use strict";var t=e.i(843476),a=e.i(271645),s=e.i(88653),l=e.i(770703),i=e.i(604570),r=e.i(749064),n=e.i(374030),o=e.i(915492),c=e.i(616525),d=e.i(647163);let u=(0,l.default)(()=>e.A(103587),{loadableGenerated:{modules:[593820]},ssr:!1});e.s(["default",0,({children:e})=>{let{isRightSidebarOpen:l,setIsRightSidebarOpen:f}=(0,o.useSidebarsContext)(),{breakpoint:h}=(0,c.useUserContext)(),[m,p]=(0,a.useState)(!1),x=(0,a.useRef)(null),g=(0,a.useCallback)(e=>{if(!e||0===e)return 0;let t=getComputedStyle(document.documentElement).getPropertyValue("--sidebar-scale"),a=325*(t?parseFloat(t):1)/e*100;return a>=70?0:a},[]),{observe:v,width:w}=(0,r.default)();(0,a.useEffect)(()=>{try{(0,d.checkMobile)()&&i.default.setPersonProperties({},{isMobile:!0})}catch(e){console.error(`Error setting person property of user: ${e.message}`)}f(!1)},["initial"===h||"xs"===h||"sm"===h||"md"===h,f]),(0,a.useEffect)(()=>{if(x.current&&w)if(l){let e=g(w);e>0&&x.current.resize(e)}else x.current.resize(0)},[l,w,g]);let b=g(w);return(0,t.jsx)("div",{ref:v,className:(0,d.cn)("flex flex-row w-full bg-background","h-full"),children:(0,t.jsxs)(n.PanelGroup,{direction:"horizontal",className:"flex flex-row w-full h-full",children:[(0,t.jsx)(n.Panel,{minSize:30*!!l,className:(0,d.cn)("relative flex flex-col overflow-hidden",!m&&"transition-all duration-300"),children:e}),(0,t.jsx)(n.PanelResizeHandle,{className:(0,d.cn)("group relative flex items-center h-full !outline-none focus-visible:border-none focus-visible:ring-0 ",!l&&"hidden"),onDragging:p,children:(0,t.jsx)("div",{className:(0,d.cn)("relative flex items-center h-full border-l group-hover:border-l-primary transition-colors duration-100",m&&"border-l-primary"),children:(0,t.jsx)("div",{className:"w-3"})})}),(0,t.jsx)(n.Panel,{ref:x,defaultSize:0,minSize:l?b:0,maxSize:70*!!l,className:(0,d.cn)("h-full",!m&&"ease-in-out transition-all duration-500"),collapsible:!1,children:(0,t.jsx)(s.AnimatePresence,{initial:!1,children:l&&(0,t.jsx)(u,{})})})]})})}])},836159,(e,t,a)=>{"use strict";function s(){return null}Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s}}),("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),t.exports=a.default)},620788,e=>{"use strict";function t(){return null}e.i(843476),e.s(["TailwindIndicator",()=>t])},712266,e=>{"use strict";var t=e.i(750377),a=e.i(118991),s="pointerdown.outside",l="focus.outside";function i(e,t){if(!t||!("clientY"in e))return!1;let a=t.scrollHeight>t.clientHeight,s=a&&e.clientX>t.offsetLeft+t.clientWidth,l=t.scrollWidth>t.clientWidth,i=l&&e.clientY>t.offsetTop+t.clientHeight,r={x:t.offsetLeft,y:t.offsetTop,width:t.clientWidth+16*!!a,height:t.clientHeight+16*!!l},n={x:e.clientX,y:e.clientY};return r.y<=n.y&&n.y<=r.y+r.height&&r.x<=n.x&&n.x<=r.x+r.width&&(s||i)}function r(e,r){let{defer:o}=r,c=o?t.raf:e=>e(),d=[];return d.push(c(()=>{let o="function"==typeof e?e():e;d.push(function(e,r){let o,c,{exclude:d,onFocusOutside:u,onPointerDownOutside:f,onInteractOutside:h,defer:m,followControlledElements:p=!0}=r;if(!e)return;let x=(0,t.getDocument)(e),g=(0,t.getWindow)(e),v=o={each(e){for(let t=0;t<g.frames?.length;t+=1){let a=g.frames[t];a&&e(a)}},addEventListener:(e,t,a)=>(o.each(s=>{try{s.document.addEventListener(e,t,a)}catch{}}),()=>{try{o.removeEventListener(e,t,a)}catch{}}),removeEventListener(e,t,a){o.each(s=>{try{s.document.removeEventListener(e,t,a)}catch{}})}},w=(c=null!=g.frameElement?g.parent:null,{addEventListener:(e,t,a)=>{try{c?.addEventListener(e,t,a)}catch{}return()=>{try{c?.removeEventListener(e,t,a)}catch{}}},removeEventListener:(e,t,a)=>{try{c?.removeEventListener(e,t,a)}catch{}}});function b(a,s){if(!(0,t.isHTMLElement)(s)||!s.isConnected||(0,t.contains)(e,s)||function(e,t){if(!("clientY"in t)||!e)return!1;let a=e.getBoundingClientRect();return 0!==a.width&&0!==a.height&&a.top<=t.clientY&&t.clientY<=a.top+a.height&&a.left<=t.clientX&&t.clientX<=a.left+a.width}(e,a)||p&&(0,t.isControlledElement)(e,s))return!1;let l=x.querySelector(`[aria-controls="${e.id}"]`);return!(l&&i(a,(0,t.getNearestOverflowAncestor)(l)))&&!i(a,(0,t.getNearestOverflowAncestor)(e))&&!d?.(s)}let j=new Set,y=(0,t.isShadowRoot)(e?.getRootNode());function k(l){function i(i){let r=m&&!(0,t.isTouchDevice)()?t.raf:e=>e(),o=i??l,c=o?.composedPath?.()??[o?.target];r(()=>{let i=y?c[0]:(0,t.getEventTarget)(l);if(e&&b(l,i)){if(f||h){let t=(0,a.callAll)(f,h);e.addEventListener(s,t,{once:!0})}n(e,s,{bubbles:!1,cancelable:!0,detail:{originalEvent:o,contextmenu:(0,t.isContextMenuEvent)(o),focusable:function(e){for(let a of e)if((0,t.isHTMLElement)(a)&&(0,t.isFocusable)(a))return!0;return!1}(c),target:i}})}})}"touch"===l.pointerType?(j.forEach(e=>e()),j.add((0,t.addDomEvent)(x,"click",i,{once:!0})),j.add(w.addEventListener("click",i,{once:!0})),j.add(v.addEventListener("click",i,{once:!0}))):i()}let C=new Set,E=setTimeout(()=>{C.add((0,t.addDomEvent)(x,"pointerdown",k,!0)),C.add(w.addEventListener("pointerdown",k,!0)),C.add(v.addEventListener("pointerdown",k,!0))},0);function N(s){(m?t.raf:e=>e())(()=>{let i=s?.composedPath?.()??[s?.target],r=y?i[0]:(0,t.getEventTarget)(s);if(e&&b(s,r)){if(u||h){let t=(0,a.callAll)(u,h);e.addEventListener(l,t,{once:!0})}n(e,l,{bubbles:!1,cancelable:!0,detail:{originalEvent:s,contextmenu:!1,focusable:(0,t.isFocusable)(r),target:r}})}})}return(0,t.isTouchDevice)()||(C.add((0,t.addDomEvent)(x,"focusin",N,!0)),C.add(w.addEventListener("focusin",N,!0)),C.add(v.addEventListener("focusin",N,!0))),()=>{clearTimeout(E),j.forEach(e=>e()),C.forEach(e=>e())}}(o,r))})),()=>{d.forEach(e=>e?.())}}function n(e,t,a){let s=new(e.ownerDocument.defaultView||window).CustomEvent(t,a);return e.dispatchEvent(s)}e.s(["trackInteractOutside",()=>r])},351538,e=>{"use strict";var t=e.i(843476),a=e.i(52563),s=e.i(741452),l=e.i(912598),i=e.i(503116),r=e.i(37727),n=e.i(618566),o=e.i(604570),c=e.i(968673),d=e.i(794527),u=e.i(982926),f=e.i(602246),h=e.i(471512),m=e.i(562920),p=e.i(796610),x=e.i(167881),g=e.i(23750),v=e.i(184762),w=e.i(805387),b=e.i(394073),j=e.i(620949),y=e.i(728442),k=e.i(709557),C=e.i(442706),E=e.i(268580),N=e.i(271645),P=e.i(569074),S=e.i(657688),T=e.i(10708);let D=({imageUrl:e,handleImageUpload:a,uploading:s,disabled:l})=>{let i=(0,N.useRef)(null);return(0,t.jsxs)("div",{className:"flex flex-col gap-2 mb-4",children:[(0,t.jsx)(T.Label,{htmlFor:"image",className:"block mb-2 text-xs text-muted-foreground",children:"Notebook Cover"}),e?(0,t.jsxs)("div",{className:"flex flex-col gap-2 items-center",children:[(0,t.jsx)(S.default,{src:e,alt:"Workflow cover image",className:"object-contain w-full h-auto",width:200,height:200}),(0,t.jsx)(x.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>i.current.click(),disabled:s||l,children:s?"Uploading...":"Change Image"})]}):(0,t.jsxs)(x.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>i.current.click(),disabled:s||l,children:[s?"Uploading...":"Set Cover Image",(0,t.jsx)(P.Upload,{className:"ml-2 w-4 h-4"})]}),(0,t.jsx)("input",{type:"file",ref:i,className:"hidden",accept:"image/*",onChange:a,disabled:l})]})};var L=e.i(88653),_=e.i(824511),z=e.i(970065);let A=({tags:e,handleAddTag:a,handleRemoveTag:s,availableTags:l,disabled:i})=>{let[r,n]=(0,N.useState)(""),[o,c]=(0,N.useState)([]),[d,u]=(0,N.useState)(!1),[f,h]=(0,N.useState)(-1),m=(0,N.useRef)(null);return(0,N.useEffect)(()=>{d?r.trim()?c(l.filter(t=>t.toLowerCase().includes(r.toLowerCase())&&!e?.includes(t)).slice(0,5)):c(l.filter(t=>!e?.includes(t)).slice(0,5)):c([])},[r,l,e,d]),(0,t.jsxs)("div",{className:"flex relative flex-col gap-2",children:[(0,t.jsx)(T.Label,{className:"block mb-2 text-xs text-muted-foreground",children:"Tags"}),e&&(0,t.jsx)("div",{className:"flex flex-row flex-wrap gap-2",children:(0,t.jsx)(L.AnimatePresence,{children:e.map(e=>(0,t.jsxs)(_.m.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.1,ease:"easeOut"},className:"px-2 py-1 text-sm text-yellow-800 bg-yellow-100 rounded-3xl border border-yellow-500 transition-colors duration-200 hover:bg-yellow-200",onClick:t=>{t.stopPropagation(),s(e)},disabled:i,children:[e,(0,t.jsx)("span",{className:"ml-2 text-gray-500 hover:text-gray-700",onClick:t=>{t.stopPropagation(),s(e)},children:"Ã—"})]},e))})}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(g.Input,{ref:m,value:r,onChange:e=>{n(e.target.value),h(-1)},onKeyDown:t=>{if("Enter"===t.key){if(t.preventDefault(),-1!==f)a(o[f]);else if(r.trim()){let t=r.trim().replace(/^['"](.*)['"]$/,"$1").split(",").map(e=>e.trim()).filter(e=>e.length>0).filter(t=>!e?.includes(t));t.length>0&&a(t.join(","))}n(""),c([])}else"ArrowDown"===t.key?h(e=>e<o.length-1?e+1:e):"ArrowUp"===t.key?h(e=>e>0?e-1:e):"Escape"===t.key&&c([])},placeholder:"Add tags (Hit enter after submitting)",className:"text-sm bg-transparent shadow-none text-muted-foreground focus:ring-0",onFocus:()=>u(!0),onBlur:()=>u(!1),disabled:i}),o.length>0&&(0,t.jsx)("div",{className:"absolute flex-wrap items-start justify-center z-[9999] mt-2 w-full bg-white rounded-md border border-gray-200 shadow-lg flex flex-row gap-2 p-2",children:o.map(e=>(0,t.jsx)(z.Card,{className:` rounded-3xl  p-1 !text-sm px-2 cursor-pointer  bg-gray-100 border  transition-colors duration-200 hover:bg-yellow-200 hover:text-yellow-800 hover:border-yellow-500
  
                  `,onMouseDown:e=>e.preventDefault(),onClick:t=>{t.preventDefault(),a(e),n(""),c([]),m.current.focus()},children:e},e))})]})]})};e.s(["default",0,({children:e,subRuns:N,workflowId:P})=>{let S=(0,n.useSearchParams)(),{data:T}=(0,u.useWorkflowQuery)({workflowId:P}),{data:L}=(0,u.useWorkflowSharing)({workflowId:P}),{data:_}=(0,p.useCurrentTeam)(),{data:z}=(0,j.useUserInformation)(),M=z?.id,F=T?.creator?.id===M,U=(0,k.default)(e=>e.isConnected),O=(0,k.default)(e=>e.sendData),{mutateAsync:R,isPending:W}=(0,u.useUpdateWorkflowPlan)({workflowId:P}),B=(0,s.useForm)({defaultValues:T?.plan??{}}),I=S.get("type")||"templates",{teamId:H,groupId:Q}=(0,n.useParams)(),{data:K}=(0,h.useWorkflowCrons)({teamId:H,groupId:Q}),Y=K?.find(e=>e?.content_id===T?.id),G=(0,l.useQueryClient)(),{user:V}=(0,a.useAuth0)(),{data:X}=(0,m.useWorkflowGroupShares)(P),$="viewer"===E.workflowService.getAcessRole(T,L,V,_,X),q=T?.is_template,J=async e=>{if(!T)return;let t={...T.plan,...e};await R({workflowPlan:t}),await G.refetchQueries({queryKey:(0,f.getWorkflowQueryKey)(P)})},Z=(0,c.useDebouncedCallback)(async e=>{try{await J(e)}catch(e){console.error("Error updating plan:",e)}},3e3),ee=(e,t)=>{if(!T)return;let a=N?["workflows/runs",T.parent_id,H,Q]:(0,h.getListWorkflowsQueryKey)({teamId:H,type:I});G.setQueryData(a,a=>(a||[]).map(a=>a.id!==P?a:{...a,plan:{...a.plan,[e]:t}})),G.setQueryData((0,f.getWorkflowQueryKey)(P),a=>a?{...a,plan:{...a.plan,[e]:t}}:a),U?O("edit",{workflow_id:P,diff:C.diffEngine.diff(T.plan,{...T.plan,[e]:t}),timestamp:new Date().getTime()}):Z({[e]:t})},et=(0,h.useUploadWorkflowImage)(),ea=async e=>{let t=e.target?.files?.[0];if(t)try{let e=await et.mutateAsync({file:t,workflowId:P});G.setQueryData((0,f.getWorkflowQueryKey)(P),t=>t?{...t,plan:{...t.plan,image_url:e}}:t),Z({image_url:e})}catch(e){console.error("Error uploading image:",e)}};return(0,t.jsxs)(d.Drawer.Root,{direction:"right",handleOnly:!0,autoFocus:!0,children:[(0,t.jsx)(d.Drawer.Trigger,{asChild:!0,children:e}),(0,t.jsxs)(d.Drawer.Portal,{children:[(0,t.jsx)(d.Drawer.Overlay,{className:"fixed inset-0 bg-black/40 z-50",onClick:e=>e.stopPropagation()}),(0,t.jsx)(d.Drawer.Content,{onClick:e=>e.stopPropagation(),className:"right-2 top-2 bottom-2 fixed outline-none max-w-screen-xs flex overflow-hidden z-50",style:{"--initial-transform":"calc(100% + 8px)",width:"calc(100% - 16px)"},children:(0,t.jsx)("div",{className:" bg-sidesecondary h-full w-full grow flex flex-col border border-input rounded-2xl",children:(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),e.stopPropagation(),B.handleSubmit()},className:"flex flex-col overflow-x-auto w-full h-full",children:[(0,t.jsxs)("div",{className:"inline-flex items-center justify-between p-5",children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)(d.Drawer.Title,{className:"text-2xl font-medium",children:"Notebook Details"}),(0,t.jsx)(w.VisuallyHidden,{children:(0,t.jsx)(d.Drawer.Description,{className:"text-muted-foreground",children:"Manage your notebook"})})]}),(0,t.jsx)(d.Drawer.Close,{asChild:!0,children:(0,t.jsx)(x.Button,{variant:"ghost",className:"p-0 size-7 hover:bg-background text-muted-foreground",children:(0,t.jsx)(r.X,{size:16})})})]}),(0,t.jsxs)("div",{className:"flex flex-col p-5 rounded-b border-t border-input rounded-2xl bg-background gap-4 overflow-auto",children:[b.FEATURE_FLAGS.NOTEBOOK_CRONS&&(Y||F)&&q&&(0,t.jsx)(y.default,{workflow:T,children:(0,t.jsxs)(x.Button,{onClick:e=>{e.stopPropagation(),o.posthog.capture("workflow_schedule_button_clicked")},className:"gap-1",variant:"outline",children:[(0,t.jsx)(i.Clock,{className:"size-4 flex-shrink-0"}),"Set recurring schedule"]})}),(0,t.jsx)(B.Field,{name:"name",children:e=>(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm",children:"Name"}),(0,t.jsx)(g.Input,{disabled:$||W,name:e.name,value:e.state.value??"",onBlur:e.handleBlur,onChange:t=>{e.handleChange(t.target.value),ee("name",t.target.value)},placeholder:"Untitled Workflow",className:"mr-2"})]})}),(0,t.jsx)(B.Field,{name:"description",children:e=>(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm",children:"Description"}),(0,t.jsx)(v.Textarea,{rows:8,disabled:$||W,name:e.name,value:e.state.value??"",onBlur:e.handleBlur,onChange:t=>{e.handleChange(t.target.value),ee("description",t.target.value)},placeholder:"No description",className:"mr-2"})]})}),(0,t.jsx)(B.Field,{name:"conversation_instructions",children:e=>(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm",children:"Custom Instructions"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Custom instructions to be given to Julius when running the notebook."})]}),(0,t.jsx)(v.Textarea,{disabled:$||W,name:e.name,value:e.state.value??"",onBlur:e.handleBlur,onChange:t=>{e.handleChange(t.target.value),ee("conversation_instructions",t.target.value)},className:"mr-2",rows:5})]})}),(0,t.jsx)(B.Field,{name:"tags",children:e=>{let a=e.state.value??[];return(0,t.jsx)("div",{children:(0,t.jsx)(A,{availableTags:[],tags:a,handleAddTag:t=>{let s=[...a,...t.includes(",")?t.split(","):[t]];e.handleChange(s),Z({tags:s})},handleRemoveTag:t=>{let s=a.filter(e=>e!==t);e.handleChange(s),Z({tags:s})},disabled:$})})}}),(0,t.jsx)(B.Field,{name:"image_url",children:e=>(0,t.jsx)("div",{children:(0,t.jsx)(D,{imageUrl:e.state.value,handleImageUpload:ea,uploading:et.isPending,disabled:$})})})]})]})})})]})]})}],351538)},51509,e=>{"use strict";var t,a,s,l,i=e.i(271645);function r(){return(r=Object.assign.bind()).apply(null,arguments)}e.s(["default",0,function(e){return i.createElement("svg",r({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 48 48"},e),t||(t=i.createElement("path",{fill:"#76b900",d:"M18 8h29v32H18z"})),a||(a=i.createElement("path",{fill:"#fafafa",d:"M18 17.68c.52-.05 1.05-.09 1.57-.07 4.95 0 7.9 3.85 7.9 3.85l-4.03 3.39c-1.8-3.02-2.43-4.35-5.44-4.71zm0 11.04c.73.24 1.52.36 2.3.36 5.88 0 11.35-7.6 11.35-7.6s-5.07-6.91-12.81-6.66c-.28 0-.56.02-.84.03v-2.3l.84-.05c10.76-.37 17.78 8.82 17.78 8.82s-8.05 9.8-16.44 9.8c-.73 0-1.47-.07-2.18-.19zm1.95 7.37c-.66 0-1.32-.03-1.95-.1v-2.44c.59.07 1.22.12 1.81.12 7.82 0 13.47-3.99 18.94-8.7.91.73 4.62 2.49 5.39 3.26-5.2 4.36-17.32 7.86-24.19 7.86"})),s||(s=i.createElement("path",{fill:"#76b900",d:"M18 28.717v2.232c-7.219-1.29-9.225-8.806-9.225-8.806s3.47-3.836 9.225-4.464v2.441h-.017c-3.017-.366-5.388 2.459-5.388 2.459s1.342 4.76 5.405 6.138"})),l||(l=i.createElement("path",{fill:"#76b900",d:"M5.183 21.829s4.272-6.313 12.834-6.975v-2.302C8.531 13.319.335 21.341.335 21.341S4.974 34.768 18 35.989v-2.441C8.444 32.361 5.183 21.829 5.183 21.829"})))}])},744266,990942,e=>{"use strict";let t=(0,e.i(475254).default)("circle-fading-arrow-up",[["path",{d:"M12 2a10 10 0 0 1 7.38 16.75",key:"175t95"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}],["path",{d:"M2.5 8.875a10 10 0 0 0-.5 3",key:"1vce0s"}],["path",{d:"M2.83 16a10 10 0 0 0 2.43 3.4",key:"o3fkw4"}],["path",{d:"M4.636 5.235a10 10 0 0 1 .891-.857",key:"1szpfk"}],["path",{d:"M8.644 21.42a10 10 0 0 0 7.631-.38",key:"9yhvd4"}]]);e.s(["CircleFadingArrowUp",()=>t],744266);var a=e.i(843476),s=e.i(586011),l=e.i(846696),i=e.i(728231);e.s(["default",0,({className:e,children:t})=>(0,a.jsxs)(i.Tooltip,{children:[(0,a.jsx)(i.TooltipTrigger,{asChild:!0,children:(0,a.jsx)(s.Slot.Root,{className:e,onClick:()=>{"function"==typeof window.Intercom?window.Intercom("show"):l.toast.error("Error loading support",{description:"Try disabling extensions and refreshing the page"})},children:t})}),(0,a.jsx)(i.TooltipContent,{children:"Help"})]})],990942)},713201,e=>{"use strict";var t=e.i(843476),a=e.i(770703),s=e.i(271645),l=e.i(604570),i=e.i(264082),r=e.i(367944),n=e.i(915492);e.i(394073);var o=e.i(647163),c=e.i(562649),d=e.i(532711);let u=(0,a.default)(()=>e.A(763020),{loadableGenerated:{modules:[385477]},ssr:!1});e.s(["default",0,()=>((()=>{let{fetchCommentary:e,fetchCommentaryStreaming:t,fetchDataframeSummary:a}=(0,i.useAuthenticatedAPIs)(),{currentSheet:c,setDataframePreviewMetadata:d,activeConversationId:u,setDataframeColumnSummary:f}=(0,r.useChatContext)(),{setIsRightSidebarOpen:h,analyses:m,setAnalyses:p,handleReaderStream:x,filename:g,setRightSidebarCurrentTab:v}=(0,n.useSidebarsContext)(),w=(0,s.useRef)();w.current=u;let b=new Set,j=new Set,y="csv"===(g?.split(".")?.pop()||"csv")?"csv":"excel",k=async({query:e,column:a,metadata:s})=>{let i=Math.random().toString(36),r={results:{result:""},id:i,reason:{text:e,purpose:"query_dataframe"}};p(e=>[r,...e]),v("filePreview");try{let r=await t({filename:g,selection:{column:a,query:e},currentSheet:c,metadata:s});await x(r,i),l.default.capture("get_commentary",{success:!0,filetype:y,column:a,query:e,reason:"menu_click"});return}catch(t){console.error(t),l.default.capture("get_commentary",{success:!1,filetype:y,column:a,query:e,reason:"menu_click"})}p(e=>[{results:{result:"Failed to get commentary"},id:i},...e.filter(e=>e.id!==i)])};return j.size,b.size,j?.size,b?.size,(0,s.useEffect)(()=>{let e=o.eventEmitter.addListener("queryDFColumn",({query:e,column:t,metadata:a})=>{h(!0),a&&(a.conversationId=w.current),k({query:e,column:t,metadata:a})});return()=>{e.remove()}},[g]),(0,s.useEffect)(()=>{if(g){let t=Math.random().toString(36),s={results:{result:""},id:t};p(e=>[s,...e]);let i=async()=>{f(await a({filename:g,currentSheet:c}))};(async()=>{v("filePreview");try{let a=await e({filename:g,currentSheet:c}),s={};a?.results&&(s.filename=g,s.shape=a.results.metadata,s.description=a.results.description,d(s),a.reason={text:"File Loaded",purpose:"info"},a.results={...a.results,result:a.results.result+"\nYou can right click on columns to preview or plot additional details before starting your conversation."},l.default.capture("get_commentary",{success:!0,filetype:y,reason:"initial"})),p(e=>[{...a,id:t},...e.filter(e=>e.id!==t)])}catch(e){l.default.capture("get_commentary",{success:!1,filetype:y,reason:"initial"}),console.error(e),p(e=>[{results:{result:"Failed to get commentary"},id:t},...e.filter(e=>e.id!==t)])}})(),i()}},[g])})(),(0,t.jsxs)(c.default,{children:[(0,t.jsx)(d.default,{}),(0,t.jsx)(u,{})]}))],713201)},731390,e=>{"use strict";var t=e.i(843476),a=e.i(770703),s=e.i(836159),l=e.i(796610),i=e.i(713201),r=e.i(620788),n=e.i(620949);let o=(0,a.default)(()=>e.A(821947),{loadableGenerated:{modules:[144154]},ssr:!1});e.s(["default",0,()=>{let{data:e}=(0,n.useUserSubscription)(),{data:a}=(0,l.useCurrentTeam)(),c=!e?.status&&!a?.paid,d=e?.subscription_association=="team_sub"&&!!a?.details?.id;return(0,t.jsxs)("main",{className:"flex overflow-hidden relative flex-col flex-1 justify-center items-center w-full max-w-full h-full transition-all duration-300 ease-in-out bg-background",children:[(0,t.jsxs)(s.default,{children:[(0,t.jsx)("title",{children:"Chat"}),(0,t.jsx)("meta",{property:"og:title",content:"Chat with Julius"}),(0,t.jsx)("meta",{property:"og:image",content:`/apis/og?text=${encodeURIComponent("Chat")}`}),(0,t.jsx)("link",{rel:"canonical",href:"https://julius.ai"})]}),d&&c&&(0,t.jsxs)("div",{className:"w-full text-center py-2 text-sm text-yellow-700 bg-yellow-50",children:['Your team named "',a?.details?.team_name||"subscription",'" is active but not paid. Switch back to your personal subscription in the upper left for more access.']}),(0,t.jsx)(i.default,{}),(0,t.jsx)(r.TailwindIndicator,{}),(0,t.jsx)(o,{})]})}])},103587,e=>{e.v(t=>Promise.all(["static/chunks/84f524410c260383.js","static/chunks/197b3cdb4fce0ede.js","static/chunks/a3420a8c0bb79289.js","static/chunks/0f386fac971f2f74.js","static/chunks/ea6491cb9ee64153.js","static/chunks/3d5cbda35f59bc6d.js","static/chunks/9dd5ad64dd347554.js"].map(t=>e.l(t))).then(()=>t(593820)))},569900,e=>{e.v(t=>Promise.all(["static/chunks/14aa5db27cacb273.js"].map(t=>e.l(t))).then(()=>t(800389)))},651773,e=>{e.v(t=>Promise.all(["static/chunks/a3c8f000f0dc1341.js"].map(t=>e.l(t))).then(()=>t(58220)))},608738,e=>{e.v(t=>Promise.all(["static/chunks/7ace54943e784475.js","static/chunks/041be7500d54002e.js"].map(t=>e.l(t))).then(()=>t(782085)))},819367,e=>{e.v(t=>Promise.all(["static/chunks/0222c5a71a17c2ee.js"].map(t=>e.l(t))).then(()=>t(24018)))},763020,e=>{e.v(t=>Promise.all(["static/chunks/33148843267aa37e.js","static/chunks/a9a5147f2a385c73.js","static/chunks/c4a42ea65cb1e0d1.js","static/chunks/1f41d039920f8c85.js","static/chunks/77a36750551daf21.js","static/chunks/9abc8b0562d2f202.js","static/chunks/0fc402948acc1e71.js","static/chunks/8c81f095205df7b4.js"].map(t=>e.l(t))).then(()=>t(385477)))},821947,e=>{e.v(t=>Promise.all(["static/chunks/97dae3bc15b537ed.js"].map(t=>e.l(t))).then(()=>t(144154)))}]);

//# debugId=c56d01bd-b83f-6308-6232-0e4e2fa4f20a
//# sourceMappingURL=f020c815511ea8d0.js.map