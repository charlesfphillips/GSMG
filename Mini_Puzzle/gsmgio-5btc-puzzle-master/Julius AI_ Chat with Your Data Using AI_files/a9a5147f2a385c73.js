;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="56e676c8-1190-9391-d746-d76c40a6d5cd")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,961356,e=>{"use strict";let t=(0,e.i(475254).default)("file-chart-column",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-1",key:"zg0ygc"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"M16 18v-3",key:"j5jt4h"}]]);e.s(["default",()=>t])},990633,e=>{"use strict";let t=(0,e.i(475254).default)("cloud-upload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);e.s(["default",()=>t])},367118,e=>{"use strict";let t=(0,e.i(475254).default)("chart-line",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);e.s(["default",()=>t])},730267,e=>{"use strict";var t=e.i(367118);e.s(["LineChart",()=>t.default])},691385,e=>{"use strict";let t=(0,e.i(475254).default)("atom",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M20.2 20.2c2.04-2.03.02-7.36-4.5-11.9-4.54-4.52-9.87-6.54-11.9-4.5-2.04 2.03-.02 7.36 4.5 11.9 4.54 4.52 9.87 6.54 11.9 4.5Z",key:"1l2ple"}],["path",{d:"M15.7 15.7c4.52-4.54 6.54-9.87 4.5-11.9-2.03-2.04-7.36-.02-11.9 4.5-4.52 4.54-6.54 9.87-4.5 11.9 2.03 2.04 7.36.02 11.9-4.5Z",key:"1wam0m"}]]);e.s(["Atom",()=>t],691385)},285041,931091,e=>{"use strict";var t=e.i(367118);e.s(["ChartLine",()=>t.default],285041);let a=(0,e.i(475254).default)("megaphone",[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]]);e.s(["Megaphone",()=>a],931091)},852008,e=>{"use strict";let t=(0,e.i(475254).default)("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);e.s(["Layers",()=>t],852008)},270756,517302,e=>{"use strict";let t=(0,e.i(475254).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["default",()=>t],517302),e.s(["Lock",()=>t],270756)},341240,e=>{"use strict";let t=(0,e.i(475254).default)("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);e.s(["Lightbulb",()=>t],341240)},552210,(e,t,a)=>{"use strict";var r,s=Symbol.for("react.element"),i=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.server_context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen");function y(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case s:switch(e=e.type){case n:case l:case o:case p:case f:return e;default:switch(e=e&&e.$$typeof){case d:case u:case m:case g:case h:case c:return e;default:return t}}case i:return t}}}r=Symbol.for("react.module.reference"),a.ContextConsumer=u,a.ContextProvider=c,a.Element=s,a.ForwardRef=m,a.Fragment=n,a.Lazy=g,a.Memo=h,a.Portal=i,a.Profiler=l,a.StrictMode=o,a.Suspense=p,a.SuspenseList=f,a.isAsyncMode=function(){return!1},a.isConcurrentMode=function(){return!1},a.isContextConsumer=function(e){return y(e)===u},a.isContextProvider=function(e){return y(e)===c},a.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===s},a.isForwardRef=function(e){return y(e)===m},a.isFragment=function(e){return y(e)===n},a.isLazy=function(e){return y(e)===g},a.isMemo=function(e){return y(e)===h},a.isPortal=function(e){return y(e)===i},a.isProfiler=function(e){return y(e)===l},a.isStrictMode=function(e){return y(e)===o},a.isSuspense=function(e){return y(e)===p},a.isSuspenseList=function(e){return y(e)===f},a.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===n||e===l||e===o||e===p||e===f||e===x||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===h||e.$$typeof===c||e.$$typeof===u||e.$$typeof===m||e.$$typeof===r||void 0!==e.getModuleId)||!1},a.typeOf=y},179684,(e,t,a)=>{"use strict";t.exports=e.r(552210)},352558,e=>{"use strict";let t=(0,e.i(475254).default)("circle-off",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.35 2.69A10 10 0 0 1 21.3 15.65",key:"1pfsoa"}],["path",{d:"M19.08 19.08A10 10 0 1 1 4.92 4.92",key:"1ablyi"}]]);e.s(["CircleOff",()=>t],352558)},595468,e=>{"use strict";var t=e.i(123287);e.s(["CheckCircle2",()=>t.default])},819449,e=>{"use strict";var t=e.i(843476),a=e.i(463415),r=e.i(647163);function s({children:e,onSelect:s,className:i}){return(0,t.jsx)(a.DropdownMenuItem,{className:(0,r.cn)("flex items-center gap-2 px-2 py-1.5 h-fit tracking-tight text-foreground hover:text-card-foreground hover:bg-muted/50",i),onSelect:s,children:e})}e.s(["default",()=>s])},871689,e=>{"use strict";let t=(0,e.i(475254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],871689)},612329,e=>{"use strict";let t=(0,e.i(475254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["default",()=>t])},727612,e=>{"use strict";var t=e.i(612329);e.s(["Trash2",()=>t.default])},497140,e=>{"use strict";let t=(0,e.i(475254).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);e.s(["default",()=>t])},38068,e=>{"use strict";var t,a=e.i(394073),r=e.i(647163),s=((t={}).Onboarding="onboarding",t);let i=async({accessToken:e})=>{let t=await (0,r.customFetch)(`${a.PAYMENTS_BASE_API}/login_link`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});return await t.json()},n=async({accessToken:e})=>{let t=await i({accessToken:e});window.open(t?.login_link,"_blank")},o=async({product:e,billing:t,action:s,pauseDuration:i=null,accessToken:n})=>{let o=await (0,r.customFetch)(`${a.PAYMENTS_BASE_API}/modify_subscription`,{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify({product:e,billing:t,action:s,pauseDuration:i,version:"20240211"})});return await o.json()},l=async({product:e,billing:t,code:s,version:i=null,accessToken:n,source:o})=>{let l=new URLSearchParams({product:e,billing:t,code:s,version:i});o&&l.set("source",o);let c=await (0,r.customFetch)(`${a.PAYMENTS_BASE_API}/checkout_session_id?${l.toString()}`,{headers:{Authorization:`Bearer ${n}`}});if(!c.ok)throw Error("Failed to get checkout id");return await c.json()},c=async({isEducator:e,teamId:t,numSeats:s,numMonths:i,currency:n,accessToken:o})=>{let l=new URLSearchParams({team_id:t,num_seats:s.toString(),num_months:i.toString(),is_educator:e.toString(),currency:n}),c=await (0,r.customFetch)(`${a.PAYMENTS_BASE_API}/upfront_payment_checkout_session_id?${l.toString()}`,{headers:{Authorization:`Bearer ${o}`}});if(!c.ok)throw Error("Failed to get checkout id");return await c.json()},u=async({accessToken:e,teamId:t,numSeats:s,numMonths:i,isEducator:n,currency:o})=>{let l=await (0,r.customFetch)(`${a.PAYMENTS_BASE_API}/invoice`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({team_id:t,num_seats:s,num_months:i,is_educator:n,currency:o})});if(!l.ok)throw Error("Failed to create invoice");return await l.json()},d=async({accessToken:e,customerInfo:t})=>{let s=await (0,r.customFetch)(`${a.PAYMENTS_BASE_API}/customer`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(t)}),i=await s.json();if(!s.ok)throw Error(`Failed to update customer info, error: ${i?.error}`);return i},m=async({accessToken:e,customerId:t})=>{let s=await (0,r.customFetch)(`${a.PAYMENTS_BASE_API}/customer/${t}`,{headers:{Authorization:`Bearer ${e}`}});if(!s.ok)throw Error("Failed to get stripe customer");return await s.json()},p=async({accessToken:e,product:t,billing:s})=>{let i=await (0,r.customFetch)(`${a.PAYMENTS_BASE_API}/preview-upgrade`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({product:t,billing:s})});if(!i.ok)throw Error("Failed to get upgrade preview");return await i.json()},f=async({accessToken:e,billing:t})=>{let s=await (0,r.customFetch)(`${a.PAYMENTS_BASE_API}/preview-team-billing-change`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({billing:t})});if(!s.ok)throw Error("Failed to get team billing preview");return await s.json()},h=async({accessToken:e,billing:t})=>{let s=await (0,r.customFetch)(`${a.PAYMENTS_BASE_API}/modify_subscription`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({product:"teams",billing:t,action:"change_billing"})});if(!s.ok){let e=await s.json();throw Error(e?.error||"Failed to change team billing")}return await s.json()};e.s(["CheckoutSource",()=>s,"changeTeamBilling",()=>h,"createInvoice",()=>u,"getCheckoutSessionId",()=>l,"getManageSubscription",()=>o,"getPreviewTeamBillingChange",()=>f,"getPreviewUpgrade",()=>p,"getStripeCustomer",()=>m,"getUpfrontPaymentCheckoutSessionId",()=>c,"openStripeCustomerPortal",()=>n,"putCustomerInfo",()=>d])},671590,e=>{"use strict";e.s(["currencySymbols",0,{US:"$",CA:"$",GB:"£",IN:"₹",PE:"S/",EURO:"€",AU:"$",NZ:"$"},"eduDomains",0,[".edu",".ac.uk",".edu.au",".ac.in","mcgill.ca","utoronto.ca","uwaterloo.ca","uwo.ca","ubc.ca","ualberta.ca","sfu.ca","uvic.ca","ucalgary.ca","uottawa.ca","uoguelph.ca","uqam.ca","+edu@caesarhq.com",".au.dk"],"euCountries",0,["EURO","AT","BE","BG","CY","CZ","DE","DK","EE","ES","FI","FR","GR","HR","HU","IE","IT","LT","LU","LV","MT","NL","PL","PT","RO","SE","SI","SK"],"frequencies",0,[{value:"annually",label:"Annual Billing",priceSuffix:"/year"},{value:"monthly",label:"Monthly Billing",priceSuffix:"/month"}],"supportedCountries",0,["US","CA","GB","IN","PE","AU","NZ"],"tierNameToIdx",0,{Free:0,Lite:1,Standard:2,Pro:3,Team:4,Business:5}])},526943,e=>{"use strict";let t=(0,e.i(475254).default)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);e.s(["default",()=>t])},221345,e=>{"use strict";var t=e.i(526943);e.s(["Link",()=>t.default])},752044,e=>{"use strict";let t=(0,e.i(475254).default)("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);e.s(["Square",()=>t],752044)},975558,e=>{"use strict";let t=(0,e.i(475254).default)("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);e.s(["ArrowUp",()=>t],975558)},123287,e=>{"use strict";let t=(0,e.i(475254).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["default",()=>t])},326524,e=>{"use strict";let t=(0,e.i(475254).default)("paperclip",[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]]);e.s(["default",()=>t])},82735,e=>{"use strict";var t=e.i(326524);e.s(["Paperclip",()=>t.default])},873343,e=>{"use strict";var t=e.i(271645);function a(){let e=(0,t.useRef)(null);return{formRef:e,onKeyDown:t=>{let a=-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome");if("Enter"===t.key&&!t.shiftKey&&!t.nativeEvent.isComposing){if(a){let t=e.current?.querySelector('[type="submit"]');t?.click()}else try{e.current?.requestSubmit()}catch(e){}t.preventDefault()}}}}e.s(["useEnterSubmit",()=>a])},84946,492297,294840,449173,e=>{"use strict";var t,a,r,s,i,n,o,l,c,u,d=e.i(271645);function m(){return(m=Object.assign.bind()).apply(null,arguments)}function p(){return(p=Object.assign.bind()).apply(null,arguments)}function f(){return(f=Object.assign.bind()).apply(null,arguments)}function h(){return(h=Object.assign.bind()).apply(null,arguments)}e.s(["default",0,function(e){return d.createElement("svg",m({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 92.2 65"},e),t||(t=d.createElement("path",{fill:"currentColor",d:"M66.5 0H52.4l25.7 65h14.1zM25.7 0 0 65h14.4l5.3-13.6h26.9L51.8 65h14.4L40.5 0zm-1.4 39.3 8.8-22.8 8.8 22.8z"})))}],84946),e.s(["default",0,function(e){return d.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 75 75"},e),a||(a=d.createElement("path",{d:"M24.3 44.7c2 0 6-.1 11.6-2.4 6.5-2.7 19.3-7.5 28.6-12.5 6.5-3.5 9.3-8.1 9.3-14.3C73.8 7 66.9 0 58.3 0h-36C10 0 0 10 0 22.3s9.4 22.4 24.3 22.4M30.4 60c0-6 3.6-11.5 9.2-13.8l11.3-4.7C62.4 36.8 75 45.2 75 57.6 75 67.2 67.2 75 57.6 75H45.3c-8.2 0-14.9-6.7-14.9-15M12.9 47.6C5.8 47.6 0 53.4 0 60.5v1.7C0 69.2 5.8 75 12.9 75s12.9-5.8 12.9-12.9v-1.7c-.1-7-5.8-12.8-12.9-12.8"})))}],492297),e.s(["default",0,function(e){return d.createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 48 48"},e),r||(r=d.createElement("path",{fill:"#0081fb",d:"m47 29.36-2.193 1.663L42.62 29.5c0-.16 0-.33-.01-.5 0-.16 0-.33-.01-.5-.14-3.94-1.14-8.16-3.14-11.25-1.54-2.37-3.51-3.5-5.71-3.5-2.31 0-4.19 1.38-6.27 4.38-.06.09-.13.18-.19.28-.04.05-.07.1-.11.16-.1.15-.2.3-.3.46-.9 1.4-1.84 3.03-2.86 4.83-.09.17-.19.34-.28.51-.03.04-.06.09-.08.13l-.21.37-1.24 2.19c-2.91 5.15-3.65 6.33-5.1 8.26-2.55 3.39-4.73 4.68-7.6 4.68-3.4 0-5.56-1.47-6.89-3.69C1.53 34.51 1 32.14 1 29.44l4.97.17c0 1.76.38 3.1.89 3.92C7.52 34.59 8.49 35 9.5 35c1.29 0 2.49-.27 4.77-3.43 1.83-2.53 3.99-6.07 5.44-8.3l1.37-2.09.29-.46.3-.45.5-.77c.76-1.16 1.58-2.39 2.46-3.57.1-.14.2-.28.31-.42.1-.14.21-.28.31-.41.9-1.15 1.85-2.22 2.87-3.1 1.85-1.61 3.84-2.5 5.85-2.5 3.37 0 6.58 1.95 9.04 5.61 2.51 3.74 3.82 8.4 3.97 13.25.01.16.01.33.01.5.01.17.01.33.01.5"})),s||(s=d.createElement("linearGradient",{id:"meta_svg__a",x1:42.304,x2:13.533,y1:24.75,y2:24.75,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{offset:0}),d.createElement("stop",{offset:.995}))),i||(i=d.createElement("path",{fill:"url(#meta_svg__a)",d:"M4.918 15.456C7.195 11.951 10.483 9.5 14.253 9.5c2.184 0 4.354.645 6.621 2.493 2.479 2.02 5.122 5.346 8.419 10.828l1.182 1.967c2.854 4.746 4.477 7.187 5.428 8.339C37.125 34.606 37.888 35 39 35c2.82 0 3.617-2.54 3.617-5.501L47 29.362c0 3.095-.611 5.369-1.651 7.165C44.345 38.264 42.387 40 39.093 40c-2.048 0-3.862-.444-5.868-2.333-1.542-1.45-3.345-4.026-4.732-6.341l-4.126-6.879c-2.07-3.452-3.969-6.027-5.068-7.192-1.182-1.254-2.642-2.754-5.067-2.754-1.963 0-3.689 1.362-5.084 3.465z"})),n||(n=d.createElement("linearGradient",{id:"meta_svg__b",x1:7.635,x2:7.635,y1:32.87,y2:13.012,gradientUnits:"userSpaceOnUse"},d.createElement("stop",{offset:0}),d.createElement("stop",{offset:.995}))),o||(o=d.createElement("path",{fill:"url(#meta_svg__b)",d:"M14.25 14.5c-1.959 0-3.683 1.362-5.075 3.465C7.206 20.937 6 25.363 6 29.614c0 1.753-.003 3.072.5 3.886l-3.84 2.813C1.574 34.507 1 32.2 1 29.5c0-4.91 1.355-10.091 3.918-14.044C7.192 11.951 10.507 9.5 14.27 9.5z"})),l||(l=d.createElement("path",{d:"m21.67 20.27-.3.45-.29.46a69 69 0 0 1 2.37 3.69l.21-.37c.02-.04.05-.09.08-.13.09-.17.19-.34.28-.51-.83-1.36-1.63-2.57-2.35-3.59m3.27-4.76c-.11.14-.21.28-.31.42.73.91 1.47 1.94 2.25 3.1.1-.16.2-.31.3-.46.04-.06.07-.11.11-.16.06-.1.13-.19.19-.28a44 44 0 0 0-2.23-3.03c-.1.13-.21.27-.31.41",opacity:.05})),c||(c=d.createElement("path",{d:"m21.67 20.27-.3.45a73 73 0 0 1 2.37 3.65c.09-.17.19-.34.28-.51-.83-1.36-1.63-2.57-2.35-3.59m2.96-4.34c.73.91 1.47 1.94 2.25 3.1.1-.16.2-.31.3-.46-.77-1.14-1.52-2.16-2.24-3.06-.11.14-.21.28-.31.42",opacity:.07})))}],294840),e.s(["default",0,function(e){return d.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",width:16,height:16.208,viewBox:"0 0 79.9 81"},e),u||(u=d.createElement("path",{fill:"currentColor",d:"M74.6 33.1c1.8-5.5 1.2-11.6-1.7-16.6-4.4-7.7-13.3-11.6-22-9.8C47.1 2.4 41.5 0 35.7 0 26.8 0 19 5.7 16.2 14.1c-5.7 1.2-10.6 4.7-13.5 9.8-4.4 7.7-3.4 17.3 2.5 23.9C3.4 53.4 4.1 59.4 7 64.4c4.4 7.7 13.3 11.7 22 9.8 3.9 4.3 9.4 6.8 15.2 6.8 8.9 0 16.7-5.7 19.5-14.1 5.7-1.2 10.6-4.7 13.5-9.8 4.4-7.7 3.4-17.4-2.6-24M44.2 75.7c-3.6 0-7-1.2-9.7-3.5.1-.1.4-.2.5-.3l16.1-9.3c.8-.5 1.3-1.3 1.3-2.3V37.6l6.8 3.9c.1 0 .1.1.1.2v18.8c.1 8.4-6.7 15.2-15.1 15.2M11.6 61.8c-1.8-3.1-2.4-6.7-1.8-10.2.1.1.3.2.5.3l16.1 9.3c.8.5 1.8.5 2.6 0l19.7-11.4v7.9c0 .1 0 .2-.1.2l-16.3 9.4c-7.2 4.2-16.5 1.7-20.7-5.5M7.4 26.6c1.8-3.1 4.6-5.4 7.9-6.7v19.2c0 .9.5 1.8 1.3 2.3l19.7 11.4-6.8 3.9c-.1 0-.2.1-.2 0L13 47.3c-7.4-4.2-9.8-13.5-5.6-20.7m56 13L43.7 28.2l6.8-3.9c.1 0 .2-.1.2 0L67 33.7c7.3 4.2 9.7 13.5 5.5 20.7-1.8 3.1-4.6 5.4-7.9 6.6V41.9c.1-.9-.4-1.8-1.2-2.3m6.7-10.2c-.1-.1-.3-.2-.5-.3l-16.1-9.3c-.8-.5-1.8-.5-2.6 0L31.2 31.2v-7.9c0-.1 0-.2.1-.2l16.3-9.4c7.3-4.2 16.5-1.7 20.7 5.6 1.8 3 2.4 6.6 1.8 10.1m-42.6 14-6.8-3.9c-.1 0-.1-.1-.1-.2V20.5c0-8.4 6.8-15.2 15.2-15.2 3.6 0 7 1.2 9.7 3.5-.1.1-.3.2-.5.3l-16.1 9.3c-.8.5-1.3 1.3-1.3 2.3v22.7zm3.7-8 8.8-5.1 8.8 5.1v10.1L40 50.6l-8.8-5.1z"})))}],449173)},269638,e=>{"use strict";let t=(0,e.i(475254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],269638)},789145,e=>{"use strict";var t=e.i(52563),a=e.i(619273),r=e.i(954616),s=e.i(266027),i=e.i(912598),n=e.i(601655);e.s(["useDeleteWorkflow",0,({workflowId:e})=>{let{getAccessTokenSilently:a}=(0,t.useAuth0)(),s=(0,i.useQueryClient)();return(0,r.useMutation)({mutationKey:["workflow/delete",e],mutationFn:async(t={templateRun:!1})=>{let r=await a(),i=await (0,n.deleteWorkflowAPI)(e,r);return await s.refetchQueries({queryKey:["workflows"],exact:!1}),t&&t.templateRun&&await s.refetchQueries({queryKey:["workflows/runs"],exact:!1}),i},onSuccess:async()=>{}})},"usePublicWorkflows",0,({searchTerm:e,page:t,pageSize:r,tags:i,selectedTab:o,requireCategory:l},c)=>(0,s.useQuery)({enabled:c?.enabled??!0,queryKey:["publicWorkflows",e,t,r,i,o,l],queryFn:async({signal:a})=>(0,n.getPublicWorkflows)({filter:e,currentPage:t,size:r,currentTags:i,category:o,requireCategory:l,signal:a}),staleTime:3e5,placeholderData:a.keepPreviousData}),"useSimilarWorkflows",0,e=>(0,s.useQuery)({queryKey:["similarWorkflows",e],queryFn:()=>(0,n.getSimilarWorkflowsToWorkflow)({id:e}),enabled:!!e})])},425063,e=>{"use strict";let t=(0,e.i(475254).default)("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);e.s(["ArrowDown",()=>t],425063)},773816,e=>{"use strict";let t=(0,e.i(475254).default)("file-plus-2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M3 15h6",key:"4e2qda"}],["path",{d:"M6 12v6",key:"1u72j0"}]]);e.s(["default",()=>t])},827330,111245,326753,2925,e=>{"use strict";let t=(0,e.i(475254).default)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);e.s(["default",()=>t],827330);var a=e.i(843476),r=e.i(271645),s=e.i(88653),i=e.i(824511),n=e.i(773816);e.s(["FilePlus2Icon",()=>n.default],111245);var n=n,o=e.i(178583),l=e.i(686311),c=e.i(823429);e.s(["PenSquareIcon",()=>c.default],326753);var c=c,u=e.i(918789),d=e.i(930380),m=e.i(472450),p=e.i(167881),f=e.i(647163);let h=({steps:e,showAll:t})=>(0,a.jsx)(s.AnimatePresence,{mode:"wait",children:(0,a.jsx)(i.m.ul,{className:"flex flex-col space-y-6 w-full h-full text-muted-foreground",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:e.map((r,s)=>{let n=!t&&s===Math.min(3,e.length-1),o=e.length>3&&n;return"evaluation"===r.role?(0,a.jsx)(i.m.li,{initial:{opacity:0,y:20},animate:{opacity:n?.7:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:.1*s},children:(0,a.jsxs)(i.m.div,{className:"text-card-foreground rounded-xl text-xs mt-4 border border-input",initial:{scale:.95},animate:{scale:1},transition:{duration:.2},children:[(0,a.jsxs)("div",{className:"flex flex-row justify-between px-4 py-2 border-b border-input bg-sidesecondary rounded-t-xl",children:[(0,a.jsx)("span",{className:"text-xs text-foreground",children:"Progress Check"}),(0,a.jsx)("span",{children:"AI Evaluation"})]}),(0,a.jsxs)("p",{className:"text-xs p-4",children:["Question: ",(0,a.jsxs)("i",{className:"break-words",children:['"',r.display,'"']})]}),"not-started"===r.status?null:(0,a.jsxs)(i.m.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[(0,a.jsx)(Separator,{}),(0,a.jsx)("p",{className:"text-xs p-4 break-words whitespace-pre",children:r.status&&(0,a.jsxs)("div",{children:["Result: ",r.status]})})]})]})},r.id):(0,a.jsxs)(i.m.li,{className:(0,f.cn)("flex relative gap-x-2 w-full max-w-full",o&&"after:absolute after:bottom-0 after:left-0 after:w-full after:h-24 after:bg-gradient-to-t after:from-background after:to-transparent after:pointer-events-none"),initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3,delay:.1*s},children:[(0,a.jsxs)("div",{className:(0,f.cn)(s===e.length-1?"h-6":"-bottom-6","absolute left-0 top-0 flex w-6 justify-center"),children:[(0,a.jsx)("div",{className:"absolute w-px h-full bg-gray-200"}),(0,a.jsx)(i.m.div,{className:"absolute w-px bg-gray-400",initial:{height:"0%"},animate:{height:"complete"===r.status?"100%":"0%"},transition:{duration:.5,ease:"easeInOut"}})]}),(0,a.jsx)(i.m.div,{className:"flex relative flex-none justify-center items-center w-6 h-6 bg-white border-2 border-gray-200 font-medium text-xs rounded-full dark:bg-gray-900 dark:border-gray-700",whileHover:{scale:1.1},whileTap:{scale:.95},children:s+1}),(0,a.jsx)(g,{step:r,index:s})]},r.id)})})}),g=({step:e,_:t})=>(0,a.jsx)("div",{className:"relative max-w-full w-[238px] flex-1",children:(0,a.jsxs)("div",{className:`
        rounded-lg border transition-all
        ${(()=>{switch(e.status){case"complete":return"bg-emerald-50/50 border-emerald-200  dark:bg-emerald-950/50 dark:border-emerald-800";case"failed":case"broke":return"bg-red-50/50 border-red-200 dark:bg-red-950/50 dark:border-red-800";case"in-progress":return"bg-gray-300/50 border-gray-500 dark:bg-gray-600/50 dark:border-gray-500 animate-pulse";default:return"bg-gray-50 border-gray-200 dark:bg-gray-800/50 dark:border-gray-700"}})()}
        flex flex-col w-full min-w-[238px]
      `,children:[(0,a.jsx)("div",{className:"pt-4 px-4 min-w-full",children:(0,a.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:["user"===e.role&&(0,a.jsx)(a.Fragment,{children:"file"===e.userInputType?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.default,{size:14}),(0,a.jsx)("span",{className:"text-xs",children:"Attachment"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.default,{size:14}),(0,a.jsx)("span",{className:"text-xs",children:"User Input"})]})}),"markdown"===e.role&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.FileText,{size:14}),(0,a.jsx)("span",{className:"text-xs",children:"Markdown"})]}),"agent"===e.role&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.MessageSquare,{size:14}),(0,a.jsx)("span",{className:"text-xs",children:"AI Prompt"}),["failed","broke"].includes(e.status)&&(0,a.jsx)(AlertTriangle,{className:"text-red-500",size:14}),"complete"===e.status?(0,a.jsx)(Check,{className:"text-emerald-500",size:14}):null]}),"evaluation"===e.role&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(RulerIcon,{size:14}),(0,a.jsx)("span",{className:"text-xs",children:"Eval"})]})]})})}),(0,a.jsx)("div",{className:"flex justify-between w-full relative px-4 pb-4",children:(0,a.jsx)(u.default,{className:"workflow-step-markdown prose-p:text-sm prose-li:text-sm",remarkPlugins:[m.default],rehypePlugins:[d.default],children:e.display})})]})});e.s(["PlanPreview",0,({plan:e})=>{let[t,s]=(0,r.useState)(!1),i=t?e?.steps:e?.steps?.slice(0,3);return(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"gap-x-4 gap-y-8 items-start mx-auto lg:mx-0",children:(0,a.jsxs)("div",{className:"relative pb-16 mt-6",children:[e?.steps?.length===0&&(0,a.jsx)("div",{className:"flex justify-center items-center w-full h-64 text-muted-foreground",children:(0,a.jsx)("span",{className:"text-lg",children:"This is an empty workflow"})}),(0,a.jsx)(h,{steps:i,showAll:t}),!t&&e?.steps?.length>3&&(0,a.jsx)("div",{className:"flex absolute right-0 bottom-6 left-6 justify-center pb-16",children:(0,a.jsx)(p.Button,{onClick:()=>s(!0),variant:"outline",className:"px-4 text-sm font-medium",children:"Show more"})})]})})})}],2925)},386818,191420,870273,864055,291727,279126,e=>{"use strict";var t=e.i(475254);let a=(0,t.default)("rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);e.s(["RocketIcon",()=>a],386818);var r=e.i(990633);e.s(["UploadCloudIcon",()=>r.default],191420);var s=e.i(843476),i=e.i(657688),n=e.i(269638),o=e.i(497140);e.s(["Star",()=>o.default],870273);var o=o;let l=(0,t.default)("circle-user",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);var c=e.i(827330),c=c;let u=({screenname:e,user_icon:t})=>(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(e=>{switch(e){case"verified":return(0,s.jsx)(n.CheckCircle,{className:"w-4 h-4 text-yellow-500"});case"popular":return(0,s.jsx)(c.default,{className:"w-4 h-4 text-green-500"});case"julius":return(0,s.jsx)("span",{className:"flex justify-center items-center w-4 h-4 text-blue-500 font-bold",title:"Julius Team Member",children:"J"});case"official":return(0,s.jsx)(n.CheckCircle,{className:"w-4 h-4 text-blue-500"});case"topContributor":return(0,s.jsx)(o.default,{className:"w-4 h-4 text-orange-500"});default:return(0,s.jsx)(l,{className:"w-4 h-4 text-blue-500"})}})(t),(0,s.jsx)("p",{className:"text-xs leading-none mt-[0.12rem]",children:e})]});e.s(["WorkflowUserIcon",0,u],864055),e.s(["WorkflowCard",0,({workflow:e,priority:t=!1})=>(0,s.jsxs)("div",{className:"w-full min-h-full rounded-xl hover:shadow-sm border border-input transition duration-200 shadow-input dark:shadow-none dark:bg-black dark:border-white/[0.2] bg-background flex flex-col ring-none active:ring-none overflow-hidden hover:bg-accent/50 group cursor-pointer",children:[(0,s.jsxs)("div",{className:"h-60 w-full group-focus:ring flex-shrink-0 rounded-t-md relative overflow-hidden",children:[e.plan.image_url&&(0,s.jsx)(i.default,{priority:t,src:e.plan.image_url,alt:e.plan.name,fill:!0,className:"object-cover rounded-xl overflow-hidden border-b border-input",placeholder:"blur",blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNcvXr1fwAGzgLl9nQjkwAAAABJRU5ErkJggg=="}),!e.plan.image_url&&(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-neutral-200 dark:bg-neutral-700 rounded-t-md",children:(0,s.jsx)("span",{className:"text-neutral-500 dark:text-neutral-300",children:"No Preview Available"})})]}),(0,s.jsxs)("div",{className:"text-left flex flex-col flex-1 h-full p-4",children:[(0,s.jsx)("h2",{className:"mb-2 font-sans text-2xl font-medium line-clamp-1 text-neutral-600 dark:text-neutral-200 pointer-events-none",children:e.plan.name}),(0,s.jsx)("p",{className:"font-sans text-sm font-normal text-neutral-600 line-clamp-2 dark:text-neutral-300 text-start flex-grow overflow-hidden mb-2 pointer-events-none",children:e?.plan?.description||"No description available"}),(0,s.jsxs)("div",{className:"mt-auto pt-5",children:[e.plan.tags?.length>0&&(0,s.jsxs)("div",{className:"flex flex-nowrap gap-2 ",children:[e.plan.tags?.slice(0,2).map(e=>(0,s.jsx)("span",{className:"px-2 py-1 text-xs font-medium text-blue-500 bg-blue-100 rounded-xl pointer-events-none whitespace-nowrap overflow-hidden text-ellipsis max-w-[150px]",children:e},e)),e.plan.tags?.length>2&&(0,s.jsxs)("span",{className:"px-2 py-1 text-xs font-semibold text-blue-400",children:["+",e.plan.tags.length-2]})]}),(0,s.jsxs)("div",{className:"mt-3 flex flex-row justify-between items-center text-center",children:[(0,s.jsx)(u,{screenname:e.screenname,user_icon:e.user_icon}),(0,s.jsxs)("div",{className:"flex flex-row gap-2 items-center text-xs text-neutral-500 pointer-events-none",children:[(0,s.jsx)(a,{size:12}),e.usage_count>0?`${e.usage_count} runs`:"New"]})]})]})]})]})],291727);var d=e.i(970065),m=e.i(671428);function p(){return(0,s.jsxs)(d.Card,{className:"flex flex-col gap-2 w-full h-[300px] p-6",children:[(0,s.jsx)(m.Skeleton,{className:"h-20 w-full"}),(0,s.jsx)(m.Skeleton,{className:"h-4 w-[50%]"}),(0,s.jsx)(m.Skeleton,{className:"h-4 w-[75%]"})]})}function f(){return(0,s.jsxs)("div",{className:"flex flex-col gap-8 justify-center items-center h-full min-h-full max-h-[80vh]",children:[(0,s.jsx)(p,{}),(0,s.jsx)(p,{}),(0,s.jsx)(p,{})]})}e.s(["SimilarWorkflowsSkeletonGrid",()=>f],279126)},944683,e=>{"use strict";e.s(["SimilarWorkflowComponent",()=>c]);var t=e.i(843476),a=e.i(975558),r=e.i(522016),s=e.i(291727),i=e.i(789145),n=e.i(167881),o=e.i(279126),l=e.i(108653);let c=({workflow:e,onOpenChange:c,insidePreviewPage:u=!1,navigateToTemplate:d=!1})=>{let{id:m}=e,{data:p,isLoading:f,isError:h}=(0,i.useSimilarWorkflows)(m);return f?(0,t.jsx)(o.SimilarWorkflowsSkeletonGrid,{}):h?(0,t.jsx)("div",{children:"Error loading similar workflows. Please try reloading the page."}):p?.similar_workflows?.length?(0,t.jsxs)("div",{className:"flex flex-col h-fit relative",children:[!u&&(0,t.jsxs)(n.Button,{className:"w-fit rounded-full px-4 py-2 absolute top-4 self-center z-10 backdrop-blur-md",variant:"outline",onClick:()=>c(!1),size:"icon",children:["Back to preview",(0,t.jsx)(a.ArrowUp,{className:"ml-1 h-5 w-5"})]}),u&&(0,t.jsx)("h2",{className:"mt-6 text-3xl font-bold text-center",children:"Related templates"}),(0,t.jsx)("div",{className:`grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4 overflow-y-auto ${u?"pt-8":"p-8"}`,children:p?.similar_workflows.map(e=>d?(0,t.jsx)(r.default,{href:`/templates/${e.public_id}`,className:"w-full",children:(0,t.jsx)(s.WorkflowCard,{workflow:e})},e.public_id):(0,t.jsx)(l.SimilarWorkflowCard,{workflow:e},e.public_id))})]}):null}},108653,320379,e=>{"use strict";e.s(["ModalWorkflowPreview",()=>$,"SimilarWorkflowCard",()=>C],108653);var t=e.i(843476),a=e.i(271645),r=e.i(88653),s=e.i(824511),i=e.i(531278),n=e.i(386818),o=e.i(425063),l=e.i(191420),c=e.i(657688),u=e.i(522016),d=e.i(618566),m=e.i(604570),p=e.i(471512),f=e.i(384347),h=e.i(944683),g=e.i(864055),x=e.i(2925),y=e.i(167881),w=e.i(970065),b=e.i(630374),v=e.i(314141),j=e.i(556703);let k=({kernel:e})=>{switch(e?.toLowerCase()){case"python":return(0,t.jsx)(v.default,{className:"w-4 h-4"});case"r":return(0,t.jsx)(j.default,{className:"w-4 h-4"});default:return null}};e.s(["KernelImage",0,k],320379);var N=e.i(471435),_=e.i(805387),A=e.i(647163),S=e.i(291727);let C=a.default.memo(({workflow:e,inExplore:r})=>{let[s,i]=(0,a.useState)(!1);return(0,t.jsxs)(b.Dialog,{open:s,onOpenChange:i,children:[(0,t.jsx)(b.DialogTrigger,{className:"w-full",children:(0,t.jsx)(S.WorkflowCard,{workflow:e})}),(0,t.jsxs)(b.DialogContent,{className:"p-0 max-h-[90vh] max-w-[90%] xl:max-w-screen-[1400px]",children:[(0,t.jsx)(_.VisuallyHidden,{children:(0,t.jsx)(b.DialogTitle,{children:"Notebook Preview"})}),(0,t.jsx)($,{workflow:e,inExplore:r})]})]})});C.displayName="WorkflowCard",a.default.memo(({workflow:e,cardHeight:r=100,cardWidth:s=250})=>{let[i,o]=(0,a.useState)(!1);return(0,t.jsxs)(b.Dialog,{open:i,onOpenChange:o,children:[(0,t.jsx)(b.DialogTrigger,{children:(0,t.jsx)("div",{className:"rounded-xl hover:shadow-sm border border-input transition duration-200 shadow-input dark:shadow-none p-2 px-3 dark:bg-black dark:border-white/[0.2] bg-white flex flex-col ring-none active:ring-none overflow-hidden hover:bg-accent/50",style:{height:`${r}px`,width:`${s}px`},children:(0,t.jsxs)("div",{className:"flex flex-col h-full",children:[(0,t.jsx)("div",{className:"mb-2",children:(0,t.jsx)("h2",{className:"font-sans text-sm font-bold line-clamp-1 text-neutral-600 dark:text-neutral-200",children:e.plan.name})}),(0,t.jsx)("div",{className:"flex items-center h-full",children:(0,t.jsx)("span",{className:"font-sans text-xs font-normal text-neutral-600 line-clamp-2 dark:text-neutral-300 text-start flex-grow overflow-hidden",children:e?.plan?.description||"No description available"})}),(0,t.jsx)("div",{className:"mt-auto",children:(0,t.jsxs)("div",{className:"flex flex-row justify-between h-10 items-center text-center",children:[(0,t.jsx)(g.WorkflowUserIcon,{screenname:e.screenname,user_icon:e.user_icon}),(0,t.jsxs)("div",{className:"flex flex-row gap-2 items-center text-xs text-neutral-500 pointer-events-none",children:[(0,t.jsx)(n.RocketIcon,{size:12}),e.usage_count>0?`${e.usage_count} runs`:"New"]})]})})]})})}),(0,t.jsxs)(b.DialogContent,{className:"p-0 max-h-[90vh] max-w-[90%] xl:max-w-[1200px] w-full",children:[(0,t.jsx)(b.DialogTitle,{hidden:!0,children:"Notebook Preview"}),(0,t.jsx)($,{workflow:e})]})]})}).displayName="ChatWorkflowCard";let $=({inExplore:e=!1,workflow:b})=>{let{mutateAsync:v}=(0,p.useDuplicateWorkflow)({teamId:void 0}),[j,_]=(0,a.useState)(!1),[S,C]=(0,a.useState)(!1),$=(0,d.useRouter)();(0,a.useEffect)(()=>{m.default.capture("workflow_previewed",{workflow_public_id:b.public_id,workflow_id:b.id})},[b]);let{id:T}=b,E=async()=>{try{C(!0);let e=await v({workflowId:b.public_id,type:"parent"});m.default.capture("cloned_workflow",{workflow_id:e.id,from:"card_preview"}),e.id&&$.push("/workflows")}finally{C(!1)}},P=async()=>{try{_(!0);let e=await v({workflowId:b.public_id,type:"parent"});m.default.capture("run_workflow_from_preview",{workflow_id:T,new_workflows:!0,from:"explore_card"}),e.id&&$.push(`/notebooks/${e.id}`)}finally{_(!1)}},I=b.plan?.steps?.some(e=>e.userInputType===f.WorkflowInputType.file),[M,O]=(0,a.useState)(!1),[F,B]=(0,a.useState)(!1),z=b.plan?.tags||[];return(0,t.jsx)(r.AnimatePresence,{mode:"wait",children:F?(0,t.jsx)(s.m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.1},children:(0,t.jsx)(h.SimilarWorkflowComponent,{workflow:{id:b.public_id},onOpenChange:B})},"similarWorkflows"):(0,t.jsxs)(s.m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"flex flex-col h-full max-h-[80vh] p-10 min-w-full w-full overflow-auto",children:[(0,t.jsxs)("div",{className:"flex flex-row justify-between w-full max-w-full items-start pt-2",children:[(0,t.jsx)("h1",{className:"flex flex-row justify-between w-full max-w-full text-4xl font-bold word-break-all overflow-wrap-break-word",children:b?.plan?.name}),(0,t.jsxs)("div",{className:"flex flex-col gap-2 items-end md:flex-row",children:[(0,t.jsx)(y.Button,{onClick:()=>{m.default.capture("workflow_preview",{workflow_public_id:b.public_id,workflow_id:b.id,from:"explore"}),$.push(`/notebooks/preview/${b.public_id}`)},variant:"outline",className:"px-4 py-2 rounded",children:"More details"}),!e&&(0,t.jsxs)(y.Button,{onClick:E,variant:"outline",className:"flex items-center px-4 py-2 rounded gap-1",disabled:S,children:[S&&(0,t.jsx)(i.Loader2,{className:"size-5 animate-spin"}),"Clone Notebook"]}),(0,t.jsxs)(y.Button,{onClick:P,variant:"contrast",className:"px-4 py-2 rounded gap-1",disabled:j,children:[j&&(0,t.jsx)(i.Loader2,{className:"size-5 animate-spin"}),"Run Notebook"]})]})]}),(0,t.jsx)("div",{className:"flex flex-col justify-between items-start py-6 sm:flex-row",children:(0,t.jsxs)("div",{className:"overflow-hidden mb-4 sm:mb-0",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground dark:text-white mb-4 whitespace-pre-line",children:b?.plan?.description_override||b?.plan?.description}),(0,t.jsxs)("div",{className:"flex flex-row gap-4 items-center text-center w-full",children:[(0,t.jsx)(g.WorkflowUserIcon,{screenname:b.screenname,user_icon:b.user_icon}),(0,t.jsxs)(w.Card,{className:"flex flex-row gap-2 items-center px-2 py-1 text-xs font-normal text-muted-foreground",children:[(0,t.jsx)(n.RocketIcon,{size:12}),b.usage_count>0?`${b.usage_count} runs`:"New"]}),z?.length>0&&(0,t.jsx)("div",{className:" flex-wrap gap-2 items-center self-center text-center justify-center flex flex-row",children:z?.map(e=>(0,t.jsx)(u.default,{href:`/category/${e}`,className:"px-2 py-1 justify-center self-center text-xs font-medium text-blue-500 bg-blue-100 rounded-xl",children:e},e))}),b?.plan?.default_kernel&&b?.plan?.default_kernel!=="default"&&(0,t.jsx)("div",{className:" flex-wrap gap-2 items-center self-center text-center justify-center flex flex-row",children:(0,t.jsxs)("span",{className:"px-2 py-1 text-xs font-semibold flex items-center justify-center gap-2  rounded-xl border",children:[(0,t.jsx)(k,{kernel:b?.plan?.default_kernel}),b?.plan?.default_kernel]})}),I&&(0,t.jsx)("div",{className:"flex flex-row self-center ml-auto",children:(0,t.jsxs)("h3",{className:"flex gap-2 items-center",children:[(0,t.jsx)(l.UploadCloudIcon,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-xs font-semibold",children:"Files Needed"})]})})]})]})}),(0,t.jsxs)("div",{className:"flex overflow-auto flex-col flex-grow md:flex-row",children:[(0,t.jsxs)("div",{className:"overflow-y-auto pr-6 w-full rounded-md md:w-3/5 flex flex-col h-full",children:[(0,t.jsx)("div",{className:(0,A.cn)("overflow-hidden relative mb-4 h-96 rounded-md",M&&"from-blue-300 to-blue-500 bg-gradient-to-r"),children:!M&&b.plan?.image_url?(0,t.jsx)(c.default,{src:b.plan.image_url,alt:"The workflow cover that the creator has uploaded",layout:"fill",objectFit:"contain",onError:()=>O(!0)}):(0,t.jsx)("div",{className:"flex absolute inset-0 justify-center items-center from-blue-300 to-blue-500 bg-gradient-to-r text-center  border border-input rounded-lg p-4",children:(0,t.jsxs)("h2",{className:"text-4xl font-bold text-black",children:[b.plan.name," Notebook"]})})}),(0,t.jsx)("div",{className:"flex-grow"}),(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsxs)(y.Button,{className:"w-fit rounded-full px-4 py-2",variant:"outline",onClick:()=>B(!0),size:"icon",children:["Similar Templates",(0,t.jsx)(o.ArrowDown,{className:"ml-1 h-5 w-5"})]})})]}),(0,t.jsxs)("div",{className:"overflow-y-hidden w-full md:w-2/5 ml-3 flex flex-col h-full",children:[(0,t.jsx)("h2",{className:"mb-2 text-xl font-semibold",children:"Notebook Steps"}),(0,t.jsx)(N.ScrollArea,{className:"flex-1 overflow-y-auto overflow-x-hidden pr-3",children:(0,t.jsx)(x.PlanPreview,{plan:b?.plan})})]})]})]},"mainContent")})};(0,a.memo)(({workflow:e})=>{let[r,s]=(0,a.useState)(!1);return(0,t.jsxs)(b.Dialog,{open:r,onOpenChange:s,children:[(0,t.jsx)(b.DialogTrigger,{className:"w-full",children:(0,t.jsxs)("article",{className:"bg-background rounded-lg overflow-hidden border border-border",children:[(0,t.jsx)(c.default,{className:"aspect-video",width:700,height:450,src:e.plan.image_url,alt:e.plan.name}),(0,t.jsx)("p",{className:"sr-only text-muted-foreground text-xs tracking-[-0.01em] leading-[1.4em]",children:e.plan.description}),(0,t.jsxs)("div",{className:"p-4 flex items-center gap-3",children:[(0,t.jsx)(c.default,{className:"size-[28px] rounded-full",width:28,height:28,src:e.user_icon,alt:e.screenname}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"mb-0.5 text-card-foreground text-sm font-semibold tracking-[-0.015em]",children:e.plan.name}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("p",{className:"text-muted-foreground text-xs tracking-[-0.01em] leading-[1.4em]",children:["By ",e.screenname]}),(0,t.jsx)("div",{className:"size-[2px] rounded-full bg-muted-foreground"}),(0,t.jsx)("p",{className:"text-muted-foreground text-xs tracking-[-0.01em] leading-[1.4em]",children:e.usage_count>0?`${e.usage_count} runs`:"New"})]})]})]})]})}),(0,t.jsxs)(b.DialogContent,{className:"p-0 max-h-[90vh] max-w-[90%] xl:max-w-[1200px] w-full overflow-y-scroll",children:[(0,t.jsx)(_.VisuallyHidden,{children:(0,t.jsx)(b.DialogTitle,{children:"Notebook Preview"})}),(0,t.jsx)($,{workflow:e,inExplore:!0})]})]})}).displayName="ExploreWorkflowsCard"},560730,e=>{"use strict";var t=e.i(52563),a=e.i(954616),r=e.i(266027),s=e.i(912598),i=e.i(394073),n=e.i(647163);let o=async(e,t)=>{let a=await (0,n.customFetch)(`${i.BASE_API}/api/custom_agents/create`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok){let e=await a.text();throw Error(`Failed to create custom agent: ${a.status} ${e}`)}return await a.json()},l=async(e,t)=>{let a=await (0,n.customFetch)(`${i.BASE_API}/api/custom_agents/update`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok){let e=await a.text();throw Error(`Failed to update custom agent: ${a.status} ${e}`)}return await a.json()},c=async e=>{let t=await (0,n.customFetch)(`${i.BASE_API}/api/custom_agents/get_all`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok){let e=await t.text();throw Error(`Failed to get custom agents: ${t.status} ${e}`)}return await t.json()},u=async(e,t)=>{let a=await (0,n.customFetch)(`${i.BASE_API}/api/custom_agents/delete/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!a.ok){let e=await a.text();throw Error(`Failed to delete custom agent: ${a.status} ${e}`)}return await a.json()},d=async(e,t,a)=>{let r=await (0,n.customFetch)(`${i.BASE_API}/api/teams/${t}/custom-agents/${e}`,{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({agent_id:e,team_id:t})});if(!r.ok){let e=await r.text();throw Error(`Failed to share custom agent: ${r.status} ${e}`)}return await r.json()},m=async(e,t,a)=>{let r=await (0,n.customFetch)(`${i.BASE_API}/api/teams/${t}/custom-agents/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(!r.ok){let e=await r.text();throw Error(`Failed to unshare custom agent: ${r.status} ${e}`)}return await r.json()},p=async(e,t)=>{let a=await (0,n.customFetch)(`${i.BASE_API}/api/custom_agents/publish_admin`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok){let e=await a.text();throw Error(`Failed to publish custom agent: ${a.status} ${e}`)}return await a.json()},f=async()=>{let e=await (0,n.customFetch)(`${i.BASE_API}/api/custom_agents/get_all_template_agents`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok){let t=await e.text();throw Error(`Failed to get template custom agents: ${e.status} ${t}`)}return await e.json()},h=async(e,t)=>{let a=await (0,n.customFetch)(`${i.BASE_API}/api/custom_agents/create_from_template/${e.publicAgentId}`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({})});if(!a.ok){let e=await a.text();throw Error(`Failed to create custom agent from template: ${a.status} ${e}`)}return await a.json()};e.s(["useCreateCustomAgent",0,()=>{let{getAccessTokenSilently:e}=(0,t.useAuth0)(),r=(0,s.useQueryClient)();return(0,a.useMutation)({mutationFn:async t=>o(t,await e()),onSuccess:()=>{r.invalidateQueries({queryKey:["custom-agents"]})}})},"useCreateCustomAgentFromTemplate",0,()=>{let{getAccessTokenSilently:e}=(0,t.useAuth0)(),r=(0,s.useQueryClient)();return(0,a.useMutation)({mutationFn:async t=>{let a=await e();return h({publicAgentId:t.publicAgentId},a)},onSuccess:()=>{r.invalidateQueries({queryKey:["custom-agents"]})}})},"useDeleteCustomAgent",0,()=>{let{getAccessTokenSilently:e}=(0,t.useAuth0)(),r=(0,s.useQueryClient)();return(0,a.useMutation)({mutationFn:async t=>u(t,await e()),onSuccess:()=>{r.invalidateQueries({queryKey:["custom-agents"]})}})},"useGetCustomAgents",0,()=>{let{getAccessTokenSilently:e}=(0,t.useAuth0)();return(0,r.useQuery)({queryKey:["custom-agents"],queryFn:async()=>c(await e())})},"useGetTemplateCustomAgents",0,()=>(0,r.useQuery)({queryKey:["template-custom-agents"],queryFn:async()=>f()}),"usePublishCustomAgent",0,()=>{let{getAccessTokenSilently:e}=(0,t.useAuth0)(),r=(0,s.useQueryClient)();return(0,a.useMutation)({mutationFn:async t=>{let a=await e();return p({publicId:t.publicId,name:t.name,config:t.config,category:t.category},a)},onSuccess:()=>{r.invalidateQueries({queryKey:["custom-agents"]})}})},"useShareCustomAgentWithTeam",0,()=>{let{getAccessTokenSilently:e}=(0,t.useAuth0)(),r=(0,s.useQueryClient)();return(0,a.useMutation)({mutationFn:async t=>{let a=await e();return d(t.agentId,t.teamId,a)},onSuccess:()=>{r.invalidateQueries({queryKey:["custom-agents"]})}})},"useUnshareCustomAgentWithTeam",0,()=>{let{getAccessTokenSilently:e}=(0,t.useAuth0)(),r=(0,s.useQueryClient)();return(0,a.useMutation)({mutationFn:async t=>{let a=await e();return m(t.agentId,t.teamId,a)},onSuccess:()=>{r.invalidateQueries({queryKey:["custom-agents"]})}})},"useUpdateCustomAgent",0,()=>{let{getAccessTokenSilently:e}=(0,t.useAuth0)(),r=(0,s.useQueryClient)();return(0,a.useMutation)({mutationFn:async t=>l(t,await e()),onSuccess:()=>{r.invalidateQueries({queryKey:["custom-agents"]})}})}],560730)},988846,e=>{"use strict";var t=e.i(54943);e.s(["SearchIcon",()=>t.default])},157633,e=>{"use strict";var t=e.i(843476),a=e.i(294918),r=e.i(178583),s=e.i(657688);let i=[{transform:"absolute top-1 left-5 rotate-[1.5deg] group-hover:-translate-y-0 group-hover:translate-x-0.5 group-hover:rotate-[2.5deg]"},{transform:"absolute top-0 left-0 -rotate-[2deg] group-hover:-translate-y-1 group-hover:-translate-x-0.5 group-hover:-rotate-[3deg]"}],n=[{src:"https://r2.julius.ai/snowflake-logo.png",alt:"Snowflake",position:"absolute top-[25%] -left-[45%] rotate-2 group-hover:-translate-y-0.5 group-hover:-translate-x-0.5 group-hover:rotate-3"},{src:"https://r2.julius.ai/bigquery-logo.png",alt:"BigQuery",position:"absolute top-[60%] -left-[45%] rotate-1 group-hover:-translate-y-0.5 group-hover:-translate-x-0.5 group-hover:-rotate-3"},{src:"https://r2.julius.ai/postgres-logo.png",alt:"Postgres",position:"absolute top-[25%] -right-[45%] -rotate-1 group-hover:-translate-y-0.5 group-hover:translate-x-0.5 group-hover:-rotate-2"},{src:"https://r2.julius.ai/googledrive-logo.png",alt:"Google Drive",position:"absolute top-[60%] -right-[45%] rotate-1 group-hover:-translate-y-1 group-hover:translate-x-0.5 group-hover:rotate-2"}];e.s(["HomeDatasheetIllustration",0,()=>(0,t.jsxs)("div",{className:"group relative overflow-visible transition-all duration-200 ease-out w-full h-full max-w-[300px] max-h-[250px]",children:[i.map(({transform:e},a)=>(0,t.jsx)("div",{className:`${e} w-full h-full transform transition-all duration-200 ease-out`,children:(0,t.jsx)("div",{className:"w-full h-full p-[6%] rounded-lg border border-border overflow-hidden shadow-subtle bg-background active:!border-primary/50",children:(0,t.jsxs)("table",{className:"w-full h-full border-border border",children:[(0,t.jsx)("thead",{className:"h-[14%]",children:(0,t.jsx)("tr",{children:Array.from({length:5}).map((e,a)=>(0,t.jsx)("th",{className:"bg-muted border-b border-border"},a))})}),(0,t.jsx)("tbody",{children:Array.from({length:6}).map((e,a)=>(0,t.jsx)("tr",{className:"h-[16.67%]",children:Array.from({length:5}).map((e,a)=>(0,t.jsx)("td",{className:"border-b border-r border-l border-border",children:(0,t.jsx)("div",{className:"h-[40%] mx-[15%] rounded-lg bg-muted cursor-default"})},a))},a))})]})})},a)),(0,t.jsxs)("div",{className:"absolute text-muted-foreground text-2xs -top-[8%] -left-[5%] -translate-x-10 -translate-y-2.5 rotate-2 flex items-center gap-1 px-2 py-1 bg-background border border-border rounded-md text-[0.7em] shadow-md transition-transform duration-200 ease-out group-hover:-translate-y-4 group-hover:-translate-x-12 group-hover:rotate-3 group-hover:scale-105 hover:bg-message cursor-default active:!border-primary/50",children:[(0,t.jsx)(a.FileSpreadsheet,{className:"w-[1em] h-[1em] text-emerald-600"}),(0,t.jsx)("span",{children:"XLSX"})]}),(0,t.jsxs)("div",{className:"absolute text-muted-foreground text-2xs -top-[8%] -right-[5%] translate-x-10 -translate-y-2.5 -rotate-2 flex items-center gap-1 px-2 py-1 bg-background border border-border rounded-md text-[0.7em] shadow-md transition-transform duration-200 ease-out group-hover:-translate-y-4 group-hover:translate-x-12 group-hover:-rotate-3 group-hover:scale-105 hover:bg-message cursor-default active:!border-primary/50",children:[(0,t.jsx)(r.FileText,{className:"w-[1em] h-[1em] text-blue-600"}),(0,t.jsx)("span",{children:"PDF"})]}),n.map(({src:e,alt:a,position:r},i)=>(0,t.jsx)("div",{className:`${r} flex items-center justify-center w-fit h-fit bg-background border border-border p-1.5 rounded-lg shadow-lg transition-transform duration-200 ease-out group-hover:scale-110`,children:(0,t.jsx)(s.default,{className:"w-full h-auto object-contain transition-opacity duration-300",src:e,alt:a,width:14,height:14})},i))]})])},4678,e=>{"use strict";var t=e.i(271645),a=e.i(777081);e.i(481908);let r=["ORDER BY","GROUP BY","HAVING","WHERE","JOIN","FROM","SELECT"],s={SELECT:["column","function","keyword","operator"],FROM:["table"],JOIN:["table"],WHERE:["column","function","keyword","operator"],"GROUP BY":["column","keyword"],HAVING:["column","function","keyword","operator"],"ORDER BY":["column","function","keyword"],UNKNOWN:[]},i=["table","column","function","keyword","operator"];var n=e.i(52563),o=e.i(213248),l=e.i(394073);let c=[{valueName:">",metaType:"operator"},{valueName:"<",metaType:"operator"},{valueName:"=",metaType:"operator"},{valueName:">=",metaType:"operator"},{valueName:"<=",metaType:"operator"},{valueName:"!=",metaType:"operator"},{valueName:"<>",metaType:"operator"},{valueName:"LIKE",metaType:"operator"},{valueName:"ILIKE",metaType:"operator"},{valueName:"BETWEEN",metaType:"operator"},{valueName:"IN",metaType:"operator"},{valueName:"IS NULL",metaType:"operator"},{valueName:"IS NOT NULL",metaType:"operator"},{valueName:"AND",metaType:"operator"},{valueName:"OR",metaType:"operator"},{valueName:"NOT",metaType:"operator"},{valueName:"NOW()",metaType:"operator"},{valueName:"INTERVAL",metaType:"operator"},{valueName:"COUNT()",metaType:"operator"},{valueName:"SUM()",metaType:"operator"},{valueName:"AVG()",metaType:"operator"},{valueName:"MIN()",metaType:"operator"},{valueName:"MAX()",metaType:"operator"}],u=[...c];async function d({connectionId:e,accessToken:t}={}){if(!l.FEATURE_FLAGS.SQL_EDITOR_AUTOCOMPLETE)return u;if(e&&t)try{let a=await (0,o.getSchemaForSqlEditor)({accessToken:t,connectionId:e}),r=[...Array.isArray(a?.schema?.tables)?a.schema.tables:[],...c];if(r.length>0)return r}catch(e){console.error("Failed to fetch schema for SQL editor",e)}return u}let m={table:1100,column:1050,function:1025,keyword:1e3},p=new Map,f={vocabulary:[],grammar:null,isLoading:!1,error:null};function h(e={}){let{connectionIds:o,onEditorLoad:l,enabled:c=!0}=e,{vocabulary:u,grammar:g}=function(e,a){let[r,s]=(0,t.useState)(f),{getAccessTokenSilently:i}=(0,n.useAuth0)(),o=a?.enabled??!0,l=(0,t.useMemo)(()=>o&&e?Array.isArray(e)?JSON.stringify(e.map(e=>"string"==typeof e?e.trim():"").filter(e=>!!e).sort()):JSON.stringify([e].map(e=>"string"==typeof e?e.trim():"").filter(e=>!!e)):"[]",[e,o]),c=(0,t.useMemo)(()=>(function(e){try{let t=JSON.parse(e);return Array.from(new Set(t.filter(e=>"string"==typeof e&&e.length>0)))}catch{return[]}})(l),[l]),u=l||"[]";return(0,t.useEffect)(()=>{let e=!1;return(async()=>{if(!o)return s(f);let t=p.get(u),a=!!(t&&Date.now()-t.fetchedAt<3e5);if(t){if(s({vocabulary:t.vocabulary,grammar:t.grammar,isLoading:!1,error:null}),a)return}else s(e=>({...e,isLoading:!0,error:null}));try{let t,a,r,n,o=0===c.length,l=null;if(!o)try{l=await i()}catch(e){console.error("Failed to get access token:",e)}let f=o?[null]:c,h=await Promise.all(f.map(e=>d({connectionId:e??void 0,accessToken:l??void 0})));if(e)return;let g=h.flat(),x=g.flatMap(e=>{var t;return t=e,"table"===t.metaType?[{caption:t.valueName,value:t.valueName,meta:t.metaType,score:m[t.metaType]??950},...(t.columns??[]).map(e=>({caption:e.valueName,value:e.valueName,meta:e.metaType,tableName:t.valueName,score:m[e.metaType]??950}))]:[{caption:t.valueName,value:t.valueName,meta:t.metaType,score:m[t.metaType]??950}]}),y=(t=new Set,a={},r=new Set,n=new Set,g.forEach(e=>{if("table"===e.metaType){t.add(e.valueName);let r=(e.columns??[]).map(e=>e.valueName);r.length>0&&(a[e.valueName]=r.sort());return}if("column"!==e.metaType){if("function"===e.metaType)return void r.add(e.valueName);"keyword"===e.metaType&&n.add(e.valueName)}}),Object.keys(a).forEach(e=>{a[e]=Array.from(new Set(a[e])).sort()}),{tables:Array.from(t).sort(),columnsByTable:a,functions:Array.from(r).sort(),keywords:Array.from(n).sort()}),w={vocabulary:x,grammar:y,fetchedAt:Date.now()};p.set(u,w),s({vocabulary:x,grammar:y,isLoading:!1,error:null})}catch(t){if(e)return;s({vocabulary:[],grammar:null,isLoading:!1,error:t instanceof Error?t:Error("Failed to load schema vocabulary")})}})(),()=>{e=!0}},[u,c,i,o]),(0,t.useMemo)(()=>({vocabulary:r.vocabulary,grammar:r.grammar,isLoading:r.isLoading,error:r.error}),[r])}(o,{enabled:c}),x=(0,t.useRef)(u),y=(0,t.useRef)(g),w=(0,t.useRef)(null),b=(0,t.useRef)(null),v=(0,t.useRef)(null),j=(0,t.useRef)(!1);(0,t.useEffect)(()=>{x.current=u},[u]),(0,t.useEffect)(()=>{y.current=g},[g]);let k=(0,t.useCallback)(()=>{if(b.current)return b.current;let e=a.default,t=e.require??e.acequire;if(!t)return null;let r=t("ace/ext/language_tools");return b.current=r,r},[]),N=(0,t.useCallback)(()=>(w.current||(w.current={getCompletions(e,t,n,o,l){let c=(o??"").toLowerCase(),u=x.current??[],d=y.current??null,m=function(e,t){if(e.trimEnd().endsWith("."))return["column"];let a=function(e){if(!e)return"UNKNOWN";let t=e.toUpperCase(),a=null,s=-1;if(r.forEach(e=>{let r=t.lastIndexOf(e);r>s&&(s=r,a=e)}),"JOIN"===a){let e=t.lastIndexOf("JOIN");if(t.lastIndexOf(" ON ")>e)return"WHERE"}return a??"UNKNOWN"}(e),n=s[a]??[];if(("WHERE"===a||"HAVING"===a)&&function(e){let t=e.trimEnd();if(!t)return!1;let a=t.split(/\s+/),r=a[a.length-1];return!!r&&(!!(/^[a-zA-Z_][a-zA-Z0-9_]*\.$/.test(r)||/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(r))||"."===t.slice(-1))}(e)){let e=new Set(n);return["operator","keyword","function"].forEach(t=>e.add(t)),Array.from(e)}return 0===n.length?t?i:[]:n}(function(e,t){try{let r=a.default.require("ace/range").Range;return e.getTextRange(new r(0,0,t.row,t.column))}catch{let a=e.getDocument(),r=a.getLines(0,t.row)||[],s=a.getLine(t.row)?.slice(0,t.column)??"";return r.concat(s).join("\n")}}(t,n),d),p=m.length>0,f=[];for(let e of u)if(!c||e.caption.toLowerCase().startsWith(c)){if(p&&(!e.meta||!m.includes(e.meta)))continue;if(f.push({caption:e.caption,value:e.value,meta:e.meta??"schema",score:e.score??900}),f.length>=200)break}l(null,f)}}),w.current),[]),_=(0,t.useCallback)(e=>{if(!c)return void l?.(e);let t=k();if(t){let e=N();t.addCompleter(e)}v.current=e;let a=t=>{if("insertstring"!==t.command?.name)return;let a=Array.isArray(t.args)?t.args[0]:t.args;if("string"==typeof a&&(a.trim()||" "===a)&&(" "===a||/[a-zA-Z0-9_.]/.test(a))){if(0===(x.current?.length??0))return;let t=e.completer;t&&(t.autoInsert=!1,t.autoSelect=!0),(x.current?.length??0)>0||(j.current=!0);let a=()=>{let t=e.completer;t&&t.activated?t.showPopup?.(e):e.execCommand("startAutocomplete",{immediate:!0})};(()=>{{let e=window.requestIdleCallback;if("function"==typeof e)return e(a,{timeout:150});if("function"==typeof window.requestAnimationFrame)return window.requestAnimationFrame(()=>{setTimeout(a,0)})}setTimeout(a,0)})()}};e.commands.on("afterExec",a),e.once("blur",()=>{let t=e.commands;t.off?t.off("afterExec",a):t.removeListener&&t.removeListener("afterExec",a),v.current=null,j.current=!1}),l?.(e)},[c,N,k,l]);return(0,t.useEffect)(()=>()=>{let e=b.current;e?.removeCompleter&&w.current&&e.removeCompleter(w.current),w.current=null,v.current=null,j.current=!1},[]),(0,t.useEffect)(()=>{if(!j.current||(x.current?.length??0)===0)return;let e=v.current;if(!e)return;let t=e.completer;t&&(t.autoInsert=!1,t.autoSelect=!0),e.execCommand("startAutocomplete",{immediate:!0}),setTimeout(()=>{t?.showPopup?.(e)},0),j.current=!1},[u]),{handleEditorLoad:_}}e.s(["useSqlAceAutocomplete",()=>h],4678)},87194,e=>{e.v({$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1})},268817,e=>{e.v({$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0})},51805,e=>{e.v({$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1})},202524,e=>{e.v({$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0})},864207,(e,t,a)=>{"use strict";t.exports=function e(t,a){if(t===a)return!0;if(t&&a&&"object"==typeof t&&"object"==typeof a){if(t.constructor!==a.constructor)return!1;if(Array.isArray(t)){if((r=t.length)!=a.length)return!1;for(s=r;0!=s--;)if(!e(t[s],a[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===a.source&&t.flags===a.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===a.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===a.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(a).length)return!1;for(s=r;0!=s--;)if(!Object.prototype.hasOwnProperty.call(a,i[s]))return!1;for(s=r;0!=s--;){var r,s,i,n=i[s];if(!e(t[n],a[n]))return!1}return!0}return t!=t&&a!=a}},77705,e=>{"use strict";let t=(0,e.i(475254).default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);e.s(["EyeOff",()=>t],77705)},851984,e=>{"use strict";let t={Postgres:"postgres",BigQuery:"bigquery",Snowflake:"snowflake",MySQL:"mysql",SqlServer:"sqlserver",Databricks:"databricks",Vertica:"vertica",Supabase:"supabase","Google Ads":"google-ads","Meta Ads":"meta-ads",MCP:"connecting-an-mcp"};function a(e){if(!e)return;let a=t[e.name];return a?`https://julius.ai/docs/data-connectors/${a}`:void 0}e.s(["getConnectorDocsUrl",()=>a])},948822,e=>{"use strict";var t=e.i(394073);let a=async({accessToken:e,type:a})=>{let r=`${t.BASE_API}/microsoft/oauth/start?type=${a}`,s=await fetch(r,{headers:{Authorization:`Bearer ${e}`}});if(409===s.status)return null;if(!s.ok)throw Error("Failed to fetch Microsoft OneDrive auth URL");return s.json()},r=async(e,a)=>{let r=await fetch(`${t.BASE_API}/microsoft/oauth/token?type=${a}`,{headers:{Authorization:`Bearer ${e}`}});if(409===r.status)return null;if(!r.ok)throw Error("Failed to fetch Microsoft OAuth token");return await r.json()},s=async(e,a,r)=>{let s=await fetch(`${t.BASE_API}/microsoft/files/transfer_to_hub?type=${r}`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},method:"POST",body:JSON.stringify({file:a})});if(!s.ok)throw Error("Failed to transfer Microsoft file to Hub");return s.json()},i=async e=>{let a=await fetch(`${t.BASE_API}/microsoft/oauth/sharepoint_resource_token`,{headers:{Authorization:`Bearer ${e}`}});if(!a.ok)throw Error("Failed to fetch Microsoft SharePoint resource token");return await a.json()},n=async(e,a)=>{let r=await fetch(`${t.BASE_API}/microsoft/oauth/disconnect?type=${a}`,{headers:{Authorization:`Bearer ${e}`},method:"POST"});if(!r.ok)throw Error("Failed to disconnect Microsoft account");return await r.json()};e.s(["disconnectMicrosoftAccount",0,n,"getMicrosoftAuthUrl",0,a,"getMicrosoftOauthToken",0,r,"getMicrosoftSharePointResourceToken",0,i,"transferMicrosoftFileToHub",0,s])},292999,e=>{"use strict";var t=e.i(843476),a=e.i(531278),r=e.i(167881),s=e.i(184762);e.s(["default",0,({customInstructions:e,setCustomInstructions:i,isSaving:n,handleSave:o,existingCustomInstructions:l})=>{let c=e!==(l??"");return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold",children:"Custom Instructions"}),(0,t.jsx)("p",{className:"text-sm",children:"Provide instructions and context about this connection so AI can use it effectively."}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-foreground",children:"Include details like:"}),(0,t.jsxs)("ul",{className:"text-sm space-y-1.5 ml-4 mt-2",children:[(0,t.jsxs)("li",{className:"flex items-start",children:[(0,t.jsx)("span",{className:"mr-2",style:{color:"#64748B"},children:"•"}),(0,t.jsx)("span",{style:{color:"#64748B"},children:"Explain the data source and its purpose"})]}),(0,t.jsxs)("li",{className:"flex items-start",children:[(0,t.jsx)("span",{className:"mr-2",style:{color:"#64748B"},children:"•"}),(0,t.jsxs)("span",{style:{color:"#64748B"},children:["Important tables (e.g., use"," ",(0,t.jsx)("code",{className:"text-xs bg-muted px-1.5 py-0.5 rounded font-mono",children:"product_catalog"})," ","for products)"]})]}),(0,t.jsxs)("li",{className:"flex items-start",children:[(0,t.jsx)("span",{className:"mr-2",style:{color:"#64748B"},children:"•"}),(0,t.jsxs)("span",{style:{color:"#64748B"},children:["Key table relationships (e.g.,"," ",(0,t.jsx)("code",{className:"text-xs bg-muted px-1.5 py-0.5 rounded font-mono",children:"product_catalog.sku = transaction_history.product_sku"}),")"]})]}),(0,t.jsxs)("li",{className:"flex items-start",children:[(0,t.jsx)("span",{className:"mr-2",style:{color:"#64748B"},children:"•"}),(0,t.jsx)("span",{style:{color:"#64748B"},children:"Any business logic notes (e.g., Revenue only counts completed orders)"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("label",{htmlFor:"custom-instructions",className:"text-base font-semibold",children:"Instructions"}),(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:[e.length," characters"]})]}),(0,t.jsx)(s.Textarea,{id:"custom-instructions",value:e,onChange:e=>i(e.target.value),placeholder:"e.g., Always filter data by the current fiscal year, use specific table naming conventions, prioritize certain metrics...",className:"min-h-[200px] resize-none",disabled:n})]}),(0,t.jsx)("div",{className:"flex justify-end gap-2 pt-2",children:(0,t.jsx)(r.Button,{onClick:o,disabled:n||!c,children:n?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.Loader2,{className:"w-4 h-4 animate-spin mr-2"})," Saving..."]}):"Save"})})]})}])},694937,e=>{"use strict";e.s(["TAG_GROUPS",0,{"Data Processing":["Data Processing","Data Manipulation","Distribution Data","File Converter","PDF","Pdf","JPEG","Jpeg","PNG","Temporal Data","Geospatial Data","Spatial Analysis"],"Data Visualization":["Data Visualization","Chart Maker","Graphing","Graph Maker","AI Chart","Ai Chart","AI Graph","Ai Graph","Bar Chart","Pie Chart","Line Chart","Histogram","Heatmaps","Part-to-Whole","Comparison Chart","Comparison chart","Compare Groups"],"Data Cleaning":["Data Cleaning","data cleaning"],Statistics:["Statistics","Hypothesis Testing","Linear Regression","Anova","ANOVA","Non-parametric","Compare Groups","Between-Group","Correlation","Forecasting","Temporal Data","Population Analysis"],"Bar Chart Maker":["Bar Chart Maker","Free Bar Chart Maker","Line Graph Maker","Pie Chart Template","Linear Regression Calculator","Sample Size Calculator"],Education:["Education","Academic Literature","Math","Starter"],Finance:["Finance","Financial Analysis"],Marketing:["Marketing","Organization"]}])},723402,e=>{"use strict";var t=e.i(843476),a=e.i(271645),r=e.i(604570),s=e.i(846696),i=e.i(565489),n=e.i(483202),o=e.i(367944),l=e.i(11573),c=e.i(620949),u=e.i(647163);e.s(["DroppableWindow",0,({children:e})=>{let d=(0,a.useRef)(null),[m,p]=(0,a.useState)(!1),{updateAttachmentUploadProgress:f,setAttachmentUploadingToDone:h,freeAndHasAttachmentsOrSources:g,isAutoPlay:x,toolPreferences:y,isFreeUser:w}=(0,o.useChatContext)(),{isLoading:b}=(0,c.useUserSubscription)(),v=(0,i.useUploadFiles)(),{triggerLoopsEvent:j}=(0,n.useUserAPI)(),k=async e=>{if(x||b)return;if(y?.disable_all){s.toast.warning("Disable model chat under tools to use attachments"),e.preventDefault(),p(!1);return}if(g){j("multiple_files_upgrade_cta_shown"),s.toast.warning((0,t.jsxs)("div",{className:"break-words",children:[(0,t.jsx)("a",{className:"underline text-primary",href:"/settings",target:"_blank",rel:"noopener noreferrer",onClick:e=>{r.default.capture("upgrade_button_clicked",{location:"multiple_files_toast"}),e.stopPropagation()},children:"Upgrade"})," ","to use multiple files in a chat"]})),r.default.capture("upgrade_cta_shown",{type:"toast",name:"multiple_files"}),"function"==typeof window.gtag&&(window.gtag("event","multiple_files_upgrade_cta_shown"),(0,l.trackLinkedInConversion)(l.UPGRADE_MODAL_SHOWN)),e.preventDefault(),p(!1);return}e.preventDefault(),p(!1);let a=[];if(e.dataTransfer?.items){if(w&&e.dataTransfer.items.length>1){try{j("multiple_files_upgrade_cta_shown")}catch{console.error("Failed to trigger Loops event")}if(s.toast.warning((0,t.jsxs)("div",{className:"break-words",children:[(0,t.jsx)("a",{className:"underline text-primary",href:"/settings",target:"_blank",rel:"noopener noreferrer",onClick:e=>{r.default.capture("upgrade_button_clicked",{location:"multiple_files_toast"}),e.stopPropagation()},children:"Upgrade"})," ","to use multiple files in a chat"]})),r.default.capture("upgrade_cta_shown",{type:"toast",name:"multiple_files"}),"function"==typeof window.gtag){window.gtag("event","multiple_files_upgrade_cta_shown");try{window.dataLayer.push({event:"multiple_files_upgrade_cta_shown"})}catch(e){console.error("Error pushing event to dataLayer",e)}}e.preventDefault(),p(!1);return}if(e.dataTransfer.items.length>20){s.toast.warning("You can only upload up to 20 files at a time"),e.preventDefault(),p(!1);return}for(let i=0;i<e.dataTransfer.items.length;i++)if("file"===e.dataTransfer.items[i].kind){let n=e.dataTransfer.items[i].getAsFile();if(w&&("image/png"===n.type||"image/jpeg"===n.type||n.name.toLowerCase().endsWith(".png")||n.name.toLowerCase().endsWith(".jpg")||n.name.toLowerCase().endsWith(".jpeg"))){if(s.toast.warning((0,t.jsxs)("div",{className:"break-words",children:[(0,t.jsx)("a",{className:"underline text-primary",href:"/settings",target:"_blank",rel:"noopener noreferrer",onClick:e=>{r.default.capture("upgrade_button_clicked",{location:"image_file_toast"}),e.stopPropagation()},children:"Upgrade"})," ","to upload image files (PNG/JPG)"]})),r.default.capture("upgrade_cta_shown",{type:"toast",name:"image_file_upload"}),"function"==typeof window.gtag){window.gtag("event","image_file_upload_upgrade_cta_shown");try{window.dataLayer.push({event:"image_file_upload_upgrade_cta_shown"})}catch(e){console.error("Error pushing event to dataLayer",e)}}e.preventDefault(),p(!1);return}a.push(n)}}let i=a.map(e=>({file:e,filename:e.name,onProgress:f,onComplete:h,method:"JSON",originatingFunction:"file-drop"}));v.mutate({files:i})};return(0,t.jsx)("div",{ref:d,className:(0,u.cn)("flex z-10 flex-col overflow-y-hidden !h-full relative transition-all duration-300 ease-in-out focus-visible:outline-0 w-full items-center justify-center bg-transparent max-w-full border border-transparent",m&&"bg-primary/5 border border-primary/50"),onDragEnter:e=>{e.preventDefault(),p(!0)},onDragOver:e=>{e.preventDefault(),p(!0)},onDragLeave:e=>{e.preventDefault(),p(!1)},onDrop:k,children:e})}])},300549,e=>{"use strict";var t=e.i(843476),a=e.i(271645),r=e.i(647163);let s=a.default.memo(function({children:e,as:s="p",className:i,duration:n=2,spread:o=2,repeatDelay:l=0}){let c=(0,a.useMemo)(()=>e.length*o,[e,o]),u=(0,a.useState)(()=>`text-shimmer-${Math.random().toString(36).substring(2,11)}`)[0],d=n+l,m=n/d*100;return(0,a.useEffect)(()=>{let e=`${u}-style`;if(!document.getElementById(e)){let t=document.createElement("style");return t.id=e,t.textContent=`
        @keyframes ${u} {
          0% { background-position: 100% center; }
          ${m}% { background-position: 0% center; }
          100% { background-position: 0% center; }
        }
      `,document.head.appendChild(t),()=>{let t=document.getElementById(e);t&&t.remove()}}},[m,u]),(0,t.jsx)(s,{className:(0,r.cn)("relative inline-block bg-[length:250%_100%,auto] bg-clip-text","text-transparent [--base-color:#a1a1aa] [--base-gradient-color:#000]","[background-repeat:no-repeat,padding-box] [--bg:linear-gradient(90deg,#0000_calc(50%-var(--spread)),var(--base-gradient-color),#0000_calc(50%+var(--spread)))]","dark:[--base-color:#71717a] dark:[--base-gradient-color:#ffffff] dark:[--bg:linear-gradient(90deg,#0000_calc(50%-var(--spread)),var(--base-gradient-color),#0000_calc(50%+var(--spread)))]",i),style:{"--spread":`${c}px`,backgroundImage:"var(--bg), linear-gradient(var(--base-color), var(--base-color))",animation:`${u} ${d}s ease-out infinite`},children:e})});e.s(["TextShimmer",0,s])},187378,63727,e=>{"use strict";var t=e.i(475254);let a=(0,t.default)("banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);e.s(["Banknote",()=>a],187378);let r=(0,t.default)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);e.s(["Briefcase",()=>r],63727)},637847,e=>{"use strict";var t=e.i(843476),a=e.i(271645),r=e.i(912598),s=e.i(975558),i=e.i(217923),n=e.i(294918),o=e.i(852008),l=e.i(341240),c=e.i(270756),u=e.i(618566),d=e.i(604570),m=e.i(846696),p=e.i(560730),f=e.i(796610),h=e.i(300549),g=e.i(167881),x=e.i(630374),y=e.i(728231),w=e.i(367944),b=e.i(620949);function v({agent:e,open:v,onOpenChange:j}){let k=(0,u.useRouter)(),N=(0,r.useQueryClient)(),_=(0,b.useUpdateUserPreferences)(),A=(0,p.useCreateCustomAgentFromTemplate)(),{data:S}=(0,p.useGetCustomAgents)(),{setToolPreferences:C}=(0,w.useChatContext)(),{data:$}=(0,f.useCurrentTeam)(),[T,E]=a.default.useState(!1),[P,I]=a.default.useState(!1),[M,O]=a.default.useState(!1),F="/pricing",B=()=>{O(!0),setTimeout(()=>{O(!1)},3e3)},z="Enterprise Feature, talk to sales",D=!$?.details?.feature_flags?.includes("ENTERPRISE_CUSTOM_AGENTS"),L=async t=>{await _.mutateAsync({custom_agent_id:t}),C(e=>({...e,custom_agent_id:t})),m.toast.success(`Agent "${e?.name}" is now active`)},q=(e,t)=>{let a=t||S?.agents;if(!a)return null;let r=JSON.stringify(e||{});return a.find(e=>JSON.stringify(e.config||{})===r)||null},R=async()=>{if(e?.public_id){E(!0);try{await N.refetchQueries({queryKey:["custom-agents"]});let t=N.getQueryData(["custom-agents"]),a=t?.agents||S?.agents,r=q(e.config,a);if(r){await L(r.id),d.default.capture("custom_agents:template_activated",{agent_id:e.public_id,template_name:e.name,source:"new_chat_template_modal",agent_type:"template",duplicate_prevented:!0}),j(!1),k.push("/chat",void 0);return}let s=(await A.mutateAsync({publicAgentId:e.public_id})).agent.id;d.default.capture("custom_agents:agent_created",{agent_id:e.public_id,template_name:e.name,source:"new_chat_template_modal",agent_type:"template"}),await Promise.all([N.invalidateQueries({queryKey:["customAgents"]}),N.invalidateQueries({queryKey:["custom-agents"]})]),await L(s),d.default.capture("custom_agents:template_activated",{agent_id:e.public_id,template_name:e.name,source:"new_chat_template_modal",agent_type:"template"}),j(!1),k.push("/chat",void 0)}catch(e){m.toast.error("Failed to create agent from template. Please try again or contact support.")}finally{E(!1)}}},U=async()=>{if(e?.public_id){if(O(!1),D){d.default.capture("custom_agents:upgrade_clicked",{source:"new_chat_template_modal"}),j(!1),k.push("/settings/subscription");return}I(!0);try{await N.refetchQueries({queryKey:["custom-agents"]});let t=N.getQueryData(["custom-agents"]),a=t?.agents||S?.agents,r=q(e.config,a);if(r){d.default.capture("custom_agents:customize_clicked",{agent_id:e.public_id,template_name:e.name,source:"new_chat_template_modal",duplicate_prevented:!0}),j(!1),k.push(`/custom-agents/${r.id}`);return}let s=(await A.mutateAsync({publicAgentId:e.public_id})).agent.id;d.default.capture("custom_agents:agent_created",{agent_id:e.public_id,template_name:e.name,source:"new_chat_template_modal",agent_type:"customized_template"}),await Promise.all([N.invalidateQueries({queryKey:["customAgents"]}),N.invalidateQueries({queryKey:["custom-agents"]})]),j(!1),k.push(`/custom-agents/${s}`)}catch(e){m.toast.error("Failed to create agent from template. Please try again or contact support.")}finally{I(!1)}}};if(!e)return null;let W=e.config||{},G=W.description||"",Q=W.instructions||"",K=void 0!==W.behavior?W.behavior:1,J=W.outputFormat||"all",H=a.default.memo(a.default.forwardRef(({onClick:e,disabled:a,showTooltip:r,isCustomizing:i},n)=>(0,t.jsxs)(g.Button,{ref:n,variant:"primary-light",onClick:t=>{t.stopPropagation(),e()},disabled:a,size:"xs",className:"flex items-center gap-1.5 relative z-10",children:[(0,t.jsx)(s.ArrowUp,{className:"w-3.5 h-3.5"}),r&&!i?(0,t.jsx)(h.TextShimmer,{duration:.5,repeatDelay:10,className:"[--base-color:hsl(var(--primary))] [--base-gradient-color:hsl(var(--background))] dark:[--base-color:hsl(var(--primary))] dark:[--base-gradient-color:hsl(var(--background))] [animation-timing-function:ease-in-out]",as:"span",children:"Upgrade to customize"}):(0,t.jsx)("span",{children:i?"Creating...":"Upgrade to customize"})]})));H.displayName="UpgradeButton";let V=a.default.memo(a.default.forwardRef(({onClick:e,disabled:a,showTooltip:r,isCustomizing:s},i)=>(0,t.jsx)(g.Button,{ref:i,variant:"outline",onClick:t=>{t.stopPropagation(),e()},disabled:a,size:"xs",className:"flex items-center gap-1.5 bg-background relative z-10",children:r&&!s?(0,t.jsx)(h.TextShimmer,{duration:.5,repeatDelay:10,className:"[--base-color:var(--foreground)] [--base-gradient-color:hsl(var(--background))] dark:[--base-color:var(--foreground)] dark:[--base-gradient-color:hsl(var(--background))] [animation-timing-function:ease-in-out]",as:"span",children:"Customize"}):(0,t.jsx)("span",{children:s?"Creating...":"Customize"})})));return V.displayName="CustomizeButton",(0,t.jsx)(x.Dialog,{open:v,onOpenChange:j,children:(0,t.jsx)(x.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto p-0 gap-0",showCloseButton:!1,onOpenAutoFocus:e=>{e.preventDefault()},children:(0,t.jsx)("div",{className:"bg-background dark:bg-message",children:(0,t.jsxs)("div",{className:"bg-primary/5",children:[(0,t.jsxs)(x.DialogHeader,{className:"px-6 pt-6 pb-4 gap-0",children:[(0,t.jsx)(x.DialogTitle,{className:"text-2xl",children:e.name}),G&&(0,t.jsx)("p",{className:"text-base text-muted-foreground !mt-0.5",children:G})]}),D?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 px-6 text-center",children:[(0,t.jsx)("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:(0,t.jsx)(c.Lock,{className:"h-6 w-6 text-primary"})}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Enterprise Feature"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-6 max-w-sm",children:"Customizing agents is available on the Enterprise plan."}),(0,t.jsxs)(g.Button,{variant:"primary-light",className:"gap-1.5",onClick:t=>{t.stopPropagation(),e&&(d.default.capture("custom_agents:paywall_clicked",{source:"new_chat_template_modal",action:"view_template_editor",template_name:e.name,agent_id:e.public_id}),k.push(F))},children:[(0,t.jsx)(s.ArrowUp,{className:"w-3.5 h-3.5"}),(0,t.jsx)("span",{children:z})]})]}):(0,t.jsxs)("div",{className:"px-6",onClick:B,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold",children:"Profile"}),(0,t.jsx)(y.TooltipProvider,{children:(0,t.jsxs)(y.Tooltip,{open:M,onOpenChange:O,children:[(0,t.jsx)(y.TooltipTrigger,{asChild:!0,children:(0,t.jsx)("div",{className:"relative inline-flex rounded-lg",children:D?(0,t.jsxs)(g.Button,{variant:"primary-light",onClick:t=>{t.stopPropagation(),e&&(d.default.capture("custom_agents:paywall_clicked",{source:"new_chat_template_modal",action:"customize_template",template_name:e.name,agent_id:e.public_id}),j(!1),k.push(F))},disabled:P||T,size:"xs",className:"flex items-center gap-1.5 relative z-10",children:[(0,t.jsx)(s.ArrowUp,{className:"w-3.5 h-3.5"}),(0,t.jsx)("span",{children:z})]}):D?(0,t.jsx)(H,{onClick:U,disabled:P||T,showTooltip:M,isCustomizing:P}):(0,t.jsx)(V,{onClick:U,disabled:P||T,showTooltip:M,isCustomizing:P})})}),(0,t.jsx)(y.TooltipContent,{side:"bottom",children:(0,t.jsx)("p",{children:D?z:"Customize in agent builder"})})]})})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsxs)("div",{className:"flex flex-row gap-6",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("label",{className:"block font-medium mb-2 select-none",children:["Behavior:"," ",(0,t.jsx)("span",{className:"text-primary font-semibold",children:(e=>{switch(e){case 0:return"Short Responses";case 1:default:return"Standard Responses";case 2:return"Detailed Responses"}})(K)})]}),(0,t.jsxs)("div",{className:"relative pt-1 max-w-md",children:[(0,t.jsx)("style",{dangerouslySetInnerHTML:{__html:`
                          .slider::-webkit-slider-thumb {
                            appearance: none;
                            width: 16px;
                            height: 16px;
                            border-radius: 50%;
                            background: hsl(var(--primary));
                            cursor: default;
                            pointer-events: none;
                          }
                          .slider::-moz-range-thumb {
                            width: 16px;
                            height: 16px;
                            border-radius: 50%;
                            background: hsl(var(--primary));
                            cursor: default;
                            pointer-events: none;
                            border: none;
                          }
                        `}}),(0,t.jsx)("input",{type:"range",min:"0",max:"2",step:"1",value:K,readOnly:!0,disabled:!0,tabIndex:-1,onFocus:e=>e.target.blur(),className:"w-full h-2 bg-background rounded-lg appearance-none cursor-default slider pointer-events-none border border-border/50",style:{background:`linear-gradient(to right, hsl(var(--primary)) 0%, hsl(var(--primary)) ${50*K}%, hsl(var(--background)) ${50*K}%, hsl(var(--background)) 100%)`}}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground mt-2 select-none",children:[(0,t.jsx)("span",{className:0===K?"text-foreground font-medium":"",children:"Short"}),(0,t.jsx)("span",{className:1===K?"text-foreground font-medium":"",children:"Default"}),(0,t.jsx)("span",{className:2===K?"text-foreground font-medium":"",children:"Detailed"})]})]})]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("label",{className:"block font-medium mb-1.5 select-none",children:"Output Format"}),(0,t.jsxs)("div",{className:"relative",onClick:B,onMouseDown:B,children:[(0,t.jsxs)("select",{value:J,disabled:!0,tabIndex:-1,onFocus:e=>e.target.blur(),onClick:B,onMouseDown:B,className:"w-full px-3 py-1.5 text-sm pl-10 border border-border rounded-md bg-background/70 text-foreground appearance-none cursor-default pr-10 opacity-70",children:[(0,t.jsx)("option",{value:"visualizations-first",children:"Visualizations-first"}),(0,t.jsx)("option",{value:"files-dataframes-first",children:"Files and dataframes-first"}),(0,t.jsx)("option",{value:"all",children:"All (default)"}),(0,t.jsx)("option",{value:"insights-first",children:"Insights-first"})]}),(0,t.jsx)("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center px-3 text-muted-foreground",children:(e=>{switch(e){case"visualizations-first":return(0,t.jsx)(i.BarChart3,{className:"w-4 h-4"});case"files-dataframes-first":return(0,t.jsx)(n.FileSpreadsheet,{className:"w-4 h-4"});case"all":default:return(0,t.jsx)(o.Layers,{className:"w-4 h-4"});case"insights-first":return(0,t.jsx)(l.Lightbulb,{className:"w-4 h-4"})}})(J)}),(0,t.jsx)("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-muted-foreground",children:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block font-medium mb-1.5 select-none",children:"Instructions "}),(0,t.jsx)("textarea",{value:Q,readOnly:!0,tabIndex:-1,onFocus:e=>e.target.blur(),className:"w-full h-48 px-3 pt-2 border border-border rounded-md bg-background/70 text-foreground resize-none cursor-default select-none",style:{lineHeight:"1.5",display:"block"},placeholder:"Example: Always start by asking clarifying questions about the data. Focus on actionable insights for marketing campaigns."})]})]})]}),(0,t.jsxs)(x.DialogFooter,{className:"px-6 pb-6 pt-3 flex-col sm:flex-row gap-2 sm:gap-0",children:[(0,t.jsx)(g.Button,{variant:"outline",onClick:e=>{e.stopPropagation(),j(!1)},disabled:T,className:"w-full sm:w-auto",children:"Cancel"}),(0,t.jsx)(g.Button,{onClick:e=>{e.stopPropagation(),R()},disabled:T,className:"w-full sm:w-auto",children:T?"Activating...":"Activate in Chat"})]})]})})})})}var j=e.i(647163);e.s(["TemplateAgentCard",0,({agent:e,variant:r="compact"})=>{let[s,i]=(0,a.useState)(!1),n="standard"===r;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{onClick:e=>{e?.stopPropagation(),i(!0)},className:(0,j.cn)("group interactive flex flex-col gap-1 border border-stroke rounded-lg px-4 py-3 cursor-pointer bg-surface-1",n&&"shadow-subtle"),children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsx)(y.TooltipProvider,{children:(0,t.jsxs)(y.Tooltip,{children:[(0,t.jsx)(y.TooltipTrigger,{asChild:!0,children:(0,t.jsx)("h3",{className:(0,j.cn)("font-semibold line-clamp-1 truncate flex-1 min-w-0 text-label-primary",n?"text-base":"text-sm"),children:e.name})}),(0,t.jsx)(y.TooltipContent,{children:(0,t.jsx)("p",{children:e.name})})]})})}),e.config?.description&&(0,t.jsx)(y.TooltipProvider,{children:(0,t.jsxs)(y.Tooltip,{children:[(0,t.jsx)(y.TooltipTrigger,{asChild:!0,children:(0,t.jsx)("p",{className:(0,j.cn)("text-label-secondary line-clamp-2",n?"text-sm":"text-xs"),children:e.config.description})}),(0,t.jsx)(y.TooltipContent,{className:"max-w-xs",children:(0,t.jsx)("p",{children:e.config.description})})]})})]}),(0,t.jsx)(v,{agent:e,open:s,onOpenChange:i})]})}],637847)},644985,e=>{e.v(e=>Promise.resolve().then(()=>e(604570)))},620966,e=>{e.v(t=>Promise.all(["static/chunks/6c94e808d46cf481.js"].map(t=>e.l(t))).then(()=>t(336797)))},734408,e=>{e.v(t=>Promise.all(["static/chunks/6feb09f6d950c6a5.js"].map(t=>e.l(t))).then(()=>t(478735)))},504066,e=>{e.v(t=>Promise.all(["static/chunks/07a9d830e1acacee.js"].map(t=>e.l(t))).then(()=>t(536046)))},506879,e=>{e.v(t=>Promise.all(["static/chunks/deb1559062446bcd.js"].map(t=>e.l(t))).then(()=>t(109585)))},789453,e=>{e.v(t=>Promise.all(["static/chunks/91517b2ef48b5ce2.js"].map(t=>e.l(t))).then(()=>t(427162)))},716266,e=>{e.v(t=>Promise.all(["static/chunks/6763ce39511b19be.js"].map(t=>e.l(t))).then(()=>t(619094)))},563169,e=>{e.v(t=>Promise.all(["static/chunks/4ac0f6c93fd02622.js"].map(t=>e.l(t))).then(()=>t(120594)))},700328,e=>{e.v(t=>Promise.all(["static/chunks/13c65d42d3baae09.js","static/chunks/d2262e9bfb1b72ed.js","static/chunks/5b7ceeed8427eb35.js"].map(t=>e.l(t))).then(()=>t(797389)))}]);

//# debugId=56e676c8-1190-9391-d746-d76c40a6d5cd
//# sourceMappingURL=2be67f9faeb737c5.js.map