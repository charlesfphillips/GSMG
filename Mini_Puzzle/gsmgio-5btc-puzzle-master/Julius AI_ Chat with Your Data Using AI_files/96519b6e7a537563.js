;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="43682cf6-90ba-4beb-4690-c57335bbf013")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,778917,e=>{"use strict";let t=(0,e.i(475254).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);e.s(["ExternalLink",()=>t],778917)},38068,e=>{"use strict";var t,a=e.i(394073),i=e.i(647163),r=((t={}).Onboarding="onboarding",t);let n=async({accessToken:e})=>{let t=await (0,i.customFetch)(`${a.PAYMENTS_BASE_API}/login_link`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});return await t.json()},o=async({accessToken:e})=>{let t=await n({accessToken:e});window.open(t?.login_link,"_blank")},s=async({product:e,billing:t,action:r,pauseDuration:n=null,accessToken:o})=>{let s=await (0,i.customFetch)(`${a.PAYMENTS_BASE_API}/modify_subscription`,{method:"POST",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"},body:JSON.stringify({product:e,billing:t,action:r,pauseDuration:n,version:"20240211"})});return await s.json()},l=async({product:e,billing:t,code:r,version:n=null,accessToken:o,source:s})=>{let l=new URLSearchParams({product:e,billing:t,code:r,version:n});s&&l.set("source",s);let d=await (0,i.customFetch)(`${a.PAYMENTS_BASE_API}/checkout_session_id?${l.toString()}`,{headers:{Authorization:`Bearer ${o}`}});if(!d.ok)throw Error("Failed to get checkout id");return await d.json()},d=async({isEducator:e,teamId:t,numSeats:r,numMonths:n,currency:o,accessToken:s})=>{let l=new URLSearchParams({team_id:t,num_seats:r.toString(),num_months:n.toString(),is_educator:e.toString(),currency:o}),d=await (0,i.customFetch)(`${a.PAYMENTS_BASE_API}/upfront_payment_checkout_session_id?${l.toString()}`,{headers:{Authorization:`Bearer ${s}`}});if(!d.ok)throw Error("Failed to get checkout id");return await d.json()},c=async({accessToken:e,teamId:t,numSeats:r,numMonths:n,isEducator:o,currency:s})=>{let l=await (0,i.customFetch)(`${a.PAYMENTS_BASE_API}/invoice`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({team_id:t,num_seats:r,num_months:n,is_educator:o,currency:s})});if(!l.ok)throw Error("Failed to create invoice");return await l.json()},u=async({accessToken:e,customerInfo:t})=>{let r=await (0,i.customFetch)(`${a.PAYMENTS_BASE_API}/customer`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw Error(`Failed to update customer info, error: ${n?.error}`);return n},h=async({accessToken:e,customerId:t})=>{let r=await (0,i.customFetch)(`${a.PAYMENTS_BASE_API}/customer/${t}`,{headers:{Authorization:`Bearer ${e}`}});if(!r.ok)throw Error("Failed to get stripe customer");return await r.json()},m=async({accessToken:e,product:t,billing:r})=>{let n=await (0,i.customFetch)(`${a.PAYMENTS_BASE_API}/preview-upgrade`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({product:t,billing:r})});if(!n.ok)throw Error("Failed to get upgrade preview");return await n.json()},g=async({accessToken:e,billing:t})=>{let r=await (0,i.customFetch)(`${a.PAYMENTS_BASE_API}/preview-team-billing-change`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({billing:t})});if(!r.ok)throw Error("Failed to get team billing preview");return await r.json()},p=async({accessToken:e,billing:t})=>{let r=await (0,i.customFetch)(`${a.PAYMENTS_BASE_API}/modify_subscription`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({product:"teams",billing:t,action:"change_billing"})});if(!r.ok){let e=await r.json();throw Error(e?.error||"Failed to change team billing")}return await r.json()};e.s(["CheckoutSource",()=>r,"changeTeamBilling",()=>p,"createInvoice",()=>c,"getCheckoutSessionId",()=>l,"getManageSubscription",()=>s,"getPreviewTeamBillingChange",()=>g,"getPreviewUpgrade",()=>m,"getStripeCustomer",()=>h,"getUpfrontPaymentCheckoutSessionId",()=>d,"openStripeCustomerPortal",()=>o,"putCustomerInfo",()=>u])},874204,e=>{"use strict";var t=e.i(843476),a=e.i(271645),i=e.i(52563),r=e.i(38068);let n=(0,a.createContext)(void 0);e.s(["PaymentAPIProvider",0,({children:e})=>{let{getAccessTokenSilently:o}=(0,i.useAuth0)(),[s,l]=(0,a.useState)(!1),[d,c]=(0,a.useState)(!1),[u,h]=(0,a.useState)(!1),[m,g]=(0,a.useState)(!1),[p,_]=(0,a.useState)(!1),[S,A]=(0,a.useState)(!1),[w,f]=(0,a.useState)(null),[b,y]=(0,a.useState)(!1),[v,x]=(0,a.useState)(null),P=async(e,t)=>{try{y(!0),x(null);let a=await o(),i=await (0,r.getPreviewUpgrade)({accessToken:a,product:e,billing:t});f(i)}catch(e){console.error("Failed to fetch upgrade preview:",e),x(e)}finally{y(!1)}};return(0,t.jsx)(n.Provider,{value:{cancelPlanDialogOpen:s,setCancelPlanDialogOpen:l,cancelPlanFeedbackDialogOpen:d,setCancelPlanFeedbackDialogOpen:c,cancelPlanOfferDialogOpen:u,setCancelPlanOfferDialogOpen:h,managePlanDialogOpen:m,setManagePlanDialogOpen:g,offerAcceptedDialogOpen:p,setOfferAcceptedDialogOpen:_,confirmationModalOpen:S,setConfirmationModalOpen:A,previewUpgradeData:w,isLoadingPreview:b,previewUpgradeError:v,fetchPreviewUpgrade:P},children:e})},"usePaymentAPI",0,()=>(0,a.useContext)(n)])},730147,e=>{"use strict";var t=e.i(843476),a=e.i(271645),i=e.i(52563),r=e.i(647163);let n="https://api.julius.ai",o=(0,a.createContext)();e.s(["ReferAPIProvider",0,({children:e})=>{let{getAccessTokenSilently:a}=(0,i.useAuth0)(),s=async()=>{let e=await a(),t=await (0,r.customFetch)(`${n}/api/invites`,{headers:{Authorization:`Bearer ${e}`}});return await t.json()},l=async()=>{let e=await a(),t=await (0,r.customFetch)(`${n}/api/invite_code`,{headers:{Authorization:`Bearer ${e}`}});return await t.json()},d=async(e,t,i)=>{let o=await a(),s=await (0,r.customFetch)(`${n}/api/email_invite`,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"},method:"POST",body:JSON.stringify({email:e,invite_link:t,sender_name:i})});return await s.json()};return(0,t.jsx)(o.Provider,{value:{getInvites:s,getOrCreateInviteCode:l,emailInvite:d},children:e})},"useReferAPI",0,()=>(0,a.useContext)(o)])},858205,e=>{"use strict";var t=e.i(843476),a=e.i(271645),i=e.i(115057),r=e.i(522016),n=e.i(618566),o=e.i(604570),s=e.i(874204),l=e.i(730147),d=e.i(796610),c=e.i(52563),u=e.i(778917),h=e.i(167881),m=e.i(38068);let g=()=>{let{getAccessTokenSilently:e}=(0,c.useAuth0)();return(0,t.jsx)("div",{className:"flex-row items-center gap-x-4 hover:underline group flex ml-auto","data-event":"subscription_invoice","data-cy":"settings-invoices-payments-button",children:(0,t.jsxs)(h.Button,{variant:"ghost",onClick:async()=>{let t=await e();(0,m.openStripeCustomerPortal)({accessToken:t})},"data-event":"subscription_invoice",className:"text-xs sm:text-sm hover:bg-transparent",children:["Invoices & Payment Methods",(0,t.jsx)(u.ExternalLink,{className:"ml-2 w-4 h-4 group-hover:underline"})]})})};var p=e.i(728231),_=e.i(394073),S=e.i(620949),A=e.i(647163);function w({children:e}){let{data:s}=(0,d.useCurrentTeam)(),{data:l}=(0,d.useTeams)(),{data:c}=(0,S.useUserInformation)(),{data:u}=(0,d.useTeam)(s?.details?.id),{data:m}=(0,S.useUserSubscription)(),w=(0,n.usePathname)(),f=s?.details?.team_owner_auth_id==c?.id,b=l?.filter(e=>e.team_owner_auth_id===c?.id)[0]?.id,y=!!(l&&Array.isArray(l))&&!!l.length&&l.some(e=>e.team_owner_auth_id===c?.id&&u?.details?.checkout_metadata?.status==="paid"),v=m?.provider==="stripe"&&m?.subscription_association==="user_sub"&&!s?.details?.id,x=(0,a.useMemo)(()=>[{id:"subscription",label:"Subscription",condition:()=>!_.FEATURE_FLAGS.IS_HBS,featureFlagged:!!_.FEATURE_FLAGS.IS_HBS,to:()=>"/settings/subscription"},{id:"account",label:"Account",condition:()=>!_.FEATURE_FLAGS.IS_HBS,featureFlagged:!!_.FEATURE_FLAGS.IS_HBS,to:()=>"/settings/account"},{id:"teams",label:"Teams",to:()=>"/settings/teams",condition:()=>!_.FEATURE_FLAGS.IS_HBS&&!b,featureFlagged:!!_.FEATURE_FLAGS.IS_HBS},{id:"org_administration",label:"Org Admin",condition:()=>!!_.FEATURE_FLAGS.ORG_ADMIN,featureFlagged:!_.FEATURE_FLAGS.ORG_ADMIN,to:()=>"/settings/org_administration"}],[s?.details?.id,b,y]),P=window.navigator.userAgent.startsWith("WV "),j=(0,a.useMemo)(()=>x.filter(e=>!e.featureFlagged&&e.condition()),[x]);return(0,t.jsxs)("div",{className:"grid grid-cols-1 grid-rows-[min-content_min-content_min-content_1fr] lg:grid-rows-[min-content_min-content_1fr] auto-rows-min w-full h-dvh overflow-y-auto bg-background rounded-none",children:[(0,t.jsx)("div",{className:"flex items-center gap-2 px-6 pt-4 pb-2 bg-background",children:(0,t.jsx)("h1",{className:"text-left text-lg font-sans",children:"Settings"})}),(0,t.jsx)("div",{className:"flex relative w-full border-b-0 p-0 lg:pt-0 bg-background",children:(0,t.jsxs)("div",{className:"flex gap-6 overflow-y-hidden max-w-full justify-start w-full pl-6 border-b border-input",children:[j.map(e=>"subscription"===e.id&&s&&s?.details!=null&&!f?(0,t.jsxs)(p.Tooltip,{children:[(0,t.jsx)(p.TooltipTrigger,{className:"cursor-not-allowed",children:(0,t.jsx)(h.Button,{size:"sm",className:"flex items-center rounded-lg gap-2 border border-transparent cursor-not-allowed pointer-events-none",variant:"ghost",disabled:!0,children:(0,t.jsx)("span",{children:e.label})})}),(0,t.jsx)(p.TooltipContent,{className:"max-w-[200px]",children:"Deactivate your current team to manage your personal subscription."})]},e.id):(0,t.jsx)(h.Button,{"data-cy":`settings-${e.id}-tab-button`,onClick:()=>{o.default.capture(`settings_${e.id}_clicked`)},size:"sm",className:(0,A.cn)("flex items-center rounded-none gap-2 border-0 relative py-3 mb-0 font-medium px-0 hover:bg-transparent h-auto",w===e.to()?"after:absolute after:bottom-0 after:left-0 after:right-0 after:h-[2px] after:bg-primary text-foreground":"text-muted-foreground hover:text-foreground"),variant:"ghost",asChild:!0,children:(0,t.jsxs)(r.default,{href:e.to(),"data-intercom-target":`settings-${e?.label}`,children:[(0,t.jsx)("span",{children:e.label}),"data_connectors"===e.id&&(0,t.jsx)("div",{className:"flex items-center gap-2 bg-message border border-border rounded-full px-1.5 py-0 text-2xs",children:(0,t.jsx)("span",{children:"Beta"})}),!b&&"team"==e.id&&(0,t.jsx)(i.ArrowUpRight,{className:"w-4 h-4"})]})},e.id)),v&&(0,t.jsx)(g,{})]})}),"/settings/subscription"==w&&P?null:e]})}function f({children:e}){return(0,t.jsx)(s.PaymentAPIProvider,{children:(0,t.jsx)(l.ReferAPIProvider,{children:(0,t.jsx)(w,{children:e})})})}e.s(["default",()=>f],858205)}]);

//# debugId=43682cf6-90ba-4beb-4690-c57335bbf013
//# sourceMappingURL=1012c6e067254734.js.map