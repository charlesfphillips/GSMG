;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="7369866f-0939-a15b-3b6a-ddfba8f69381")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75510,e=>{"use strict";function t(){return"undefined"==typeof document?[]:document.cookie.split(";").map(e=>e.trim()).filter(Boolean).map(e=>{let[t,...a]=e.split("=");return{name:decodeURIComponent(t),value:decodeURIComponent(a.join("="))}})}function a(e){if("undefined"==typeof document)return;let t=document.cookie.split(";").map(e=>e.trim()).filter(Boolean).find(t=>{let[a]=t.split("=");return decodeURIComponent(a)===e});if(!t)return;let[,...a]=t.split("=");return decodeURIComponent(a.join("="))}e.s(["useGetAllCookiesOnClient",()=>t,"useGetCookieOnClient",()=>a])},601655,e=>{"use strict";var t=e.i(394073),a=e.i(647163);let r=async({accessToken:e,teamId:r,groupId:o,type:n})=>{let i=`${t.BASE_API}/workflows`,s=new URLSearchParams;r&&s.append("team_id",r),o&&s.append("group_id",o),"shared"===n?(s.append("type","shared"),s.append("is_shared","true")):n&&s.append("type",n),i=`${i}?${s.toString()}`;let c=await (0,a.customFetch)(i,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!c.ok)throw await c.json();return await c.json()},o=async({defaultSteps:e,name:r,teamId:o,groupId:n,accessToken:i,type:s})=>{let c=await (0,a.customFetch)(`${t.BASE_API}/workflows`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},body:JSON.stringify({name:r,default_steps:e,team_id:o,group_id:n,type:s})});if(!c.ok)throw await c.json();return await c.json()},n=async({workflowId:e,accessToken:r})=>{let o=await (0,a.customFetch)(`${t.BASE_API}/workflows/${e}/conversations`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!o.ok)throw await o.json();return o.json()},i=async({workflowId:e,workflowPlan:r,accessToken:o,conversationId:n})=>{let i,s;i=n?`${t.BASE_API}/api/shakuni/conversations/${n}/plan/${e}`:`${t.BASE_API}/workflows/${e}`,s=JSON.stringify({plan:r});let c=await (0,a.customFetch)(i,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:s});if(!c.ok)throw await c.json();return c.json()},s=async({stepId:e,workflowConversationId:r,accessToken:o})=>{let n=await (0,a.customFetch)(`${t.BASE_API}/api/chat/conversations/${r}/steps/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`}});if(!n.ok)throw await n.json();return n.json()},c=async(e,r)=>{let o={"Content-Type":"application/json"};r&&(o.Authorization=`Bearer ${r}`);let n=await (0,a.customFetch)(`${t.BASE_API}/workflows/${e}`,{headers:o});if(!n.ok)throw await n.json();return await n.json()},u=async(e,r)=>(await (0,a.customFetch)(`${t.BASE_API}/workflows/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}})).json(),l=async(e,r)=>{let o=await (0,a.customFetch)(`${t.BASE_API}/api/shakuni/workflow/${e}/comments`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});return await o.json()},h=async({id:e})=>{let r=await (0,a.customFetch)(`${t.BASE_API}/api/shakuni/workflows/${e}/similar`,{headers:{"Content-Type":"application/json"}});return await r.json()},d=async({filter:e,currentPage:r,size:o,currentTags:n,category:i,requireCategory:s,signal:c})=>{let u=await (0,a.customFetch)(`${t.BASE_API}/api/shakuni/public_workflows`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filter:e,page:r,pageSize:o,tags:n,category:i,requireCategory:s}),signal:c});return await u.json()},p=async(e,r,o)=>{let n=await (0,a.customFetch)(`${t.BASE_API}/api/shakuni/workflows/${r}/image`,{method:"POST",headers:{Authorization:`Bearer ${o}`},body:e});if(!n.ok)throw Error((await n.json()).message||"Image upload failed");return await n.json()},w=async(e,r)=>{let o=await (0,a.customFetch)(`${t.BASE_API}/workflows/${e}/reports`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!o.ok)throw await o.json();return await o.json()},y=async(e,r,o)=>{let n=await (0,a.customFetch)(`${t.BASE_API}/workflows/${e}/reports/${r}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`}});if(!n.ok)throw await n.json();return await n.json()},m=async(e,r,o)=>{let n=await (0,a.customFetch)(`${t.BASE_API}/notebooks/generate_report/${e}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({instructions:r})});if(!n.ok)throw await n.json();return await n.json()},_=async(e,r,o)=>{let n=await (0,a.customFetch)(`${t.BASE_API}/workflows/${e}/reports/${r}`,{method:"DELETE",headers:{Authorization:`Bearer ${o}`}});if(!n.ok)throw await n.json();return await n.json()},A=async(e,r,o)=>{let n=await (0,a.customFetch)(`${t.BASE_API}/workflows/${e}/request_access`,{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:o?JSON.stringify({message:o}):void 0});if(!n.ok)throw await n.json();return await n.json()},f=async(e,r,o)=>{let n=new URLSearchParams;r&&n.append("team_id",r),o&&n.append("group_id",o);let i=await (0,a.customFetch)(`${t.BASE_API}/crons/list?${n.toString()}`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},method:"GET"});if(!i.ok)throw await i.json();return await i.json()},E=async(e,r)=>{let o=await (0,a.customFetch)(`${t.BASE_API}/crons/add`,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)});if(!o.ok)throw await o.json();return await o.json()},g=async(e,r)=>{let o=await (0,a.customFetch)(`${t.BASE_API}/crons/edit/${e.cron_id}`,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},method:"PUT",body:JSON.stringify(e)});if(!o.ok)throw await o.json();return await o.json()},S=async(e,r)=>{let o=await (0,a.customFetch)(`${t.BASE_API}/crons/${e}`,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},method:"DELETE"});if(!o.ok)throw await o.json()},$=async(e,r)=>{let o=await (0,a.customFetch)(`${t.BASE_API}/crons/optimize_report_prompt`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({report_prompt:e})});return await o.json()},T=async(e,r)=>{let o=await (0,a.customFetch)(`${t.BASE_API}/api/shakuni/conversations/${e}/export_workflow`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!o.ok)throw await o.json();return(await o.json()).plan_id},j=async(e,r,o)=>{let n=await (0,a.customFetch)(`${t.BASE_API}/api/shakuni/conversations/${e}/messages/${r}/convert_to_cron`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`}});if(!n.ok)throw await n.json();let i=await n.json();if(!i.plan_id)throw Error("missing plan_id");return i.plan_id},P=async({groupId:e,teamId:r,name:o,config:n,workflowIds:i,accessToken:s})=>{let c=await (0,a.customFetch)(`${t.BASE_API}/workflows/benchmarks`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({group_id:e,team_id:r,name:o,config:n,workflow_ids:i})});if(!c.ok)throw await c.json();return c.json()},B=async(e,r)=>{let o=await (0,a.customFetch)(`${t.BASE_API}/workflows/benchmarks/${e}`,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(!o.ok)throw await o.json();return o.json()},v=async(e,r,o=20,n=0)=>{let i=new URLSearchParams({limit:String(o),offset:String(n)}),s=await (0,a.customFetch)(`${t.BASE_API}/workflows/benchmarks/group/${e}?${i}`,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(!s.ok)throw await s.json();return s.json()},O=async(e,r)=>{let o=await (0,a.customFetch)(`${t.BASE_API}/workflows/benchmarks/${e}/cancel`,{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(!o.ok)throw await o.json();return o.json()},b=async({workflowIds:e,teamId:r,groupId:o,executionsPerTemplate:n=1,name:i,accessToken:s})=>{let c=await (0,a.customFetch)(`${t.SOCKET_URL}/kepler/api/notebooks/execute_benchmark`,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify({workflow_ids:e,team_id:r,group_id:o,executions_per_template:n,name:i})});if(!c.ok){let e=await c.json();throw Error(e?.detail||"Failed to execute benchmark")}return c.json()};e.s(["attachConversationToWorkflowAPI",0,n,"cancelBenchmarkRun",0,O,"convertConversationToNotebookWithSchedule",0,T,"convertMessageToCron",0,j,"createBenchmarkRun",0,P,"createWorkflow",0,o,"createWorkflowCron",0,E,"deleteMessagesWithPlanStepId",0,s,"deleteWorkflowAPI",0,u,"deleteWorkflowCron",0,S,"deleteWorkflowReport",0,_,"executeBenchmark",0,b,"generateWorkflowReport",0,m,"getBenchmarkRun",0,B,"getGroupBenchmarks",0,v,"getPublicWorkflows",0,d,"getSimilarWorkflowsToWorkflow",0,h,"getURLForWorkflowImage",0,p,"getWorkflow",0,c,"getWorkflowComments",0,l,"getWorkflowReport",0,y,"getWorkflowReports",0,w,"getWorkflows",0,r,"listWorkflowCrons",0,f,"optimizeReportPrompt",0,$,"requestWorkflowAccess",0,A,"updateWorkflowAPI",0,i,"updateWorkflowCron",0,g])},264082,e=>{"use strict";var t=e.i(843476),a=e.i(271645),r=e.i(52563),o=e.i(678631),n=e.i(647163);let i="https://api.julius.ai",s=(0,a.createContext)(void 0);e.s(["AuthenticatedAPIsProvider",0,({children:e})=>{let{getAccessTokenSilently:a}=(0,r.useAuth0)(),c=async({filename:e,...t})=>{let r=await a(),o=await (0,n.customFetch)(`${i}/api/cleaning/edit_remote_dataframe`,{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify({filename:e,...t})});return await o.json()},u=async e=>{let t=await a(),r=await (0,n.customFetch)(`${i}/api/shakuni/check_if_spreadsheet_public`,{method:"POST",body:JSON.stringify({url:e}),headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!r.ok)throw await r.json();return r.json()},l=async(e,t)=>{try{let r=`${i}/exports/${e}`;"xlsx"===t&&(r+="?mode=xlsx");let o=await a(),s=await (0,n.customFetch)(r,{method:"GET",headers:{Authorization:`Bearer ${o}`}});if(!s.ok)throw Error("Network response was not ok");let c=await s.blob(),u=URL.createObjectURL(c),l=document.createElement("a");l.style.display="none",l.href=u;let h=s.headers.get("content-disposition"),d=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(h);null!==d&&d[1]?l.download=d[1].replace(/['"]/g,""):"xlsx"===t?l.download="data.xlsx":l.download="data.csv",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(u)}catch(e){console.error("Error downloading the file:",e)}},h=async e=>{try{let t=`${i}/files/${e}`,r=await a(),s=await (0,n.customFetch)(t,{method:"GET",headers:{Authorization:`Bearer ${r}`}});if(!s.ok)throw Error("Network response was not ok");let c=(await s.json()).url;if((0,n.windowHasNative)())return void(0,n.sendToNative)({type:"DOWNLOAD_FILE",method:"signedUrl",fileName:e,url:c});(0,n.customFetch)(c).then(e=>e.blob()).then(t=>{(0,o.saveAs)(t,e)}).catch(e=>console.error("Error:",e))}catch(e){throw Error(e)}},d=async({filename:e=null,conversation_id:t=null,dataframe_json:r={}})=>{let o=await a(),s={};try{Object.keys(r).length>0&&(s.dataframe_json=r)}catch(e){console.error(e)}e&&(s.filename=e);let c={"Content-Type":"application/json",Authorization:`Bearer ${o}`};t&&(s["conversation-id"]=t);let u=await (0,n.customFetch)(`${i}/api/cleaning/validate_spreadsheet`,{method:"POST",headers:c,body:JSON.stringify(s)});return await u.json()},p=async({filename:e,selection:t={},currentSheet:r=null})=>{let o=await a(),s=await (0,n.customFetch)(`${i}/api/cleaning/commentary`,{method:"POST",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"},body:JSON.stringify({filename:e,selection:t,current_sheet:r})});return await s.json()},w=async({filename:e,currentSheet:t=null})=>{let r=await a(),o=await (0,n.customFetch)(`${i}/api/cleaning/summarize_dataframe_columns`,{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify({filename:e,current_sheet:t})}),s=await o.json();return s?.result},y=async({filename:e,selection:t={},currentSheet:r=null,metadata:o={}})=>{let s=await a();return(await (0,n.customFetch)(`${i}/api/cleaning/commentary`,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify({filename:e,selection:t,current_sheet:r,metadata:o,version:"20240607",stream:!0})})).body.getReader()},m=async({signal:e,...t})=>{let r=await a(),o={Authorization:`Bearer ${r}`,"Content-Type":"application/json"};t.conversationId&&(o["Conversation-Id"]=t.conversationId);let s=await (0,n.customFetch)(`${i}/api/plotting/interactive_plot`,{method:"POST",headers:o,body:JSON.stringify({...t}),signal:e});return await s.json()},_=async({column:e,dataframeJSON:t})=>{let r=await a(),o=await (0,n.customFetch)(`${i}/api/cleaning/yolo_dataframe_suggestions`,{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify({column:e,dataframe_json:t})});return await o.json()},A=async({dataframeJSON:e})=>{let t=await a(),r=await (0,n.customFetch)(`${i}/api/cleaning/get_suggested_questions`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({dataframe_json:e})});return await r.json()},f=async e=>{try{let t=await a(),r=await (0,n.customFetch)(`${i}/api/shakuni/conversations/${e}/export_workflow`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});if(!r.ok)throw await r.json();let o=await r.json();if(o.plan_id){let e=`/notebooks/${o.plan_id}`;window.open(e,"_blank")}return o}catch(e){console.error("Error converting to notebook",e)}},E=async()=>{try{let e=await a(),t=await (0,n.customFetch)(`${i}/api/administration/token`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});return await t.json()}catch(e){console.error("Error getting administration tokens",e)}},g=async e=>{try{let t=await a(),r=await (0,n.customFetch)(`${i}/api/administration/token`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(e)});return await r.json()}catch(e){console.error("Error creating administration token",e)}},S=async e=>{try{let t=await a(),r=await (0,n.customFetch)(`${i}/api/administration/token/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});return await r.json()}catch(e){console.error("Error deleting administration token",e)}},$=async e=>{try{let t=await (0,n.customFetch)(`${i}/api/administration/test_token`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});return await t.json()}catch(e){console.error("Error testing token",e)}},T=async(e,t)=>{try{let a=await (0,n.customFetch)(`${i}/api/administration/user_conversations/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});return await a.json()}catch(e){console.error("Error testing token",e)}},j=async({pageSize:e=100,pageIndex:t=0,filterEmail:r="",filterAuthId:o="",filterHasRole:s=!1})=>{let c=await a(),u=await (0,n.customFetch)(`${i}/api/administration/search_users`,{method:"POST",headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"},body:JSON.stringify({page_size:e,page_index:t,filter_email:r,filter_auth_id:o,filter_has_role:s})});return await u.json()},P=async({startIndex:e,windowSize:t,filter:r})=>{let o=await a(),s=await (0,n.customFetch)(`${i}/api/administration/audit_logs`,{method:"POST",headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"},body:JSON.stringify({start_index:e,window_size:t,filter:r})});return await s.json()},B=async({userId:e,role:t})=>{let r=await a(),o=await (0,n.customFetch)(`${i}/api/administration/change_role`,{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify({user_id:e,new_role:t})});return await o.json()},v=async(e,t)=>{try{let a=await (0,n.customFetch)(`${i}/api/administration/download_conversation/${t}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});return await a.json()}catch(e){console.error("Error testing token",e)}},O=async(e,t)=>{try{let a=await (0,n.customFetch)(`${i}/api/administration/administrative_sync`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(t)});return await a.json()}catch(e){console.error("Error testing token",e)}},b=async()=>{try{let e=await a(),t=await (0,n.customFetch)(`${i}/user/updates`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});return await t.json()}catch(e){console.error("Error getting notifications",e)}},I=async()=>{try{let e=await a(),t=await (0,n.customFetch)(`${i}/user/updates`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});return await t.json()}catch(e){console.error("Error updating notifications",e)}},C=async()=>{try{let e=await (0,n.customFetch)(`${i}/api/change_log`,{method:"GET",headers:{"Content-Type":"application/json"}});return await e.json()}catch(e){return console.error("Error getting changelog",e),{}}},F=async e=>{try{let t=await a(),r=await (0,n.customFetch)(`${i}/api/plot_themes`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({theme:e})});return await r.json()}catch(e){console.error("Error saving theme",e)}},k=async()=>{try{let e=await a(),t=await (0,n.customFetch)(`${i}/api/plot_themes`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});return await t.json()}catch(e){console.error("Error loading themes",e)}},R=async e=>{try{let t=await a(),r=await (0,n.customFetch)(`${i}/api/plot_themes/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});return await r.json()}catch(e){console.error("Error deleting theme",e)}},z=async({taskInformation:e})=>{try{let t=await a(),r=await (0,n.customFetch)(`${i}/api/shakuni/generate_plan`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({taskInformation:e})});return await r.json()}catch(e){console.error("Error generating plan notebook plan",e)}},N=async e=>{try{let t=await a(),r=await (0,n.customFetch)(`${i}/workflows/${e}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});return await r.json()}catch(e){console.error("Error getting notebook",e)}},U=async({workflowId:e,instructions:t})=>{try{let r=await a(),o=await (0,n.customFetch)(`${i}/api/shakuni/extend_plan/${e}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({instructions:t})});return await o.json()}catch(e){console.error("Error extending notebook",e)}},D=async({activeConversationId:e,connectionId:t})=>{let r=await a(),o=await (0,n.customFetch)(`${i}/api/data_connectors/connection_active`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`,"Conversation-Id":`${e}`},body:JSON.stringify({conversation_id:e,connection_id:t})});if(!o.ok)throw Error("Failed to get connection status");return await o.json()},J=async({activeConversationId:e,channelId:t,channelName:r})=>{let o=await a(),s=await (0,n.customFetch)(`${i}/slack/continue-chat-in-slack`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`,"Conversation-Id":`${e}`},body:JSON.stringify({conversation_id:e,channel_id:t,channel_name:r})});if(!s.ok)throw Error("Couldnt move chat to slack");return await s.json()};return(0,t.jsx)(s.Provider,{value:{get:l,downloadFile:h,handleValidateSpreadsheet:d,editRemoteDataFrame:c,fetchCommentary:p,fetchDataframeSummary:w,fetchInteractivePlot:m,fetchSuggestionsForColumn:_,fetchSuggestedQuestions:A,fetchCommentaryStreaming:y,checkIfSheetIsPublic:u,handleConvertToWorkflow:f,getAdministrationTokens:E,createAdministrationToken:g,deleteAdministrationToken:S,testJuliusToken:$,testDownloadUserConversations:T,searchUsers:j,getAuditLogs:P,updateUserRole:B,adminTokenDownloadConversation:v,adminTokenDownloadWithFilter:O,checkUserNotifications:b,updateNotificationsViewed:I,checkChangelog:C,saveTheme:F,loadThemes:k,deleteTheme:R,generatePlanWorkflowPlan:z,getWorkflowFromID:N,extendWorkflow:U,checkIfConnectionActive:D,continueChatInSlack:J},children:e})},"useAuthenticatedAPIs",0,()=>(0,a.useContext)(s)])},647631,e=>{"use strict";var t=e.i(52563),a=e.i(954616),r=e.i(266027),o=e.i(912598),n=e.i(647163);let i="https://api.julius.ai";function s(){let{getAccessTokenSilently:e}=(0,t.useAuth0)(),s=(0,o.useQueryClient)(),c=async()=>{let t=await e(),a=await (0,n.customFetch)(`${i}/api/user/onboard`,{method:"GET",headers:{Authorization:`Bearer ${t}`}});if(!a.ok)throw Error("Network response was not ok");return a.json()},u=(0,r.useQuery)({queryKey:["userOnboarding"],queryFn:c,refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1}),l=(0,a.useMutation)({mutationFn:async t=>{let a=await e(),r=await (0,n.customFetch)(`${i}/api/user/onboard`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({key:t})});if(!r.ok)throw Error("Failed to update user onboarding");return r.json()},onMutate:async e=>{await s.cancelQueries({queryKey:["userOnboarding"]});let t=s.getQueryData(["userOnboarding"]),a={...t,onboarding_status:{...t.onboarding_status,[e]:!0}};return s.setQueryData(["userOnboarding"],a),{previousData:t}},onError:(e,t,a)=>{a?.previousData&&s.setQueryData(["userOnboarding"],a.previousData)},onSettled:()=>{s.invalidateQueries({queryKey:["userOnboarding"]})}}),h=(0,a.useMutation)({mutationFn:async()=>{let t=await e(),a=await (0,n.customFetch)(`${i}/api/user/onboard`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}});if(!a.ok)throw Error("Failed to clear user onboarding");return a.json()},onSuccess:()=>{s.invalidateQueries({queryKey:["userOnboarding"]})}});return{...u,refetchOnboarding:()=>s.invalidateQueries({queryKey:["userOnboarding"]}),setUserOnboarding:l.mutate,isSettingUserOnboarding:l.isPending,clearUserOnboarding:h.mutate,isClearingUserOnboarding:h.isPending}}e.s(["useUserOnboarding",()=>s])},989580,e=>{"use strict";e.s([])},64342,e=>{"use strict";function t(e){let t="";for(let a=0;a<e.length;++a)if(a>0){let r=e[a].toLowerCase();r!==e[a]?t+=` ${r}`:t+=e[a]}else t+=e[a].toUpperCase();return t}let a={default:"endpoint"},r="Blocked by CSP",o="The endpoint parameter is not a valid URL",n=t("WrongRegion"),i=t("SubscriptionNotActive"),s=t("UnsupportedVersion"),c=t("InstallationMethodRestricted"),u=t("HostnameRestricted"),l=t("IntegrationFailed"),h=t("NetworkRestricted"),d=t("InvalidProxyIntegrationSecret"),p=t("InvalidProxyIntegrationHeaders"),w=t("ProxyIntegrationSecretEnvironmentMismatch"),y="API key required",m="API key not found",_="API key expired",A="Failed to load the JS script of the agent",f="9319",E="https://fpnpmcdn.net/v<version>/<apiKey>/loader_v<loaderVersion>.js";function g(e){var t,a;let n,i,s,c,u;return(t=()=>new Promise((t,a)=>{if(function(e){if(URL.prototype)try{return new URL(e,location.href),!1}catch(e){if(e instanceof Error&&"TypeError"===e.name)return!0;throw e}}(e))throw Error(o);let r=document.createElement("script"),n=()=>{var e;return null==(e=r.parentNode)?void 0:e.removeChild(r)},i=document.head||document.getElementsByTagName("head")[0];r.onload=()=>{n(),t()},r.onerror=()=>{n(),a(Error(A))},r.async=!0,r.src=e,i.appendChild(r)}),a=()=>{throw Error(r)},i=document,s="securitypolicyviolation",c=t=>{let a=new URL(e,location.href),{blockedURI:r}=t;r!==a.href&&r!==a.protocol.slice(0,-1)&&r!==a.origin||(n=t,u())},i.addEventListener(s,c),u=()=>i.removeEventListener(s,c),Promise.resolve().then(t).then(e=>(u(),e),e=>new Promise(e=>{let t=new MessageChannel;t.port1.onmessage=()=>e(),t.port2.postMessage(null)}).then(()=>{if(u(),n)return a(n);throw e}))).then(S)}function S(){var e;let t,a=window,r="__fpjs_p_l_b",o=a[r];if((null==(t=null==(e=Object.getOwnPropertyDescriptor)?void 0:e.call(Object,a,r))?void 0:t.configurable)?delete a[r]:t&&!t.writable||(a[r]=void 0),"function"!=typeof(null==o?void 0:o.load))throw Error(f);return o}var $={load:function(e){var t,a,n,i,s;let c,u,l,{picked:h,rest:d}=function(e,t){let a={},r={};for(let[o,n]of Object.entries(e))t.includes(o)?a[o]=n:r[o]=n;return{picked:a,rest:r}}(e,["scriptUrlPattern","token","apiKey"]),p=h.token,w=null!=(t=h.apiKey)?t:p,m=null!==(n="scriptUrlPattern",a=Object.prototype.hasOwnProperty.call(e,n)?e[n]:void 0)&&void 0!==a?a:E,[_,S]=(c=[],s="visibilitychange",u=()=>{c.push({time:new Date,state:document.visibilityState})},(i=document).addEventListener(s,u,void 0),l=()=>i.removeEventListener(s,u,void 0),u(),[c,l]);return Promise.resolve().then(()=>{if(!w||"string"!=typeof w)throw Error(y);return function(e,t){let a,n,i,s,c,u,l=[],[h,d]=(n=[...e],s={current:()=>n[0],postpone(){let e=n.shift();void 0!==e&&n.push(e)},exclude(){n.shift()}},i=0,c=()=>Math.random()*Math.min(3e3,100*Math.pow(2,i++)),u=new Set,[s.current(),(e,t)=>{let a,n=t instanceof Error?t.message:"";if(n===r||n===o)s.exclude(),a=0;else if(n===f)s.exclude();else if(n===A){let t=Date.now()-e.getTime()<50,r=s.current();r&&t&&!u.has(r)&&(u.add(r),a=0),s.postpone()}else s.postpone();let i=s.current();return void 0===i?void 0:[i,null!=a?a:e.getTime()+c()-Date.now()]}]);if(void 0===h)return Promise.reject(TypeError("The list of script URL patterns is empty"));let p=e=>{let r=new Date,o=t=>l.push({url:e,startedAt:r,finishedAt:new Date,error:t}),n=t(e);return n.then(()=>o(),o),n.catch(e=>{if(null!=a||(a=e),l.length>=5)throw a;let t=d(r,e);if(!t)throw a;let[o,n]=t;return new Promise(e=>setTimeout(e,n)).then(()=>p(o))})};return p(h).then(e=>[e,l])}((Array.isArray(m)?m:[m]).map(e=>{var t;let a;return t=String(e),a=encodeURIComponent,t.replace(/<[^<>]+>/g,e=>"<version>"===e?"3":"<apiKey>"===e?a(w):"<loaderVersion>"===e?a("3.12.5"):e)}),g)}).catch(e=>{throw S(),e instanceof Error&&e.message===f?Error(A):e}).then(([e,t])=>(S(),e.load({...d,ldi:{attempts:t,visibilityStates:_}})))},defaultScriptUrlPattern:E,ERROR_SCRIPT_LOAD_FAIL:A,ERROR_API_KEY_EXPIRED:_,ERROR_API_KEY_INVALID:m,ERROR_API_KEY_MISSING:y,ERROR_BAD_REQUEST_FORMAT:"Request cannot be parsed",ERROR_BAD_RESPONSE_FORMAT:"Response cannot be parsed",ERROR_CLIENT_TIMEOUT:"Client timeout",ERROR_CSP_BLOCK:r,ERROR_FORBIDDEN_ENDPOINT:u,ERROR_FORBIDDEN_HEADER:"Not available with restricted header",ERROR_FORBIDDEN_ORIGIN:"Not available for this origin",ERROR_GENERAL_SERVER_FAILURE:"Request failed",ERROR_HANDLE_AGENT_DATA:"Handle on demand agent data error",ERROR_INSTALLATION_METHOD_RESTRICTED:c,ERROR_INTEGRATION_FAILURE:l,ERROR_INVALID_ENDPOINT:o,ERROR_INVALID_PROXY_INTEGRATION_HEADERS:p,ERROR_INVALID_PROXY_INTEGRATION_SECRET:d,ERROR_NETWORK_ABORT:"Network request aborted",ERROR_NETWORK_CONNECTION:"Network connection error",ERROR_NETWORK_RESTRICTED:h,ERROR_PROXY_INTEGRATION_SECRET_ENVIRONMENT_MISMATCH:w,ERROR_RATE_LIMIT:"Too many requests, rate limit exceeded",ERROR_SERVER_TIMEOUT:"Request failed to process",ERROR_SUBSCRIPTION_NOT_ACTIVE:i,ERROR_TOKEN_EXPIRED:_,ERROR_TOKEN_INVALID:m,ERROR_TOKEN_MISSING:y,ERROR_UNSUPPORTED_VERSION:s,ERROR_WRONG_REGION:n,defaultEndpoint:a,defaultTlsEndpoint:{default:"tlsEndpoint"}};e.s(["default",()=>$,"defaultEndpoint",()=>a,"defaultScriptUrlPattern",()=>E])},749064,e=>{"use strict";var t=e.i(271645);function a(){return(a=Object.assign.bind()).apply(this,arguments)}var r=function(e){var a=(0,t.useRef)(e);return a.current=e,a},o=function(e,t){var a="",r=-1;return Object.keys(e).forEach(function(o){var n=e[o];t>=n&&n>r&&(a=o,r=n)}),a},n=function(e){var n=void 0===e?{}:e,i=n.useBorderBoxSize,s=n.breakpoints,c=n.updateOnBreakpointChange,u=n.shouldUpdate,l=n.onResize,h=n.polyfill,d=(0,t.useState)({currentBreakpoint:"",width:null,height:null}),p=d[0],w=d[1],y=(0,t.useRef)({}),m=(0,t.useRef)(),_=(0,t.useRef)(),A=(0,t.useRef)(!1),f=(0,t.useRef)(),E=r(l),g=r(u),S=(0,t.useCallback)(function(){_.current&&_.current.disconnect()},[]),$=(0,t.useCallback)(function(e){e&&e!==f.current&&(S(),f.current=e,w({currentBreakpoint:"",width:e.clientWidth,height:e.clientHeight})),_.current&&f.current&&_.current.observe(f.current)},[S]);return(0,t.useEffect)(function(){if((!("ResizeObserver"in window)||!("ResizeObserverEntry"in window))&&!h)return console.error("ðŸ’¡ react-cool-dimensions: the browser doesn't support Resize Observer, please use polyfill: https://github.com/wellyshen/react-cool-dimensions#resizeobserver-polyfill"),function(){return null};var e=null;return _.current=new(h||ResizeObserver)(function(t){var a=t[0];e=requestAnimationFrame(function(){var e=a.contentBoxSize,t=a.borderBoxSize,r=a.contentRect,n=e;i&&(t?n=t:A.current||(console.warn("ðŸ’¡ react-cool-dimensions: the browser doesn't support border-box size, fallback to content-box size. Please see: https://github.com/wellyshen/react-cool-dimensions#border-box-size-measurement"),A.current=!0));var u=(n=Array.isArray(n)?n[0]:n)?n.inlineSize:r.width,l=n?n.blockSize:r.height;if(u!==y.current.width||l!==y.current.height){y.current={width:u,height:l};var h={currentBreakpoint:"",width:u,height:l,entry:a,observe:$,unobserve:S};s?(h.currentBreakpoint=o(s,u),h.currentBreakpoint!==m.current&&(E.current&&E.current(h),m.current=h.currentBreakpoint)):E.current&&E.current(h);var d={currentBreakpoint:h.currentBreakpoint,width:u,height:l,entry:a};if(!g.current||g.current(d)){if(!g.current&&s&&c)return void w(function(e){return e.currentBreakpoint!==d.currentBreakpoint?d:e});w(d)}}})}),$(),function(){S(),e&&cancelAnimationFrame(e)}},[JSON.stringify(s),i,$,S,c]),a({},p,{observe:$,unobserve:S})};e.s(["default",()=>n])},620949,611995,e=>{"use strict";e.s(["useChangeContainer",()=>b,"useChangeMFA",()=>P,"useDeleteAllChatData",()=>j,"useDeleteAllNotebooks",()=>z,"useDeleteServer",()=>v,"useDeleteUser",()=>T,"useEmailPreferences",()=>U,"useGetCustomAgents",()=>N,"useResetServer",()=>O,"useSaveTips",()=>B,"useSurveyResponse",()=>R,"useUpdateSurveyResponse",()=>k,"useUpdateUserPreferences",()=>F,"useUpdateUserPublicProfile",()=>C,"useUserActiveTeamRole",()=>g,"useUserFlagged",()=>f,"useUserInformation",()=>E,"useUserPlan",()=>$,"useUserPublicProfile",()=>I,"useUserSubscription",()=>S],620949);var t=e.i(52563),a=e.i(954616),r=e.i(266027),o=e.i(912598),n=e.i(846696);e.i(971804);var i=e.i(511108),s=e.i(601655),c=e.i(394073),u=e.i(647163);let l=async({accessToken:e,responses:t,completed:a,step:r})=>{let o=await (0,u.customFetch)(`${c.BASE_API}/api/survey_response`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({responses:t,completed:a,step:r})});return await o.json()},h=async({accessToken:e})=>{let t=await (0,u.customFetch)(`${c.BASE_API}/api/settings/public_profile`,{headers:{Authorization:`Bearer ${e}`}});return await t.json()},d=async({accessToken:e,profile:t})=>{let a=await (0,u.customFetch)(`${c.BASE_API}/api/settings/public_profile`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw await a.json();return await a.json()},p=async({accessToken:e})=>{let t=await (0,u.customFetch)(`${c.BASE_API}/api/saved_prompts`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});return await t.json()},w=async({accessToken:e,content:t,conversation_name:a,category_id:r,message_id:o,conversation_id:n})=>{let i=await (0,u.customFetch)(`${c.BASE_API}/api/saved_prompts`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json","conversation-id":n},body:JSON.stringify({content:t,conversation_name:a,category_id:r,message_id:o})});return await i.json()},y=async({accessToken:e})=>{let t=await (0,u.customFetch)(`${c.BASE_API}/api/saved_prompts/categories`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});return await t.json()},m=async({accessToken:e,category:t})=>{let a=await (0,u.customFetch)(`${c.BASE_API}/api/saved_prompts/categories`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({category:t})});return await a.json()},_=async({accessToken:e,categoryId:t})=>{let a=await (0,u.customFetch)(`${c.BASE_API}/api/saved_prompts/categories`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({categoryId:t})});return await a.json()},A=async({accessToken:e,promptId:t})=>{let a=await (0,u.customFetch)(`${c.BASE_API}/api/saved_prompts`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({promptId:t})});return await a.json()};e.s(["deletePromptCategory",()=>_,"deleteSavedUserPrompt",()=>A,"getPromptCategories",()=>y,"getPublicProfile",()=>h,"getUserPrompts",()=>p,"savePrompt",()=>w,"savePromptCategory",()=>m,"updatePublicProfile",()=>d,"upsertSignupSurvey",()=>l],611995);let f=()=>{let{getAccessTokenSilently:e,isAuthenticated:a}=(0,t.useAuth0)(),o=async()=>{let t=await e(),a=await (0,u.customFetch)(`${c.BASE_API}/api/status`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});return(await a.json()).s};return(0,r.useQuery)({enabled:a,queryKey:["userFlagged"],queryFn:o})},E=()=>{let{getAccessTokenSilently:e,isAuthenticated:a,user:o}=(0,t.useAuth0)(),i=async()=>{try{window.isNativeApp&&(0,c.updateFeatureFlags)({IS_WEBVIEW:!0});let t=await e(),a=await (0,u.customFetch)(`${c.BASE_API}/api/v2/user`,{headers:{Authorization:`Bearer ${t}`,"Is-Native":window.isNativeApp?"true":"false"}});if(!a.ok)throw Error("Failed to fetch user information");let r=await a.json();try{window.gtag("set","user_id",r.id),window.gtag("set","user_data",{sha256_email_address:o?.email}),window.gtag("config","G-LJ8EBP0YTG",{client_id:r.id,user_id:r.id})}catch(e){}if(r.flags){let e={};r.flags.forEach(t=>{e[t.key]=t.value}),(0,c.updateFeatureFlags)(e)}return c.FEATURE_FLAGS.IS_HBS&&r?.preferences&&r?.preferences?.hide_code===void 0&&(r.preferences={...r.preferences,hide_code:!0}),r}catch(e){throw Error(e.message||"Error fetching user information")}};return(0,r.useQuery)({enabled:a,queryKey:["userInformation"],queryFn:i,retry:(e,t)=>{let a=e<5;return a||(console.error("Max retries reached for fetching user information"),n.toast.error("Failed to fetch user information. Please try again later.")),a},retryDelay:e=>Math.min(1e3*2**e,3e4),refetchOnWindowFocus:!1,staleTime:36e5})},g=()=>{let{getAccessTokenSilently:e,isAuthenticated:a}=(0,t.useAuth0)(),o=async({accessToken:e})=>{let t=await (0,u.customFetch)(`${c.BASE_API}/api/user/active_team_role`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok)throw await t.json();let a=await t.json(),r=a?.role??"member";return{role:r,isAdmin:"admin"===r||"owner"===r,isOwner:"owner"===r,isMember:"member"===r}};return(0,r.useQuery)({queryKey:["active_team_role"],enabled:a,queryFn:async()=>o({accessToken:await e()}),retry:3,refetchOnWindowFocus:!1})},S=()=>{let{getAccessTokenSilently:e,isAuthenticated:a}=(0,t.useAuth0)(),o=async()=>{let t=await e(),a=await (0,u.customFetch)(`${c.BASE_API}/api/user/subscription`,{headers:{Authorization:`Bearer ${t}`}});if(a.ok){let e=await a.json();return(0,u.getStandardizedSubscriptionData)(e)}throw Error("Failed to fetch subscription information")};return(0,r.useQuery)({queryKey:["user/subscription"],queryFn:o,retry:(e,t)=>{let a=e<5;return a||(console.error("Max retries reached for fetching subscription information"),n.toast.error("Failed to fetch subscription information. Please try again later.")),a},retryDelay:e=>Math.min(1e3*2**e,6e4),refetchOnWindowFocus:!1,staleTime:3e5,enabled:a})},$=()=>{let{getAccessTokenSilently:e,isAuthenticated:a}=(0,t.useAuth0)();return(0,r.useQuery)({queryKey:["user/plan"],queryFn:async()=>{let t=await e(),a=await (0,u.customFetch)(`${c.BASE_API}/api/user/plan`,{headers:{Authorization:`Bearer ${t}`}});if(a.ok)return a.json();throw Error("Failed to fetch user plan")},enabled:a})},T=()=>{let{getAccessTokenSilently:e,logout:r}=(0,t.useAuth0)(),n=(0,o.useQueryClient)(),i=async()=>{let t=await e(),a=await (0,u.customFetch)(`${c.BASE_API}/api/user`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}});return await a.json()};return(0,a.useMutation)({mutationFn:i,onSuccess:async()=>{n.invalidateQueries({queryKey:["userInformation"]}),await r({logoutParams:{returnTo:window.location.origin}})}})},j=(e,t,r,o)=>{let{deleteConversation:s,getConversations:c}=(0,i.useChatAPI)(),u=async()=>{try{let e=[],t=1,a=!0;for(;a;){let r=await c({page:t,per_page:20}),o=r?.conversations||{},n=r?.metadata,i=Object.keys(o);0!==i.length&&n?(e=[...e,...i],a=t<n.total_pages,t++):a=!1}if(0===e.length)return n.toast.success("No conversations found to delete"),{success:!0,deleted:0};let r=0,o=0,i=[],u=[];for(let t=0;t<e.length;t+=10){let a=e.slice(t,t+10);try{let n=await Promise.allSettled(a.map(async e=>{try{return await s(e),{id:e,success:!0}}catch(t){return{id:e,success:!1,error:t}}}));n.forEach(e=>{"fulfilled"===e.status?e.value.success?(r++,i.push(e.value.id)):(o++,u.push(e.value.id)):(o++,u.push(a[n.indexOf(e)]))}),t+10<e.length&&await new Promise(e=>setTimeout(e,100))}catch(e){console.error("Error deleting batch:",e),a.forEach(e=>{o++,u.push(e)})}}return 0===o?n.toast.success(`Successfully deleted ${r} conversations`):0===r?n.toast.error(`Failed to delete all ${o} conversations`):n.toast.warning(`Deleted ${r} conversations, but ${o} failed to delete`),{success:r>0,deleted:r,failed:o,deletedIds:i,failedIds:u,total:e.length}}catch(e){throw n.toast.error("Failed to delete conversations. Please try again."),e}};return(0,a.useMutation)({mutationFn:u,onSuccess:async a=>{try{if(0===a.failed)o&&o({}),window.localStorage.removeItem("pinnedConversations"),t&&t([]),r&&r(void 0);else if(a.deleted>0){o&&o(e=>{let t={...e};return a.deletedIds.forEach(e=>{delete t[e]}),t});try{let e=window.localStorage.getItem("pinnedConversations");if(e){let t=JSON.parse(e).filter(e=>!a.deletedIds.includes(e));window.localStorage.setItem("pinnedConversations",JSON.stringify(t))}}catch(e){console.error("Error updating pinned conversations:",e)}}e&&await e()}catch(e){console.error("Error refreshing conversations:",e)}}})},P=()=>{let{getAccessTokenSilently:e}=(0,t.useAuth0)(),r=(0,o.useQueryClient)(),n=async t=>{let a=await e(),r=await (0,u.customFetch)(`${c.BASE_API}/api/settings/mfa`,{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({purpose:t})});return await r.json()};return(0,a.useMutation)({mutationFn:n,onSuccess:()=>{r.invalidateQueries({queryKey:["userInformation"]})}})},B=()=>{let{getAccessTokenSilently:e}=(0,t.useAuth0)(),r=(0,o.useQueryClient)(),n=async t=>{try{let a=await e(),r=await (0,u.customFetch)(`${c.BASE_API}/api/chat/set_tips`,{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({tips:t})});if(!r.ok)throw Error("Failed to save tips");return(await r.json()).tips}catch(e){throw Error(e.message||"An error occurred while saving tips")}};return(0,a.useMutation)({mutationFn:n,onSuccess:e=>{r.setQueryData(["userInformation"],t=>({...t,tips:e}))}})},v=()=>{let{getAccessTokenSilently:e}=(0,t.useAuth0)(),r=(0,o.useQueryClient)(),n=async()=>{let t=await e();try{let e=await (0,u.customFetch)(`${c.BASE_API}/hub/delete_server`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});return await e.json()}catch(e){console.error(e)}};return(0,a.useMutation)({mutationFn:n,onMutate:async()=>(await r.cancelQueries({queryKey:["files","userInformation"]}),{}),onSettled:()=>{r.invalidateQueries({queryKey:["files"]}),r.resetQueries({queryKey:["server/status"],exact:!1})}})},O=()=>{let{getAccessTokenSilently:e}=(0,t.useAuth0)(),r=(0,o.useQueryClient)(),n=async()=>{let t=await e();try{let e=await (0,u.customFetch)(`${c.BASE_API}/hub/reset_server`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});return await e.json()}catch(e){console.error(e)}};return(0,a.useMutation)({mutationFn:n,onMutate:async()=>(await r.cancelQueries({queryKey:["server/status"],exact:!1}),{})})},b=()=>{let{getAccessTokenSilently:e}=(0,t.useAuth0)(),r=(0,o.useQueryClient)(),n=async t=>{let a=await e(),r=await (0,u.customFetch)(`${c.BASE_API}/hub/set_container_preference`,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},method:"PATCH",body:JSON.stringify({hub_preference:t})}),o=await r.json();if(!o.success)throw Error("Failed to change container");return o.container_preference};return(0,a.useMutation)({mutationFn:n,onSuccess:e=>{r.setQueryData(["userInformation"],t=>({...t,hub_container_preference:e})),r.setQueryData(["files"],()=>[])}})},I=()=>{let{getAccessTokenSilently:e}=(0,t.useAuth0)();return(0,r.useQuery)({queryKey:["userPublicProfile"],queryFn:async()=>{let t=await e();return await h({accessToken:t})},staleTime:1/0})},C=()=>{let{getAccessTokenSilently:e}=(0,t.useAuth0)();return(0,a.useMutation)({mutationFn:async t=>{let a=await e();return await d({accessToken:a,profile:t})}})},F=()=>{let{getAccessTokenSilently:e}=(0,t.useAuth0)(),r=(0,o.useQueryClient)(),n=async t=>{let a=await e(),o=await (0,u.customFetch)(`${c.BASE_API}/api/user_preferences`,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},method:"PATCH",body:JSON.stringify({preferences:t})}),n=await o.json();return r.refetchQueries({queryKey:["userInformation"]}),n.preferences};return(0,a.useMutation)({mutationFn:n,onMutate:async e=>{await r.cancelQueries({queryKey:["userInformation"]});let t=r.getQueryData(["userInformation"]);return r.setQueryData(["userInformation"],t=>({...t,preferences:{...t.preferences,...e}})),{previousUserData:t}},onError:(e,t,a)=>{r.setQueryData(["userInformation"],a.previousUserData)}})},k=()=>{let{getAccessTokenSilently:e}=(0,t.useAuth0)(),r=(0,o.useQueryClient)(),n=async({responses:t,completed:a,step:r})=>{let o=await e();return await l({accessToken:o,responses:t,completed:a,step:r})};return(0,a.useMutation)({mutationFn:n,onSuccess:e=>{r.setQueryData(["signupSurvey"],e),r.setQueryData(["userInformation"],t=>({...t,survey_completed_at:e?.completed?e?.updated_at:null}))},onError:e=>{console.error(e)}})},R=e=>{let{getAccessTokenSilently:a,isAuthenticated:o}=(0,t.useAuth0)(),n=async()=>{let e=await a(),t=await (0,u.customFetch)(`${c.BASE_API}/api/survey_response`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});return await t.json()};return(0,r.useQuery)({enabled:o&&null===e,queryKey:["signupSurvey"],queryFn:n,staleTime:1/0})},z=()=>{let{getAccessTokenSilently:e}=(0,t.useAuth0)(),r=(0,o.useQueryClient)(),i=async()=>{try{let t=await e(),a=await (0,s.getWorkflows)({accessToken:t});if(0===a.length)return n.toast.success("No personal notebooks found to delete"),{success:!0,deleted:0};let r=0,o=0,i=[],c=[];for(let e=0;e<a.length;e+=5){let n=a.slice(e,e+5);try{let u=await Promise.allSettled(n.map(async e=>{try{return await (0,s.deleteWorkflowAPI)(e.id,t),{id:e.id,success:!0}}catch(t){return{id:e.id,success:!1,error:t}}}));u.forEach(e=>{"fulfilled"===e.status?e.value.success?(r++,i.push(e.value.id)):(o++,c.push(e.value.id)):(o++,c.push(n[u.indexOf(e)].id))}),e+5<a.length&&await new Promise(e=>setTimeout(e,200))}catch(e){console.error("Error deleting notebook batch:",e),n.forEach(e=>{o++,c.push(e.id)})}}return 0===o?n.toast.success(`Successfully deleted ${r} personal notebooks`):0===r?n.toast.error(`Failed to delete all ${o} personal notebooks`):n.toast.warning(`Deleted ${r} personal notebooks, but ${o} failed to delete`),{success:r>0,deleted:r,failed:o,deletedIds:i,failedIds:c,total:a.length}}catch(e){throw console.error("Error deleting personal notebooks:",e),n.toast.error("Failed to delete personal notebooks. Please try again."),e}};return(0,a.useMutation)({mutationFn:i,onSuccess:async e=>{r.invalidateQueries({queryKey:["workflows"],exact:!1})}})},N=()=>{let{getAccessTokenSilently:e,isAuthenticated:a}=(0,t.useAuth0)(),o=async()=>{let t=await e(),a=await (0,u.customFetch)(`${c.BASE_API}/api/custom_agents/get_all`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}}),r=await a.json();return r.agents?r.agents:[]};return(0,r.useQuery)({enabled:a,queryKey:["customAgents"],queryFn:o})},U=()=>{let{getAccessTokenSilently:e,isAuthenticated:n}=(0,t.useAuth0)(),i=(0,o.useQueryClient)(),{data:s,isLoading:l}=(0,r.useQuery)({queryKey:["user/email-preferences"],queryFn:async()=>{let t=await e(),a=await (0,u.customFetch)(`${c.BASE_API}/api/user/email-preferences`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!a.ok)throw Error("Failed to fetch email preferences");return a.json()},enabled:n,refetchOnWindowFocus:!1,staleTime:3e5}),h=(0,a.useMutation)({mutationFn:async t=>{let a=await e(),r=await (0,u.customFetch)(`${c.BASE_API}/api/user/email-preferences`,{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw Error("Failed to update email preferences");return r.json()},onSuccess:()=>{i.invalidateQueries({queryKey:["user/email-preferences"]})}});return{emailPreferences:s,isLoading:l,updateEmailPreferences:h.mutate,isUpdating:h.isPending}}},616525,e=>{"use strict";e.s(["UserContextProvider",()=>p,"useUserContext",()=>w]);var t=e.i(843476),a=e.i(271645),r=e.i(52563),o=e.i(64342),n=e.i(604570),i=e.i(749064),s=e.i(264082),c=e.i(483202),u=e.i(394073),l=e.i(620949),h=e.i(647163);let d=(0,a.createContext)(void 0),p=({children:e,isMainApp:p=!0})=>{let{user:w,getAccessTokenSilently:y}=(0,r.useAuth0)(),{loadThemes:m}=(0,s.useAuthenticatedAPIs)(),[_,A]=(0,a.useState)("light"),[f,E]=(0,a.useState)(u.FEATURE_FLAGS),[g,S]=(0,a.useState)(!0),[$,T]=(0,a.useState)(!1),[j,P]=(0,a.useState)(null),[B,v]=(0,a.useState)([]),[O,b]=(0,a.useState)(null),[I,C]=(0,a.useState)([]),[F,k]=(0,a.useState)(!1),[R,z]=(0,a.useState)(!1),[N,U]=(0,a.useState)(null),[D,J]=(0,a.useState)(!1),[x,L]=(0,a.useState)([]),G=async e=>{await H(e),U(e)},{loadUpdates:q,logUpdateSeen:M,applyUpdateCode:Q,getInviteCodes:W,sendFingerprint:K,changeHardwareSpec:H}=(0,c.useUserAPI)(),{observe:V,currentBreakpoint:Y}=(0,i.default)({breakpoints:{initial:0,xs:390,sm:640,md:768,lg:1024,xl:1280,xxl:1536},updateOnBreakpointChange:!0}),X=f.PRIVILEGED_FRONTEND,[Z,ee]=(0,a.useState)(null),{data:et}=(0,l.useUserInformation)();(0,a.useEffect)(()=>{console.log(`
               -*##*+*#*+=-.             
            .***+.  .:-=+**=.           
           -#*:+..-.=.:   .+*.          
          .%*=*+:-+++*++-.. +*.         
          +*+*-::. ....-+-++-*-         
          +*=     ..... ---%+#+         
          .#+=**---##*=-.-=+#%*.        
           :#=+#-..==+-..-=*==@:        
           .%. =:       :=-+=%+.        
            =*:=..-.      -=*=          
            .#--=-=..    .%%.           
             =*-*+*=.   .+@:            
              #+::.. .:-++*             
             :%=------:--#-             
          .-++*. ..-:  =.=*=:.          
        .=*+: ...=:.. ..  .:=*=.        
       :#-.      .=:.        .#=        
       .#:        .:.         =*        
        =#                    *=        
        .*+.                 :#.        
         .+*:               :#-         
           :*+.            :#-          

We are hiring! Contact: team@julius.ai
`)},[]);let{data:ea}=(0,l.useUserFlagged)();(0,a.useEffect)(()=>{f.IS_HBS||!w||!1!==ea||navigator.userAgent.includes("Cypress")||o.default.load({apiKey:"hRGhpARH0FFDkE5G0kXo",endpoint:["https://metrics3.julius.ai",o.defaultEndpoint],scriptUrlPattern:["https://metrics3.julius.ai/web/v<version>/<apiKey>/loader_v<loaderVersion>.js",o.defaultScriptUrlPattern]}).then(e=>e.get()).then(e=>{ee(e)}).catch(e=>console.error(e))},[w,ea]),(0,a.useEffect)(()=>{w&&Z&&(n.default.setPersonProperties({fingerprint_visitor_id:Z.visitorId}),K({fp:Z.visitorId,r:Z.requestId}).catch(e=>{console.error("Error sending metrics",e)}))},[w,Z,K]),(0,a.useEffect)(()=>{try{let e=window.localStorage.getItem("theme"),t=window.localStorage.getItem("julius-debug-mode");if(e&&(A(e),f.savedTheme&&(document.body.classList.remove("light"),document.body.classList.add(e),A(e))),t&&X){try{"false"===t.toLowerCase()&&(t=!1)}catch{}T($)}}catch(e){console.error("Error setting theme or debug mode",e)}},[]);let er=async()=>{let e=await q().catch(e=>{console.error("handleGetProductUpdates: ",e)});e?.updates&&v(e.updates),e?.last_user_update_date&&b(e.last_user_update_date)};(0,a.useEffect)(()=>{if(!w)return;f.SHOW_PRODUCT_UPDATES&&er();let e=w.sub.replace(/\|/g,"_");window.ReactNativeWebView&&window.ReactNativeWebView.postMessage(JSON.stringify({type:"subId",subId:e})),w.email_verified?n.default.setPersonProperties({email_verified:w.email_verified,email_verified_from:u.FEATURE_FLAGS.IS_WEBVIEW?"native":"web"}):n.default.setPersonProperties({email_verified:w.email_verified})},[w]);let eo=async()=>{try{let e=await y();await (0,h.customFetch)(`${u.BASE_API}/api/events/server_sign_up`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}})}catch(e){console.warn("Error sending server_sign_up event",e)}};(0,a.useEffect)(()=>{if(!w||!et?.created_at)return;let e=new Date(et.created_at).getTime();Date.now()-e<3e5&&eo()},[w,et,y]);let en=async()=>{let e=await M();e?.last_user_update_date&&b(e.last_user_update_date)},ei=async e=>await Q(e),es=async()=>{let e=await W();e?.codes&&C(e.codes)};return(0,a.useEffect)(()=>{let e=(0,u.subscribeToFeatureFlags)(e=>{E(e),S(!1)});return()=>{e&&e()}},[]),(0,a.useEffect)(()=>{let e=async()=>{try{let e=await m();if(e?.themes&&Array.isArray(e.themes)){let t=e.themes.filter(e=>!e.deleted_at);L(t)}}catch(e){console.error("Failed to load themes:",e)}};w&&e()},[w,q]),(0,t.jsx)(d.Provider,{value:{breakpoint:Y,theme:_,setTheme:A,isCaesar:X,featureFlags:f,isFeatureFlagsLoading:g,updates:B,lastUserUpdateDate:O,handleUpdateModalShown:en,debugMode:$,setDebugMode:T,debuggingMessage:j,setDebuggingMessage:P,saveInviteCode:ei,checkInviteCodes:es,inviteCodes:I,fingerprintResult:Z,canShowSuggestions:F,setCanShowSuggestions:k,showKernelSettings:R,setShowKernelSettings:z,handleChangeAccelerator:G,hardwareOverride:N,isSmallScreen:!1,hasNotifications:D,setHasNotifications:J,plotThemes:x,setPlotThemes:L},children:p?(0,t.jsx)("div",{id:"ctx-wrapper",className:"fixed h-full overscroll-none mx-auto w-full",ref:V,children:e}):e})},w=()=>(0,a.useContext)(d)},11573,e=>{"use strict";e.s(["PURCHASE",0,0x15ba6b9,"UPGRADE_MODAL_SHOWN",0,0x15ba6b1,"trackLinkedInConversion",0,e=>{try{"function"==typeof window.lintrk&&window.lintrk("track",{conversion_id:e})}catch(e){console.warn("Error pushing to lintrk",e)}}])},511108,e=>{"use strict";e.s(["ChatAPIProvider",()=>_,"getDemoUserId",()=>y,"setDemoUserId",()=>w,"useChatAPI",()=>A]);var t=e.i(843476),a=e.i(271645),r=e.i(52563),o=e.i(604570),n=e.i(616525),i=e.i(394073),s=e.i(11573),c=e.i(647631),u=e.i(75510),l=e.i(647163);let h=!!i.FEATURE_FLAGS.IS_WEBVIEW,d=["http://localhost:9000"].includes(i.BASE_API)?"http://localhost:9000":"https://playground.spreadsheetsai.app",p=null,w=e=>p=e,y=()=>p,m=(0,a.createContext)(void 0),_=({children:e})=>{let p=(0,u.useGetCookieOnClient)("onboarding_status"),{getAccessTokenSilently:_,user:A}=(0,r.useAuth0)(),{fingerprintResult:f}=(0,n.useUserContext)(),{setUserOnboarding:E,data:g}=(0,c.useUserOnboarding)(),S=async(e,t)=>{let a="";e||(a=await _());let r=await (0,l.customFetch)(i.BASE_API+"/hub/file_contexts",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,"is-demo":e},body:JSON.stringify({filename:t})});return await r.json()},$=(0,a.useCallback)(async e=>{let t=await _(),a=await (0,l.customFetch)(`${i.BASE_API}/api/chat/${e}/threads`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});if(a.ok)return await a.json();if(403===a.status)throw Error("You are not a member of this team.");throw Error("Failed to get team conversations.")},[_]),T=(0,a.useCallback)(async(e,t)=>{let a=await _(),r=await (0,l.customFetch)(`${i.BASE_API}/api/chat/${e}/group/${t}/threads`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}});if(r.ok)return await r.json();if(403===r.status)throw Error("You are not a member of this group. Talk to a team admin for access.");throw Error("Failed to get team conversations.")},[_]),j=async e=>{let t=await _();if(!e.ids||0===e.ids.length)return{conversations:{},metadata:{requested_count:0,found_count:0}};let a=`${i.BASE_API}/api/chat/conversations-by-ids`,r=new URLSearchParams;e.ids.forEach(e=>r.append("ids",e));try{let e=await (0,l.customFetch)(`${a}?${r}`,{headers:{Authorization:`Bearer ${t}`}});if(!e.ok)throw Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(e){throw console.error("Error fetching conversations:",e),e}},P=async e=>{let t=await _(),a=`${i.BASE_API}/api/chat/conversations`;if(e?.page&&e?.per_page){let t=new URLSearchParams({page:e.page.toString(),per_page:e.per_page.toString()});a+=`?${t}`}let r=await (0,l.customFetch)(a,{headers:{Authorization:`Bearer ${t}`}});return await r.json()},B=async e=>{let t=await _(),a=await (0,l.customFetch)(`${i.BASE_API}/api/chat/${e}/team_share`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});if(a.ok)return await a.json();throw Error("Failed to share conversation to team.")},v=async(e,t,a=!0)=>{let r=await _(),o=await (0,l.customFetch)(`${i.BASE_API}/api/chat/${e}/team_share`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({team_id:t,share:a})});if(o.ok)return await o.json();throw Error("Failed to share conversation to team.")},O=async(e,t=!0)=>{let a=await _(),r=await (0,l.customFetch)(`${i.BASE_API}/api/chat/conversations`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,"conversation-id":e},body:JSON.stringify({share:t})});if(r.ok){try{"true"===p&&(E("share"),o.default.capture("onboarding_tracker:share_conversation"))}catch(e){console.error("Error setting onboarding status:",e)}try{await fetch(`/api/revalidate?path=/s/${e}`)}catch(e){console.error("Error revalidating shared chat path:",e)}return await r.json()}throw Error("Failed to change conversation privacy")},b=async()=>{let e=await (0,l.customFetch)(i.BASE_API+"/api/chat/unauth_search",{method:"POST"});return await e.json()},I=async({provider:e="default",is_demo:t=null,server_type:a="CPU",template_id:r=null,chat_type:o=null,tool_preferences:n=null,conversation_plan:s=null,julius_app:c=null})=>{let u="";A?u=await _():t=y();let p=window.location.pathname.includes("/home/graph-maker"),m=i.BASE_API;t&&!p&&(m=d);let E={"Content-Type":"application/json",Authorization:`Bearer ${u}`,"is-demo":t,"Is-Native":h,"visitor-id":f?.visitorId,"request-id":f?.requestId,"Julius-App":c};try{E.pathname=window.location.pathname}catch(e){console.error(e)}let g=await (0,l.customFetch)(m+"/api/chat/start",{method:"POST",headers:E,body:JSON.stringify({provider:e,server_type:a,template_id:r,chat_type:o,tool_preferences:n,conversation_plan:s})}),S=await g.json();if("clear_cache"===S.action){localStorage.removeItem("tempUserId");let i=await V(),c=i?.temp_user_id;return c&&(localStorage.setItem("tempUserId",c),w(c)),await I({provider:e,is_demo:t,server_type:a,template_id:r,chat_type:o,tool_preferences:n,conversation_plan:s})}return S},C=async(e,t,a,r="default",n=null,c="quantitative",u=null,w=null,m=null,S=null,$=null)=>{let T="",j=i.BASE_API;A?T=A.email_verified?await _():await _({cacheMode:"off"}):(n=y(),window.location.pathname.includes("/home/graph-maker")||(j=d));let P={"Content-Type":"application/json",Authorization:`Bearer ${T}`,"conversation-id":e,"is-demo":n,"Is-Native":h,Platform:i.FEATURE_FLAGS.platform,"visitor-id":f?.visitorId,"request-id":f?.requestId,"Julius-App":$};"/ai-math"===window.location.pathname&&(P["X-Frontend-Route"]="/ai-math"),t?.julius_app&&(P["Julius-App"]=t.julius_app);let B=await (0,l.customFetch)(`${j}/api/chat/${a}`,{method:"POST",headers:P,body:JSON.stringify({message:t,provider:r,chat_mode:c,client_version:"20240130",theme:u,new_images:w,new_attachments:m,dataframe_format:"json",selectedModels:S}),credentials:"include"});try{"true"===p&&(g?.onboarding_status?.ask_julius||(0,s.trackLinkedInConversion)(0x15ba6a1),E("ask_julius"),o.default.capture("onboarding_tracker:ask_julius"))}catch(e){console.error("Error setting onboarding status:",e)}return B},F=async({eventName:e,eventStatus:t,eventSource:a,eventDetails:r,stopKernel:o=!1,interruptKernel:n=!0})=>{try{let s=await _(),c=await (0,l.customFetch)(`${i.BASE_API}/api/user_event`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({event_name:e,event_status:t,event_source:a,event_details:r,stop_kernel:o,interrupt_kernel:n})});return await c.json()}catch(e){return console.error(e),null}},k=async e=>{let t=await _();return await (0,l.customFetch)(`${i.BASE_API}/api/chat/conversations`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,"conversation-id":e}})},R=async({conversationId:e,name:t,model:a,processor:r,kernelName:o,tempUserId:n,toolPreferences:s})=>{let c="";return n||(c=await _()),await (0,l.customFetch)(`${i.BASE_API}/api/chat/conversations`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`,"conversation-id":e,"is-demo":n},body:JSON.stringify({name:t,model:a,processor:r,kernelName:o,toolPreferences:s})})},z=async(e,t)=>{let a="";return t||(a=await _()),await (0,l.customFetch)(`${i.BASE_API}/api/chat/label_conversation`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,"conversation-id":e,"is-demo":t},body:JSON.stringify({label:"important"})}).then(e=>e.json()).catch(e=>({error:e}))},N=async e=>{let t=await _();return await (0,l.customFetch)(`${i.BASE_API}/api/chat/generate_options`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,"conversation-id":e}}).then(e=>e.json()).catch(e=>({error:e}))},U=(0,a.useCallback)(async e=>{let t="";try{t=await _()}catch(e){}let a=await (0,l.customFetch)(`${i.BASE_API}/api/chat/conversations/${e}/messages`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});return await a.json()},[_]),D=async({conversationId:e,vote:t,userMessageCount:a,modelProvider:r,advancedReasoning:o,extendedMemory:n,subscriptionPlan:s})=>{let c=await _(),u=await (0,l.customFetch)(`${i.BASE_API}/api/chat/chat_feedback`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`,"Is-Native":h},body:JSON.stringify({conversation_id:e,vote:t,feedback_type:"stars",userMessageCount:a,model_provider:r,advanced_reasoning:o,extended_memory:n,subscription_plan:s,isNative:h})});return await u.json()},J=async e=>{let t="";t=await _();let a=await (0,l.customFetch)(`${i.BASE_API}/api/chat/stop_stream`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,"conversation-id":e}});return await a.json()},x=async(e,t,a)=>{let r="";a||(r=await _());let o=await (0,l.customFetch)(`${i.BASE_API}/api/chat/sources`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`,"conversation-id":e,"is-demo":a},body:JSON.stringify({file_name:t})});return await o.json()},L=async(e,t)=>{let a=await _(),r=await (0,l.customFetch)(`${i.BASE_API}/api/chat/sources`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,"conversation-id":e},body:JSON.stringify({file_name:t})});return await r.json()},G=async e=>{let t=await _();try{let a=await (0,l.customFetch)(`${i.BASE_API}/api/chat/conversations/${e}/last_function_msg_timestamp`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}}),{last_function_msg_timestamp:r}=await a.json();return r}catch(e){return console.error(e),null}},q=async()=>{let e=await _();try{let t=await (0,l.customFetch)(`${i.BASE_API}/hub/prep_server`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`,Platform:i.FEATURE_FLAGS.platform}});return await t.json()}catch(e){console.error(e)}},M=async(e,t)=>{let a="";e&&(a=await _());let r=await (0,l.customFetch)(`${i.BASE_API}/api/chat/conversations/${t}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,"conversation-id":t}});return await r.json()},Q=async(e,t=1,a=10)=>{let r=await _(),o=await (0,l.customFetch)(`${i.BASE_API}/hub/view_file?filename=${e}&page=${t}&page_size=${a}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});return await o.json()},W=async(e,t)=>{let a=await _();await (0,l.customFetch)(`${i.BASE_API}/hub/file_contexts`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({filename:e,sheet_to_headers:t})})},K=async(e,t)=>{let a=await _();await (0,l.customFetch)(`${i.BASE_API}/api/chat/personalization`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,"conversation-id":e},body:JSON.stringify({personalization:t})})},H=async e=>{let t=await _();await (0,l.customFetch)(`${i.BASE_API}/api/chat/message`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({message_id:e})})},V=async()=>(await (0,l.customFetch)(`${d}/api/temp_user_id`,{method:"GET"})).json(),Y=async(e,t,a,r,o="chat_report",n=null,s,c,u,h)=>{let d=await _();await (0,l.customFetch)(`${i.BASE_API}/api/chat/report`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`,"conversation-id":e},body:JSON.stringify({report_type:o,message_id:t,reason:a,rating:n,share_data:r,model_provider:s,advanced_reasoning:c,extended_memory:u,subscription_plan:h})})},X=async(e,t,a,r,o,n,s)=>{let c=await _();await (0,l.customFetch)(`${i.BASE_API}/api/chat/upvote`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`,"conversation-id":e},body:JSON.stringify({message_id:t,message_content:a,model_provider:r,advanced_reasoning:o,extended_memory:n,subscription_plan:s})})},Z=async(e,t,a=0,r=10)=>{let o=await _(),n=await (0,l.customFetch)(`${i.BASE_API}/hub/view_dataframe?df_name=${t}&page_index=${a}&page_size=${r}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`,"conversation-id":e}});return await n.json()},ee=async(e,t,a,r,o)=>{let n=await _(),s=await (0,l.customFetch)(`${i.BASE_API}/hub/delete_row?df_name=${t}&row_index=${a}&page_index=${r}&page_size=${o}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`,"conversation-id":e}});return await s.json()},et=async({conv_id:e,df_name:t,columns_names:a,instructions:r,newColumn:o})=>{let n=await _(),s=await (0,l.customFetch)(`${i.BASE_API}/hub/label_df_with_instructions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`,"conversation-id":e},body:JSON.stringify({df_name:t,instructions:r,columns_names:a,labeling_method:"by_row",new_column:o})});return await s.json()},ea=async({conv_id:e,df_name:t,columns_names:a,instructions:r,newColumn:o,updateData:n,signal:s,null_only:c})=>{try{let u,h=await _(),d=await (0,l.customFetch)(`${i.BASE_API}/hub/label_df_with_instructions_streaming`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`,"conversation-id":e},body:JSON.stringify({df_name:t,instructions:r,columns_names:a,labeling_method:"stream",new_column:o,null_only:c,temperature:0}),signal:s});try{u=d.body.getReader()}catch(e){console.error(e);return}for(;;){let{done:e,value:t}=await u.read();if(e)break;new TextDecoder("utf-8").decode(t).split("\n").forEach(e=>{if(e.length>0){let t=JSON.parse(e);if(t.error)throw t.error;n(t)}})}}catch(e){if("AbortError"===e.name)return;throw console.error(e),e}},er=async({conv_id:e,df_name:t,columns_names:a,instructions:r,newColumn:o})=>{let n=await _(),s=await (0,l.customFetch)(`${i.BASE_API}/hub/label_df_with_instructions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`,"conversation-id":e},body:JSON.stringify({df_name:t,instructions:r,columns_names:a,labeling_method:"preview",temperature:0,new_column:o})});return await s.json()},eo=async({conv_id:e,df_name:t})=>{let a=await _(),r=await (0,l.customFetch)(`${i.BASE_API}/hub/save_df_copy`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,"conversation-id":e},body:JSON.stringify({df_name:t})});return await r.json()},en=async({conversationId:e})=>{let t=await _(),a=await (0,l.customFetch)(`${i.BASE_API}/api/conversation_secrets`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,"conversation-id":e}});return await a.json()},ei=async({conversationId:e,secrets:t})=>{let a=await _(),r=await (0,l.customFetch)(`${i.BASE_API}/api/conversation_secrets`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,"conversation-id":e},body:JSON.stringify({secrets:t})});return await r.json()},es=async({profile:e})=>{let t=await _(),a=await (0,l.customFetch)(`${i.BASE_API}/hub/switch_server_profile`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({profile:e})});return await a.json()},ec=async({messages:e})=>{let t=await _(),a=await (0,l.customFetch)(`${i.BASE_API}/api/chat/explain_code`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({code:e})});return await a.json()},eu=async e=>{let t=await _(),a=await (0,l.customFetch)(`${i.BASE_API}/api/templates`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({template:e})});return await a.json()},el=async e=>{let t=await _(),a=await (0,l.customFetch)(`${i.BASE_API}/api/templates`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,"conversation-id":e}});return await a.json()},eh=async()=>{let e=await _(),t=await (0,l.customFetch)(`${i.BASE_API}/api/templates`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});return await t.json()},ed=async e=>{let t=await _(),a=await (0,l.customFetch)(`${i.BASE_API}/api/templates/${e}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});return await a.json()},ep=async e=>{let t=await _(),a=await (0,l.customFetch)(`${i.BASE_API}/api/chat/transcribe_audio`,{method:"POST",headers:{Authorization:`Bearer ${t}`},body:e});return await a.json()},ew=async e=>{let t=await _(),a=await (0,l.customFetch)(`${i.BASE_API}/api/templates/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}});return await a.json()},ey=async(e,t)=>{let a=await _(),r=await (0,l.customFetch)(`${i.BASE_API}/api/templates/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({...t})});return await r.json()},em=async()=>{let e=await _(),t=await (0,l.customFetch)(`${i.BASE_API}/api/chat/highly_rated_chats`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});return await t.json()},e_=async()=>{let e=await (0,l.customFetch)(`${i.BASE_API}/api/check_connection`,{headers:{"Content-Type":"application/json"}});return await e.json()},eA=async(e,t={temp:0})=>{try{let a=await _(),r=await (0,l.customFetch)(`${i.BASE_API}/api/chat/get_message_suggestions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,"conversation-id":e},body:JSON.stringify(t)}),o=await r.json();if(o?.suggestions)return o.suggestions;return[]}catch(e){return console.error(e),null}},ef=async(e,t,a,r=null,o=null)=>{let n=await _(),s={code:e,message_id:t};r&&(s.instructions=r),o&&(s.schema=o);let c=await (0,l.customFetch)(`${i.BASE_API}/api/cleaning/inspect_graph`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`,"conversation-id":a},body:JSON.stringify(s)});return await c.json()},eE=async(e,t,a)=>{let r=await _(),o=await (0,l.customFetch)(`${i.BASE_API}/api/cleaning/graph`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`,"conversation-id":t},body:JSON.stringify({schema:e,message_id:a})});return await o.json()},eg=async({finalMessageArgs:e,imageURL:t,codeMessageId:a,imageMessageId:r,imageKey:o})=>{let n=await _(),s=await (0,l.customFetch)(`${i.BASE_API}/api/cleaning/edit_message_output`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({final_message_args:e,image_url:t,code_message_id:a,image_message_id:r,image_key:o})});return await s.json()},eS=async(e,t)=>{let a=await _(),r=await (0,l.customFetch)(`${i.BASE_API}/files/dataframe_props?filename=${e}&file_ext=${t}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}});return await r.json()},e$=async(e,t,a="CSV")=>{let r=await _(),o=await (0,l.customFetch)(`${i.BASE_API}/api/cleaning/download_dataframe`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({message_id:e,df_selector_index:t,desired_file_type:a})});return await o.json()},eT=async e=>{let t=await _(),a=await (0,l.customFetch)(`${i.BASE_API}/api/chat/search_conversations_v2`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},method:"POST",body:JSON.stringify({filter:e})});return await a.json()},ej=async(e,t,a)=>{let r=await _(),o=await (0,l.customFetch)(`${i.BASE_API}/api/shakuni/conversations/${e}/plan/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({plan:a})});if(!o.ok)throw await o.json();return await o.json()},eP=async(e,t)=>{let a=await _(),r=await (0,l.customFetch)(`${i.BASE_API}/api/shakuni/conversations/${e}/plan/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}});return await r.json()},eB=async(e,t)=>{let a=await _(),r=await (0,l.customFetch)(`${i.BASE_API}/api/shakuni/conversations/${e}/plan`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({plan:t})});return await r.json()},ev=async(e,t)=>{let a=await _(),r=await (0,l.customFetch)(`${i.BASE_API}/api/shakuni/conversations/${e}/plan/${t}/evaluate`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}});return await r.json()},eO=async(e,t)=>{let a=await _(),r=await (0,l.customFetch)(`${i.BASE_API}/api/shakuni/workflows/${t}/image`,{method:"POST",headers:{Authorization:`Bearer ${a}`},body:e});if(!r.ok)throw Error((await r.json()).message||"Image upload failed");return await r.json()},eb=async({message:e,conversationId:t})=>{let a=await _(),r=await (0,l.customFetch)(`${i.BASE_API}/api/shakuni/insert_message`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({message:e,conversation_id:t})});return await r.json()},eI=async({conversationId:e})=>{let t=await _(),a=await fetch(`${i.BASE_API}/files/save_container_to_storage`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,"Conversation-Id":e}});return await a.json()},eC=async({conversationId:e})=>{let t=await _(),a=await fetch(`${i.BASE_API}/files/load_container_from_storage`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,"Conversation-Id":e}});return await a.json()},eF=async e=>{let t=await _(),a=await (0,l.customFetch)(`${i.BASE_API}/api/data_connectors/conversation_connectors/${e}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,"conversation-id":e}});return await a.json()};return(0,t.jsx)(m.Provider,{value:{getConversationsById:j,getConversations:P,createConversation:I,createSearchConversation:b,getBotMessages:C,deleteConversation:k,patchConversation:R,labelConversation:z,generateOptions:N,getMessagesByConversationId:U,chatStarVote:D,stopGenerating:J,addSourceToConversation:x,deleteSourceFromConvo:L,getLastFunctionMsgTimestamp:G,prepServer:q,getConversation:M,viewFile:Q,setSheetHeaders:W,setPersonalization:K,deleteMessage:H,getTempUserId:V,prepDemoServer:e=>(0,l.customFetch)(`${i.BASE_API}/hub/prep_demo_server`,{method:"POST",headers:{"Content-Type":"application/json","is-demo":e},body:JSON.stringify({use_case:"sales"})}),reportMessage:Y,upvoteMessage:X,viewDataframe:Z,deleteDataframeRow:ee,applyToDataFrameColumns:et,applyToDataFrameColumnsStream:ea,previewApplyToColumn:er,saveDataframeCopy:eo,loadChatSecrets:en,saveChatSecrets:ei,setServerProfile:es,getCodeExplanation:ec,createTemplate:eu,saveAsTemplate:el,getTemplates:eh,getTemplate:ed,deleteTemplate:ew,updateTemplate:ey,getHighlyRatedChats:em,getFileContexts:S,changeConversationPrivacy:O,checkConnection:e_,addUserEvent:F,getMessageSuggestions:eA,getEditableGraphComponents:ef,getGraphComponent:eE,saveGraphEditsToMessage:eg,getDataframeProps:eS,getDownloadDataframeLink:e$,getFilteredConversations:eT,updatePlanForConversation:ej,deletePlanForConversation:eP,createPlanInConversation:eB,evaluateLongTermPlanState:ev,getURLForWorkflowImage:eO,getTranscription:ep,addMessageToHistory:eb,saveExportForConversation:eI,loadSavedExportForConversation:eC,shareConversationWithTeam:v,getTeamsConversationIsSharedWith:B,getTeamConversations:$,getTeamGroupConversations:T,getConnectionsForConversation:eF},children:e})},A=()=>(0,a.useContext)(m)},971804,e=>{"use strict";e.s([]),e.i(989580),e.i(511108)}]);

//# debugId=7369866f-0939-a15b-3b6a-ddfba8f69381
//# sourceMappingURL=f3050c7e93c607e9.js.map